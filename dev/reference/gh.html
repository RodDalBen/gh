<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This is an extremely minimal client. You need to know the API
to be able to use this client. All this function does is:
Try to substitute each listed parameter into endpoint, using the
{parameter} notation.
If a GET request (the default), then add all other listed parameters
as query parameters.
If not a GET request, then send the other parameters in the request
body, as JSON.
Convert the response to an R list using jsonlite::fromJSON().

"><title>Query the GitHub API — gh • gh</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.7/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.7/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Query the GitHub API — gh"><meta property="og:description" content="This is an extremely minimal client. You need to know the API
to be able to use this client. All this function does is:
Try to substitute each listed parameter into endpoint, using the
{parameter} notation.
If a GET request (the default), then add all other listed parameters
as query parameters.
If not a GET request, then send the other parameters in the request
body, as JSON.
Convert the response to an R list using jsonlite::fromJSON().

"><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><script defer data-domain="gh.r-lib.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-none"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">gh</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.4.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/managing-personal-access-tokens.html">Managing Personal Access Tokens</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/r-lib/gh/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Query the GitHub API</h1>
      <small class="dont-index">Source: <a href="https://github.com/r-lib/gh/blob/HEAD/R/gh.R" class="external-link"><code>R/gh.R</code></a></small>
      <div class="d-none name"><code>gh.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This is an extremely minimal client. You need to know the API
to be able to use this client. All this function does is:</p><ul><li><p>Try to substitute each listed parameter into <code>endpoint</code>, using the
<code>{parameter}</code> notation.</p></li>
<li><p>If a GET request (the default), then add all other listed parameters
as query parameters.</p></li>
<li><p>If not a GET request, then send the other parameters in the request
body, as JSON.</p></li>
<li><p>Convert the response to an R list using <code><a href="https://rdrr.io/pkg/jsonlite/man/fromJSON.html" class="external-link">jsonlite::fromJSON()</a></code>.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">gh</span><span class="op">(</span></span>
<span>  <span class="va">endpoint</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  per_page <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .token <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .destfile <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .overwrite <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  .api_url <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .method <span class="op">=</span> <span class="st">"GET"</span>,</span>
<span>  .limit <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .accept <span class="op">=</span> <span class="st">"application/vnd.github.v3+json"</span>,</span>
<span>  .send_headers <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .progress <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  .params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  .max_wait <span class="op">=</span> <span class="fl">600</span>,</span>
<span>  .max_rate <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>endpoint</dt>
<dd><p>GitHub API endpoint. Must be one of the following forms:</p><ul><li><p><code>METHOD path</code>, e.g. <code>GET /rate_limit</code>,</p></li>
<li><p><code>path</code>, e.g. <code>/rate_limit</code>,</p></li>
<li><p><code>METHOD url</code>, e.g. <code>GET https://api.github.com/rate_limit</code>,</p></li>
<li><p><code>url</code>, e.g. <code>https://api.github.com/rate_limit</code>.</p></li>
</ul><p>If the method is not supplied, will use <code>.method</code>, which defaults
to <code>"GET"</code>.</p></dd>


<dt>...</dt>
<dd><p>Name-value pairs giving API parameters. Will be matched into
<code>endpoint</code> placeholders, sent as query parameters in GET requests, and as a
JSON body of POST requests. If there is only one unnamed parameter, and it
is a raw vector, then it will not be JSON encoded, but sent as raw data, as
is. This can be used for example to add assets to releases. Named <code>NULL</code>
values are silently dropped. For GET requests, named <code>NA</code> values trigger an
error. For other methods, named <code>NA</code> values are included in the body of the
request, as JSON <code>null</code>.</p></dd>


<dt>per_page</dt>
<dd><p>Number of items to return per page. If omitted,
will be substituted by <code>max(.limit, 100)</code> if <code>.limit</code> is set,
otherwise determined by the API (never greater than 100).</p></dd>


<dt>.token</dt>
<dd><p>Authentication token. Defaults to <code>GITHUB_PAT</code> or
<code>GITHUB_TOKEN</code> environment variables, in this order if any is set.
See <code><a href="gh_token.html">gh_token()</a></code> if you need more flexibility, e.g. different tokens
for different GitHub Enterprise deployments.</p></dd>


<dt>.destfile</dt>
<dd><p>Path to write response to disk. If <code>NULL</code> (default),
response will be processed and returned as an object. If path is given,
response will be written to disk in the form sent.</p></dd>


<dt>.overwrite</dt>
<dd><p>If <code>.destfile</code> is provided, whether to overwrite an
existing file.  Defaults to <code>FALSE</code>.</p></dd>


<dt>.api_url</dt>
<dd><p>Github API url (default: <a href="https://api.github.com" class="external-link">https://api.github.com</a>). Used
if <code>endpoint</code> just contains a path. Defaults to <code>GITHUB_API_URL</code>
environment variable if set.</p></dd>


<dt>.method</dt>
<dd><p>HTTP method to use if not explicitly supplied in the
<code>endpoint</code>.</p></dd>


<dt>.limit</dt>
<dd><p>Number of records to return. This can be used
instead of manual pagination. By default it is <code>NULL</code>,
which means that the defaults of the GitHub API are used.
You can set it to a number to request more (or less)
records, and also to <code>Inf</code> to request all records.
Note, that if you request many records, then multiple GitHub
API calls are used to get them, and this can take a potentially
long time.</p></dd>


<dt>.accept</dt>
<dd><p>The value of the <code>Accept</code> HTTP header. Defaults to
<code>"application/vnd.github.v3+json"</code> . If <code>Accept</code> is given in
<code>.send_headers</code>, then that will be used. This parameter can be used to
provide a custom media type, in order to access a preview feature of
the API.</p></dd>


<dt>.send_headers</dt>
<dd><p>Named character vector of header field values
(except <code>Authorization</code>, which is handled via <code>.token</code>). This can be
used to override or augment the default <code>User-Agent</code> header:
<code>"https://github.com/r-lib/gh"</code>.</p></dd>


<dt>.progress</dt>
<dd><p>Whether to show a progress indicator for calls that
need more than one HTTP request.</p></dd>


<dt>.params</dt>
<dd><p>Additional list of parameters to append to <code>...</code>.
It is easier to use this than <code>...</code> if you have your parameters in
a list already.</p></dd>


<dt>.max_wait</dt>
<dd><p>Maximum number of seconds to wait if rate limited.
Defaults to 10 minutes.</p></dd>


<dt>.max_rate</dt>
<dd><p>Maximum request rate in requests per second. Set
this to automatically throttle requests.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>Answer from the API as a <code>gh_response</code> object, which is also a
<code>list</code>. Failed requests will generate an R error. Requests that
generate a raw response will return a raw vector.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="gh_gql.html">gh_gql()</a></code> if you want to use the GitHub GraphQL API,
<code><a href="gh_whoami.html">gh_whoami()</a></code> for details on GitHub API token management.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## Repositories of a user, these are equivalent</span></span></span>
<span class="r-in"><span><span class="fu">gh</span><span class="op">(</span><span class="st">"/users/hadley/repos"</span>, .limit <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 40423928,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "MDEwOlJlcG9zaXRvcnk0MDQyMzkyOA==",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "name": "15-state-of-the-union",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "full_name": "hadley/15-state-of-the-union",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "private": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "owner": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "hadley",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 4196,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjQxOTY=",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/4196?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/hadley",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/hadley",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/hadley/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/hadley/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/hadley/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/hadley/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/hadley/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/hadley/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/hadley/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/hadley/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/hadley/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/hadley/15-state-of-the-union",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "description": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "fork": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/hadley/15-state-of-the-union",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "forks_url": "https://api.github.com/repos/hadley/15-state-of-the-union/forks",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "keys_url": "https://api.github.com/repos/hadley/15-state-of-the-union/keys{/key_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "collaborators_url": "https://api.github.com/repos/hadley/15-state-of-the-union/collaborators{/collaborator}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "teams_url": "https://api.github.com/repos/hadley/15-state-of-the-union/teams",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "hooks_url": "https://api.github.com/repos/hadley/15-state-of-the-union/hooks",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "issue_events_url": "https://api.github.com/repos/hadley/15-state-of-the-union/issues/events{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/hadley/15-state-of-the-union/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees_url": "https://api.github.com/repos/hadley/15-state-of-the-union/assignees{/user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "branches_url": "https://api.github.com/repos/hadley/15-state-of-the-union/branches{/branch}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "tags_url": "https://api.github.com/repos/hadley/15-state-of-the-union/tags",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "blobs_url": "https://api.github.com/repos/hadley/15-state-of-the-union/git/blobs{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "git_tags_url": "https://api.github.com/repos/hadley/15-state-of-the-union/git/tags{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "git_refs_url": "https://api.github.com/repos/hadley/15-state-of-the-union/git/refs{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "trees_url": "https://api.github.com/repos/hadley/15-state-of-the-union/git/trees{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "statuses_url": "https://api.github.com/repos/hadley/15-state-of-the-union/statuses/{sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "languages_url": "https://api.github.com/repos/hadley/15-state-of-the-union/languages",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "stargazers_url": "https://api.github.com/repos/hadley/15-state-of-the-union/stargazers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "contributors_url": "https://api.github.com/repos/hadley/15-state-of-the-union/contributors",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "subscribers_url": "https://api.github.com/repos/hadley/15-state-of-the-union/subscribers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "subscription_url": "https://api.github.com/repos/hadley/15-state-of-the-union/subscription",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "commits_url": "https://api.github.com/repos/hadley/15-state-of-the-union/commits{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "git_commits_url": "https://api.github.com/repos/hadley/15-state-of-the-union/git/commits{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/hadley/15-state-of-the-union/comments{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "issue_comment_url": "https://api.github.com/repos/hadley/15-state-of-the-union/issues/comments{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "contents_url": "https://api.github.com/repos/hadley/15-state-of-the-union/contents/{+path}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "compare_url": "https://api.github.com/repos/hadley/15-state-of-the-union/compare/{base}...{head}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "merges_url": "https://api.github.com/repos/hadley/15-state-of-the-union/merges",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "archive_url": "https://api.github.com/repos/hadley/15-state-of-the-union/{archive_format}{/ref}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "downloads_url": "https://api.github.com/repos/hadley/15-state-of-the-union/downloads",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "issues_url": "https://api.github.com/repos/hadley/15-state-of-the-union/issues{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "pulls_url": "https://api.github.com/repos/hadley/15-state-of-the-union/pulls{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestones_url": "https://api.github.com/repos/hadley/15-state-of-the-union/milestones{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "notifications_url": "https://api.github.com/repos/hadley/15-state-of-the-union/notifications{?since,all,participating}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/hadley/15-state-of-the-union/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "releases_url": "https://api.github.com/repos/hadley/15-state-of-the-union/releases{/id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "deployments_url": "https://api.github.com/repos/hadley/15-state-of-the-union/deployments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2015-08-09T03:22:26Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2022-12-31T01:27:52Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "pushed_at": "2015-08-10T20:29:10Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "git_url": "git://github.com/hadley/15-state-of-the-union.git",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "ssh_url": "git@github.com:hadley/15-state-of-the-union.git",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "clone_url": "https://github.com/hadley/15-state-of-the-union.git",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "svn_url": "https://github.com/hadley/15-state-of-the-union",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "homepage": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "size": 4519,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "stargazers_count": 22,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "watchers_count": 22,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "language": "R",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_issues": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_projects": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_downloads": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_wiki": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_pages": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_discussions": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "forks_count": 7,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "mirror_url": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "archived": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "disabled": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "open_issues_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "license": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "allow_forking": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "is_template": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "web_commit_signoff_required": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "topics": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "visibility": "public",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "forks": 7,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "open_issues": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "watchers": 22,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "default_branch": "master",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "permissions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "admin": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "maintain": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "push": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "triage": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "pull": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 40544418,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "MDEwOlJlcG9zaXRvcnk0MDU0NDQxOA==",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "name": "15-student-papers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "full_name": "hadley/15-student-papers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "private": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "owner": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "hadley",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 4196,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjQxOTY=",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/4196?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/hadley",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/hadley",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/hadley/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/hadley/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/hadley/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/hadley/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/hadley/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/hadley/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/hadley/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/hadley/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/hadley/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/hadley/15-student-papers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "description": "Graphics &amp; computing student paper winners @ JSM 2015",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "fork": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/hadley/15-student-papers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "forks_url": "https://api.github.com/repos/hadley/15-student-papers/forks",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "keys_url": "https://api.github.com/repos/hadley/15-student-papers/keys{/key_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "collaborators_url": "https://api.github.com/repos/hadley/15-student-papers/collaborators{/collaborator}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "teams_url": "https://api.github.com/repos/hadley/15-student-papers/teams",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "hooks_url": "https://api.github.com/repos/hadley/15-student-papers/hooks",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "issue_events_url": "https://api.github.com/repos/hadley/15-student-papers/issues/events{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/hadley/15-student-papers/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees_url": "https://api.github.com/repos/hadley/15-student-papers/assignees{/user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "branches_url": "https://api.github.com/repos/hadley/15-student-papers/branches{/branch}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "tags_url": "https://api.github.com/repos/hadley/15-student-papers/tags",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "blobs_url": "https://api.github.com/repos/hadley/15-student-papers/git/blobs{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "git_tags_url": "https://api.github.com/repos/hadley/15-student-papers/git/tags{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "git_refs_url": "https://api.github.com/repos/hadley/15-student-papers/git/refs{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "trees_url": "https://api.github.com/repos/hadley/15-student-papers/git/trees{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "statuses_url": "https://api.github.com/repos/hadley/15-student-papers/statuses/{sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "languages_url": "https://api.github.com/repos/hadley/15-student-papers/languages",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "stargazers_url": "https://api.github.com/repos/hadley/15-student-papers/stargazers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "contributors_url": "https://api.github.com/repos/hadley/15-student-papers/contributors",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "subscribers_url": "https://api.github.com/repos/hadley/15-student-papers/subscribers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "subscription_url": "https://api.github.com/repos/hadley/15-student-papers/subscription",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "commits_url": "https://api.github.com/repos/hadley/15-student-papers/commits{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "git_commits_url": "https://api.github.com/repos/hadley/15-student-papers/git/commits{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/hadley/15-student-papers/comments{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "issue_comment_url": "https://api.github.com/repos/hadley/15-student-papers/issues/comments{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "contents_url": "https://api.github.com/repos/hadley/15-student-papers/contents/{+path}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "compare_url": "https://api.github.com/repos/hadley/15-student-papers/compare/{base}...{head}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "merges_url": "https://api.github.com/repos/hadley/15-student-papers/merges",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "archive_url": "https://api.github.com/repos/hadley/15-student-papers/{archive_format}{/ref}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "downloads_url": "https://api.github.com/repos/hadley/15-student-papers/downloads",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "issues_url": "https://api.github.com/repos/hadley/15-student-papers/issues{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "pulls_url": "https://api.github.com/repos/hadley/15-student-papers/pulls{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestones_url": "https://api.github.com/repos/hadley/15-student-papers/milestones{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "notifications_url": "https://api.github.com/repos/hadley/15-student-papers/notifications{?since,all,participating}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/hadley/15-student-papers/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "releases_url": "https://api.github.com/repos/hadley/15-student-papers/releases{/id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "deployments_url": "https://api.github.com/repos/hadley/15-student-papers/deployments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2015-08-11T13:51:29Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2019-08-18T16:49:40Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "pushed_at": "2015-08-21T15:27:51Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "git_url": "git://github.com/hadley/15-student-papers.git",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "ssh_url": "git@github.com:hadley/15-student-papers.git",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "clone_url": "https://github.com/hadley/15-student-papers.git",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "svn_url": "https://github.com/hadley/15-student-papers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "homepage": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "size": 2956,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "stargazers_count": 14,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "watchers_count": 14,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "language": "R",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_issues": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_projects": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_downloads": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_wiki": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_pages": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_discussions": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "forks_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "mirror_url": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "archived": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "disabled": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "open_issues_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "license": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "allow_forking": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "is_template": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "web_commit_signoff_required": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "topics": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "visibility": "public",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "forks": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "open_issues": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "watchers": 14,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "default_branch": "master",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "permissions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "admin": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "maintain": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "push": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "triage": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "pull": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ] </span>
<span class="r-in"><span><span class="fu">gh</span><span class="op">(</span><span class="st">"/users/{username}/repos"</span>, username <span class="op">=</span> <span class="st">"hadley"</span>, .limit <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 40423928,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "MDEwOlJlcG9zaXRvcnk0MDQyMzkyOA==",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "name": "15-state-of-the-union",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "full_name": "hadley/15-state-of-the-union",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "private": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "owner": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "hadley",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 4196,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjQxOTY=",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/4196?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/hadley",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/hadley",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/hadley/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/hadley/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/hadley/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/hadley/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/hadley/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/hadley/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/hadley/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/hadley/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/hadley/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/hadley/15-state-of-the-union",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "description": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "fork": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/hadley/15-state-of-the-union",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "forks_url": "https://api.github.com/repos/hadley/15-state-of-the-union/forks",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "keys_url": "https://api.github.com/repos/hadley/15-state-of-the-union/keys{/key_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "collaborators_url": "https://api.github.com/repos/hadley/15-state-of-the-union/collaborators{/collaborator}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "teams_url": "https://api.github.com/repos/hadley/15-state-of-the-union/teams",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "hooks_url": "https://api.github.com/repos/hadley/15-state-of-the-union/hooks",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "issue_events_url": "https://api.github.com/repos/hadley/15-state-of-the-union/issues/events{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/hadley/15-state-of-the-union/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees_url": "https://api.github.com/repos/hadley/15-state-of-the-union/assignees{/user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "branches_url": "https://api.github.com/repos/hadley/15-state-of-the-union/branches{/branch}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "tags_url": "https://api.github.com/repos/hadley/15-state-of-the-union/tags",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "blobs_url": "https://api.github.com/repos/hadley/15-state-of-the-union/git/blobs{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "git_tags_url": "https://api.github.com/repos/hadley/15-state-of-the-union/git/tags{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "git_refs_url": "https://api.github.com/repos/hadley/15-state-of-the-union/git/refs{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "trees_url": "https://api.github.com/repos/hadley/15-state-of-the-union/git/trees{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "statuses_url": "https://api.github.com/repos/hadley/15-state-of-the-union/statuses/{sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "languages_url": "https://api.github.com/repos/hadley/15-state-of-the-union/languages",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "stargazers_url": "https://api.github.com/repos/hadley/15-state-of-the-union/stargazers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "contributors_url": "https://api.github.com/repos/hadley/15-state-of-the-union/contributors",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "subscribers_url": "https://api.github.com/repos/hadley/15-state-of-the-union/subscribers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "subscription_url": "https://api.github.com/repos/hadley/15-state-of-the-union/subscription",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "commits_url": "https://api.github.com/repos/hadley/15-state-of-the-union/commits{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "git_commits_url": "https://api.github.com/repos/hadley/15-state-of-the-union/git/commits{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/hadley/15-state-of-the-union/comments{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "issue_comment_url": "https://api.github.com/repos/hadley/15-state-of-the-union/issues/comments{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "contents_url": "https://api.github.com/repos/hadley/15-state-of-the-union/contents/{+path}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "compare_url": "https://api.github.com/repos/hadley/15-state-of-the-union/compare/{base}...{head}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "merges_url": "https://api.github.com/repos/hadley/15-state-of-the-union/merges",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "archive_url": "https://api.github.com/repos/hadley/15-state-of-the-union/{archive_format}{/ref}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "downloads_url": "https://api.github.com/repos/hadley/15-state-of-the-union/downloads",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "issues_url": "https://api.github.com/repos/hadley/15-state-of-the-union/issues{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "pulls_url": "https://api.github.com/repos/hadley/15-state-of-the-union/pulls{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestones_url": "https://api.github.com/repos/hadley/15-state-of-the-union/milestones{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "notifications_url": "https://api.github.com/repos/hadley/15-state-of-the-union/notifications{?since,all,participating}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/hadley/15-state-of-the-union/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "releases_url": "https://api.github.com/repos/hadley/15-state-of-the-union/releases{/id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "deployments_url": "https://api.github.com/repos/hadley/15-state-of-the-union/deployments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2015-08-09T03:22:26Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2022-12-31T01:27:52Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "pushed_at": "2015-08-10T20:29:10Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "git_url": "git://github.com/hadley/15-state-of-the-union.git",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "ssh_url": "git@github.com:hadley/15-state-of-the-union.git",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "clone_url": "https://github.com/hadley/15-state-of-the-union.git",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "svn_url": "https://github.com/hadley/15-state-of-the-union",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "homepage": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "size": 4519,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "stargazers_count": 22,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "watchers_count": 22,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "language": "R",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_issues": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_projects": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_downloads": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_wiki": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_pages": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_discussions": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "forks_count": 7,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "mirror_url": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "archived": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "disabled": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "open_issues_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "license": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "allow_forking": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "is_template": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "web_commit_signoff_required": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "topics": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "visibility": "public",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "forks": 7,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "open_issues": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "watchers": 22,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "default_branch": "master",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "permissions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "admin": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "maintain": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "push": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "triage": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "pull": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 40544418,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "MDEwOlJlcG9zaXRvcnk0MDU0NDQxOA==",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "name": "15-student-papers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "full_name": "hadley/15-student-papers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "private": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "owner": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "hadley",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 4196,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjQxOTY=",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/4196?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/hadley",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/hadley",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/hadley/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/hadley/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/hadley/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/hadley/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/hadley/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/hadley/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/hadley/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/hadley/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/hadley/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/hadley/15-student-papers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "description": "Graphics &amp; computing student paper winners @ JSM 2015",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "fork": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/hadley/15-student-papers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "forks_url": "https://api.github.com/repos/hadley/15-student-papers/forks",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "keys_url": "https://api.github.com/repos/hadley/15-student-papers/keys{/key_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "collaborators_url": "https://api.github.com/repos/hadley/15-student-papers/collaborators{/collaborator}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "teams_url": "https://api.github.com/repos/hadley/15-student-papers/teams",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "hooks_url": "https://api.github.com/repos/hadley/15-student-papers/hooks",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "issue_events_url": "https://api.github.com/repos/hadley/15-student-papers/issues/events{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/hadley/15-student-papers/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees_url": "https://api.github.com/repos/hadley/15-student-papers/assignees{/user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "branches_url": "https://api.github.com/repos/hadley/15-student-papers/branches{/branch}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "tags_url": "https://api.github.com/repos/hadley/15-student-papers/tags",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "blobs_url": "https://api.github.com/repos/hadley/15-student-papers/git/blobs{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "git_tags_url": "https://api.github.com/repos/hadley/15-student-papers/git/tags{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "git_refs_url": "https://api.github.com/repos/hadley/15-student-papers/git/refs{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "trees_url": "https://api.github.com/repos/hadley/15-student-papers/git/trees{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "statuses_url": "https://api.github.com/repos/hadley/15-student-papers/statuses/{sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "languages_url": "https://api.github.com/repos/hadley/15-student-papers/languages",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "stargazers_url": "https://api.github.com/repos/hadley/15-student-papers/stargazers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "contributors_url": "https://api.github.com/repos/hadley/15-student-papers/contributors",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "subscribers_url": "https://api.github.com/repos/hadley/15-student-papers/subscribers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "subscription_url": "https://api.github.com/repos/hadley/15-student-papers/subscription",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "commits_url": "https://api.github.com/repos/hadley/15-student-papers/commits{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "git_commits_url": "https://api.github.com/repos/hadley/15-student-papers/git/commits{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/hadley/15-student-papers/comments{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "issue_comment_url": "https://api.github.com/repos/hadley/15-student-papers/issues/comments{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "contents_url": "https://api.github.com/repos/hadley/15-student-papers/contents/{+path}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "compare_url": "https://api.github.com/repos/hadley/15-student-papers/compare/{base}...{head}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "merges_url": "https://api.github.com/repos/hadley/15-student-papers/merges",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "archive_url": "https://api.github.com/repos/hadley/15-student-papers/{archive_format}{/ref}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "downloads_url": "https://api.github.com/repos/hadley/15-student-papers/downloads",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "issues_url": "https://api.github.com/repos/hadley/15-student-papers/issues{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "pulls_url": "https://api.github.com/repos/hadley/15-student-papers/pulls{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestones_url": "https://api.github.com/repos/hadley/15-student-papers/milestones{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "notifications_url": "https://api.github.com/repos/hadley/15-student-papers/notifications{?since,all,participating}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/hadley/15-student-papers/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "releases_url": "https://api.github.com/repos/hadley/15-student-papers/releases{/id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "deployments_url": "https://api.github.com/repos/hadley/15-student-papers/deployments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2015-08-11T13:51:29Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2019-08-18T16:49:40Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "pushed_at": "2015-08-21T15:27:51Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "git_url": "git://github.com/hadley/15-student-papers.git",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "ssh_url": "git@github.com:hadley/15-student-papers.git",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "clone_url": "https://github.com/hadley/15-student-papers.git",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "svn_url": "https://github.com/hadley/15-student-papers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "homepage": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "size": 2956,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "stargazers_count": 14,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "watchers_count": 14,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "language": "R",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_issues": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_projects": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_downloads": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_wiki": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_pages": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_discussions": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "forks_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "mirror_url": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "archived": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "disabled": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "open_issues_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "license": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "allow_forking": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "is_template": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "web_commit_signoff_required": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "topics": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "visibility": "public",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "forks": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "open_issues": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "watchers": 14,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "default_branch": "master",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "permissions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "admin": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "maintain": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "push": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "triage": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "pull": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ] </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Starred repositories of a user</span></span></span>
<span class="r-in"><span><span class="fu">gh</span><span class="op">(</span><span class="st">"/users/hadley/starred"</span>, .limit <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 390115983,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "MDEwOlJlcG9zaXRvcnkzOTAxMTU5ODM=",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "name": "py-shiny",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "full_name": "rstudio/py-shiny",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "private": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "owner": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "rstudio",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 513560,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDEyOk9yZ2FuaXphdGlvbjUxMzU2MA==",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/513560?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/rstudio",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/rstudio",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/rstudio/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/rstudio/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/rstudio/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/rstudio/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/rstudio/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/rstudio/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/rstudio/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/rstudio/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/rstudio/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "Organization",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/rstudio/py-shiny",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "description": "Shiny for Python",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "fork": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/rstudio/py-shiny",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "forks_url": "https://api.github.com/repos/rstudio/py-shiny/forks",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "keys_url": "https://api.github.com/repos/rstudio/py-shiny/keys{/key_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "collaborators_url": "https://api.github.com/repos/rstudio/py-shiny/collaborators{/collaborator}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "teams_url": "https://api.github.com/repos/rstudio/py-shiny/teams",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "hooks_url": "https://api.github.com/repos/rstudio/py-shiny/hooks",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "issue_events_url": "https://api.github.com/repos/rstudio/py-shiny/issues/events{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/rstudio/py-shiny/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees_url": "https://api.github.com/repos/rstudio/py-shiny/assignees{/user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "branches_url": "https://api.github.com/repos/rstudio/py-shiny/branches{/branch}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "tags_url": "https://api.github.com/repos/rstudio/py-shiny/tags",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "blobs_url": "https://api.github.com/repos/rstudio/py-shiny/git/blobs{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "git_tags_url": "https://api.github.com/repos/rstudio/py-shiny/git/tags{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "git_refs_url": "https://api.github.com/repos/rstudio/py-shiny/git/refs{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "trees_url": "https://api.github.com/repos/rstudio/py-shiny/git/trees{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "statuses_url": "https://api.github.com/repos/rstudio/py-shiny/statuses/{sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "languages_url": "https://api.github.com/repos/rstudio/py-shiny/languages",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "stargazers_url": "https://api.github.com/repos/rstudio/py-shiny/stargazers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "contributors_url": "https://api.github.com/repos/rstudio/py-shiny/contributors",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "subscribers_url": "https://api.github.com/repos/rstudio/py-shiny/subscribers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "subscription_url": "https://api.github.com/repos/rstudio/py-shiny/subscription",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "commits_url": "https://api.github.com/repos/rstudio/py-shiny/commits{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "git_commits_url": "https://api.github.com/repos/rstudio/py-shiny/git/commits{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/rstudio/py-shiny/comments{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "issue_comment_url": "https://api.github.com/repos/rstudio/py-shiny/issues/comments{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "contents_url": "https://api.github.com/repos/rstudio/py-shiny/contents/{+path}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "compare_url": "https://api.github.com/repos/rstudio/py-shiny/compare/{base}...{head}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "merges_url": "https://api.github.com/repos/rstudio/py-shiny/merges",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "archive_url": "https://api.github.com/repos/rstudio/py-shiny/{archive_format}{/ref}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "downloads_url": "https://api.github.com/repos/rstudio/py-shiny/downloads",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "issues_url": "https://api.github.com/repos/rstudio/py-shiny/issues{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "pulls_url": "https://api.github.com/repos/rstudio/py-shiny/pulls{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestones_url": "https://api.github.com/repos/rstudio/py-shiny/milestones{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "notifications_url": "https://api.github.com/repos/rstudio/py-shiny/notifications{?since,all,participating}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/rstudio/py-shiny/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "releases_url": "https://api.github.com/repos/rstudio/py-shiny/releases{/id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "deployments_url": "https://api.github.com/repos/rstudio/py-shiny/deployments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2021-07-27T20:19:49Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-07-20T08:23:16Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "pushed_at": "2023-07-20T19:55:46Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "git_url": "git://github.com/rstudio/py-shiny.git",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "ssh_url": "git@github.com:rstudio/py-shiny.git",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "clone_url": "https://github.com/rstudio/py-shiny.git",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "svn_url": "https://github.com/rstudio/py-shiny",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "homepage": "https://shiny.posit.co/py/",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "size": 11703,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "stargazers_count": 552,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "watchers_count": 552,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "language": "Python",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_issues": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_projects": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_downloads": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_wiki": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_pages": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_discussions": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "forks_count": 34,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "mirror_url": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "archived": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "disabled": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "open_issues_count": 171,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "license": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "key": "mit",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "name": "MIT License",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "spdx_id": "MIT",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/licenses/mit",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDc6TGljZW5zZTEz"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "allow_forking": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "is_template": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "web_commit_signoff_required": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "topics": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "visibility": "public",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "forks": 34,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "open_issues": 171,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "watchers": 552,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "default_branch": "main",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "permissions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "admin": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "maintain": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "push": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "triage": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "pull": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 10221246,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "MDEwOlJlcG9zaXRvcnkxMDIyMTI0Ng==",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "name": "bigrquery",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "full_name": "r-dbi/bigrquery",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "private": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "owner": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "r-dbi",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 5695665,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDEyOk9yZ2FuaXphdGlvbjU2OTU2NjU=",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/5695665?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/r-dbi",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/r-dbi",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/r-dbi/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/r-dbi/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/r-dbi/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/r-dbi/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/r-dbi/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/r-dbi/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/r-dbi/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/r-dbi/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/r-dbi/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "Organization",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/r-dbi/bigrquery",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "description": "An interface to Google's BigQuery from R.",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "fork": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/r-dbi/bigrquery",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "forks_url": "https://api.github.com/repos/r-dbi/bigrquery/forks",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "keys_url": "https://api.github.com/repos/r-dbi/bigrquery/keys{/key_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "collaborators_url": "https://api.github.com/repos/r-dbi/bigrquery/collaborators{/collaborator}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "teams_url": "https://api.github.com/repos/r-dbi/bigrquery/teams",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "hooks_url": "https://api.github.com/repos/r-dbi/bigrquery/hooks",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "issue_events_url": "https://api.github.com/repos/r-dbi/bigrquery/issues/events{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/r-dbi/bigrquery/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees_url": "https://api.github.com/repos/r-dbi/bigrquery/assignees{/user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "branches_url": "https://api.github.com/repos/r-dbi/bigrquery/branches{/branch}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "tags_url": "https://api.github.com/repos/r-dbi/bigrquery/tags",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "blobs_url": "https://api.github.com/repos/r-dbi/bigrquery/git/blobs{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "git_tags_url": "https://api.github.com/repos/r-dbi/bigrquery/git/tags{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "git_refs_url": "https://api.github.com/repos/r-dbi/bigrquery/git/refs{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "trees_url": "https://api.github.com/repos/r-dbi/bigrquery/git/trees{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "statuses_url": "https://api.github.com/repos/r-dbi/bigrquery/statuses/{sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "languages_url": "https://api.github.com/repos/r-dbi/bigrquery/languages",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "stargazers_url": "https://api.github.com/repos/r-dbi/bigrquery/stargazers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "contributors_url": "https://api.github.com/repos/r-dbi/bigrquery/contributors",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "subscribers_url": "https://api.github.com/repos/r-dbi/bigrquery/subscribers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "subscription_url": "https://api.github.com/repos/r-dbi/bigrquery/subscription",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "commits_url": "https://api.github.com/repos/r-dbi/bigrquery/commits{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "git_commits_url": "https://api.github.com/repos/r-dbi/bigrquery/git/commits{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/r-dbi/bigrquery/comments{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "issue_comment_url": "https://api.github.com/repos/r-dbi/bigrquery/issues/comments{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "contents_url": "https://api.github.com/repos/r-dbi/bigrquery/contents/{+path}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "compare_url": "https://api.github.com/repos/r-dbi/bigrquery/compare/{base}...{head}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "merges_url": "https://api.github.com/repos/r-dbi/bigrquery/merges",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "archive_url": "https://api.github.com/repos/r-dbi/bigrquery/{archive_format}{/ref}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "downloads_url": "https://api.github.com/repos/r-dbi/bigrquery/downloads",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "issues_url": "https://api.github.com/repos/r-dbi/bigrquery/issues{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "pulls_url": "https://api.github.com/repos/r-dbi/bigrquery/pulls{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestones_url": "https://api.github.com/repos/r-dbi/bigrquery/milestones{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "notifications_url": "https://api.github.com/repos/r-dbi/bigrquery/notifications{?since,all,participating}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/r-dbi/bigrquery/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "releases_url": "https://api.github.com/repos/r-dbi/bigrquery/releases{/id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "deployments_url": "https://api.github.com/repos/r-dbi/bigrquery/deployments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2013-05-22T14:04:16Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-07-13T05:53:58Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "pushed_at": "2023-07-08T17:32:26Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "git_url": "git://github.com/r-dbi/bigrquery.git",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "ssh_url": "git@github.com:r-dbi/bigrquery.git",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "clone_url": "https://github.com/r-dbi/bigrquery.git",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "svn_url": "https://github.com/r-dbi/bigrquery",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "homepage": "https://bigrquery.r-dbi.org",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "size": 1757,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "stargazers_count": 492,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "watchers_count": 492,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "language": "R",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_issues": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_projects": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_downloads": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_wiki": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_pages": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_discussions": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "forks_count": 179,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "mirror_url": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "archived": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "disabled": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "open_issues_count": 84,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "license": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "key": "gpl-3.0",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "name": "GNU General Public License v3.0",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "spdx_id": "GPL-3.0",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/licenses/gpl-3.0",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDc6TGljZW5zZTk="</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "allow_forking": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "is_template": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "web_commit_signoff_required": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "topics": [</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "bigquery",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "database",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "r"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "visibility": "public",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "forks": 179,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "open_issues": 84,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "watchers": 492,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "default_branch": "main",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "permissions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "admin": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "maintain": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "push": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "triage": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "pull": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ] </span>
<span class="r-in"><span><span class="fu">gh</span><span class="op">(</span><span class="st">"/users/{username}/starred"</span>, username <span class="op">=</span> <span class="st">"hadley"</span>, .limit <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 390115983,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "MDEwOlJlcG9zaXRvcnkzOTAxMTU5ODM=",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "name": "py-shiny",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "full_name": "rstudio/py-shiny",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "private": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "owner": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "rstudio",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 513560,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDEyOk9yZ2FuaXphdGlvbjUxMzU2MA==",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/513560?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/rstudio",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/rstudio",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/rstudio/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/rstudio/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/rstudio/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/rstudio/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/rstudio/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/rstudio/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/rstudio/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/rstudio/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/rstudio/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "Organization",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/rstudio/py-shiny",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "description": "Shiny for Python",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "fork": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/rstudio/py-shiny",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "forks_url": "https://api.github.com/repos/rstudio/py-shiny/forks",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "keys_url": "https://api.github.com/repos/rstudio/py-shiny/keys{/key_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "collaborators_url": "https://api.github.com/repos/rstudio/py-shiny/collaborators{/collaborator}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "teams_url": "https://api.github.com/repos/rstudio/py-shiny/teams",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "hooks_url": "https://api.github.com/repos/rstudio/py-shiny/hooks",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "issue_events_url": "https://api.github.com/repos/rstudio/py-shiny/issues/events{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/rstudio/py-shiny/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees_url": "https://api.github.com/repos/rstudio/py-shiny/assignees{/user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "branches_url": "https://api.github.com/repos/rstudio/py-shiny/branches{/branch}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "tags_url": "https://api.github.com/repos/rstudio/py-shiny/tags",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "blobs_url": "https://api.github.com/repos/rstudio/py-shiny/git/blobs{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "git_tags_url": "https://api.github.com/repos/rstudio/py-shiny/git/tags{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "git_refs_url": "https://api.github.com/repos/rstudio/py-shiny/git/refs{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "trees_url": "https://api.github.com/repos/rstudio/py-shiny/git/trees{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "statuses_url": "https://api.github.com/repos/rstudio/py-shiny/statuses/{sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "languages_url": "https://api.github.com/repos/rstudio/py-shiny/languages",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "stargazers_url": "https://api.github.com/repos/rstudio/py-shiny/stargazers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "contributors_url": "https://api.github.com/repos/rstudio/py-shiny/contributors",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "subscribers_url": "https://api.github.com/repos/rstudio/py-shiny/subscribers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "subscription_url": "https://api.github.com/repos/rstudio/py-shiny/subscription",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "commits_url": "https://api.github.com/repos/rstudio/py-shiny/commits{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "git_commits_url": "https://api.github.com/repos/rstudio/py-shiny/git/commits{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/rstudio/py-shiny/comments{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "issue_comment_url": "https://api.github.com/repos/rstudio/py-shiny/issues/comments{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "contents_url": "https://api.github.com/repos/rstudio/py-shiny/contents/{+path}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "compare_url": "https://api.github.com/repos/rstudio/py-shiny/compare/{base}...{head}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "merges_url": "https://api.github.com/repos/rstudio/py-shiny/merges",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "archive_url": "https://api.github.com/repos/rstudio/py-shiny/{archive_format}{/ref}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "downloads_url": "https://api.github.com/repos/rstudio/py-shiny/downloads",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "issues_url": "https://api.github.com/repos/rstudio/py-shiny/issues{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "pulls_url": "https://api.github.com/repos/rstudio/py-shiny/pulls{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestones_url": "https://api.github.com/repos/rstudio/py-shiny/milestones{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "notifications_url": "https://api.github.com/repos/rstudio/py-shiny/notifications{?since,all,participating}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/rstudio/py-shiny/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "releases_url": "https://api.github.com/repos/rstudio/py-shiny/releases{/id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "deployments_url": "https://api.github.com/repos/rstudio/py-shiny/deployments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2021-07-27T20:19:49Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-07-20T08:23:16Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "pushed_at": "2023-07-20T19:55:46Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "git_url": "git://github.com/rstudio/py-shiny.git",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "ssh_url": "git@github.com:rstudio/py-shiny.git",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "clone_url": "https://github.com/rstudio/py-shiny.git",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "svn_url": "https://github.com/rstudio/py-shiny",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "homepage": "https://shiny.posit.co/py/",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "size": 11703,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "stargazers_count": 552,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "watchers_count": 552,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "language": "Python",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_issues": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_projects": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_downloads": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_wiki": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_pages": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_discussions": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "forks_count": 34,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "mirror_url": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "archived": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "disabled": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "open_issues_count": 171,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "license": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "key": "mit",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "name": "MIT License",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "spdx_id": "MIT",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/licenses/mit",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDc6TGljZW5zZTEz"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "allow_forking": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "is_template": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "web_commit_signoff_required": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "topics": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "visibility": "public",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "forks": 34,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "open_issues": 171,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "watchers": 552,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "default_branch": "main",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "permissions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "admin": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "maintain": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "push": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "triage": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "pull": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 10221246,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "MDEwOlJlcG9zaXRvcnkxMDIyMTI0Ng==",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "name": "bigrquery",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "full_name": "r-dbi/bigrquery",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "private": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "owner": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "r-dbi",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 5695665,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDEyOk9yZ2FuaXphdGlvbjU2OTU2NjU=",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/5695665?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/r-dbi",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/r-dbi",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/r-dbi/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/r-dbi/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/r-dbi/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/r-dbi/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/r-dbi/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/r-dbi/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/r-dbi/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/r-dbi/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/r-dbi/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "Organization",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/r-dbi/bigrquery",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "description": "An interface to Google's BigQuery from R.",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "fork": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/r-dbi/bigrquery",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "forks_url": "https://api.github.com/repos/r-dbi/bigrquery/forks",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "keys_url": "https://api.github.com/repos/r-dbi/bigrquery/keys{/key_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "collaborators_url": "https://api.github.com/repos/r-dbi/bigrquery/collaborators{/collaborator}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "teams_url": "https://api.github.com/repos/r-dbi/bigrquery/teams",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "hooks_url": "https://api.github.com/repos/r-dbi/bigrquery/hooks",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "issue_events_url": "https://api.github.com/repos/r-dbi/bigrquery/issues/events{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/r-dbi/bigrquery/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees_url": "https://api.github.com/repos/r-dbi/bigrquery/assignees{/user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "branches_url": "https://api.github.com/repos/r-dbi/bigrquery/branches{/branch}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "tags_url": "https://api.github.com/repos/r-dbi/bigrquery/tags",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "blobs_url": "https://api.github.com/repos/r-dbi/bigrquery/git/blobs{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "git_tags_url": "https://api.github.com/repos/r-dbi/bigrquery/git/tags{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "git_refs_url": "https://api.github.com/repos/r-dbi/bigrquery/git/refs{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "trees_url": "https://api.github.com/repos/r-dbi/bigrquery/git/trees{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "statuses_url": "https://api.github.com/repos/r-dbi/bigrquery/statuses/{sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "languages_url": "https://api.github.com/repos/r-dbi/bigrquery/languages",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "stargazers_url": "https://api.github.com/repos/r-dbi/bigrquery/stargazers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "contributors_url": "https://api.github.com/repos/r-dbi/bigrquery/contributors",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "subscribers_url": "https://api.github.com/repos/r-dbi/bigrquery/subscribers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "subscription_url": "https://api.github.com/repos/r-dbi/bigrquery/subscription",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "commits_url": "https://api.github.com/repos/r-dbi/bigrquery/commits{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "git_commits_url": "https://api.github.com/repos/r-dbi/bigrquery/git/commits{/sha}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/r-dbi/bigrquery/comments{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "issue_comment_url": "https://api.github.com/repos/r-dbi/bigrquery/issues/comments{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "contents_url": "https://api.github.com/repos/r-dbi/bigrquery/contents/{+path}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "compare_url": "https://api.github.com/repos/r-dbi/bigrquery/compare/{base}...{head}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "merges_url": "https://api.github.com/repos/r-dbi/bigrquery/merges",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "archive_url": "https://api.github.com/repos/r-dbi/bigrquery/{archive_format}{/ref}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "downloads_url": "https://api.github.com/repos/r-dbi/bigrquery/downloads",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "issues_url": "https://api.github.com/repos/r-dbi/bigrquery/issues{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "pulls_url": "https://api.github.com/repos/r-dbi/bigrquery/pulls{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestones_url": "https://api.github.com/repos/r-dbi/bigrquery/milestones{/number}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "notifications_url": "https://api.github.com/repos/r-dbi/bigrquery/notifications{?since,all,participating}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/r-dbi/bigrquery/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "releases_url": "https://api.github.com/repos/r-dbi/bigrquery/releases{/id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "deployments_url": "https://api.github.com/repos/r-dbi/bigrquery/deployments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2013-05-22T14:04:16Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-07-13T05:53:58Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "pushed_at": "2023-07-08T17:32:26Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "git_url": "git://github.com/r-dbi/bigrquery.git",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "ssh_url": "git@github.com:r-dbi/bigrquery.git",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "clone_url": "https://github.com/r-dbi/bigrquery.git",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "svn_url": "https://github.com/r-dbi/bigrquery",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "homepage": "https://bigrquery.r-dbi.org",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "size": 1757,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "stargazers_count": 492,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "watchers_count": 492,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "language": "R",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_issues": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_projects": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_downloads": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_wiki": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_pages": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "has_discussions": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "forks_count": 179,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "mirror_url": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "archived": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "disabled": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "open_issues_count": 84,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "license": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "key": "gpl-3.0",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "name": "GNU General Public License v3.0",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "spdx_id": "GPL-3.0",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/licenses/gpl-3.0",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDc6TGljZW5zZTk="</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "allow_forking": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "is_template": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "web_commit_signoff_required": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "topics": [</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "bigquery",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "database",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "r"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "visibility": "public",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "forks": 179,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "open_issues": 84,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "watchers": 492,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "default_branch": "main",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "permissions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "admin": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "maintain": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "push": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "triage": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "pull": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ] </span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co">## Create a repository, needs a token in GITHUB_PAT (or GITHUB_TOKEN)</span></span></span>
<span class="r-in"><span><span class="co">## environment variable</span></span></span>
<span class="r-in"><span><span class="fu">gh</span><span class="op">(</span><span class="st">"POST /user/repos"</span>, name <span class="op">=</span> <span class="st">"foobar"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="co">## Issues of a repository</span></span></span>
<span class="r-in"><span><span class="fu">gh</span><span class="op">(</span><span class="st">"/repos/hadley/dplyr/issues"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6885",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6885/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6885/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6885/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6885",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1812200827,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5sA_17",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6885,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "Unexpected behavior in `filter()` when column name matches an environment variable",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "bzbradford",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 12737774,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjEyNzM3Nzc0",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/12737774?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/bzbradford",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/bzbradford",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/bzbradford/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/bzbradford/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/bzbradford/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/bzbradford/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/bzbradford/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/bzbradford/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/bzbradford/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/bzbradford/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/bzbradford/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-07-19T15:29:58Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-07-19T15:29:58Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "NONE",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "A friend and I have both encountered unexpected behavior from `filter()` and struggled to debug it until realizing that `filter()` was comparing a column against itself, instead of against a variable of the same name that had been defined elsewhere in the environment (for example, as a function argument).\r\n\r\n```r\r\nlibrary(dplyr)\r\n\r\n# mtcars has 32 rows originally\r\nnrow(mtcars)\r\n# &gt; [1] 32\r\n\r\n# should show that 11 cars have 4 cylinders\r\nmtcars |&gt; filter(cyl == 4) |&gt; nrow()\r\n# &gt; [1] 11\r\n\r\n# should also show that 11 cars have 4 cylinders\r\ncyl &lt;- 4\r\nmtcars |&gt; filter(cyl == cyl) |&gt; nrow()\r\n# &gt; [1] 32\r\n```\r\n\r\nPossible solutions:\r\n\r\n- `filter()` warns when comparing a column against itself (which would return all rows), much like it warns when using a single `=` instead of double equal `==`\r\n- `filter()` first looks to the environment for a defined variable of the same name as the column when a column is possibly compared against itself\r\n",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6885/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6885/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6876",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6876/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6876/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6876/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/pull/6876",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1781513615,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "PR_kwDOAGIUpc5URz0T",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6876,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "Update slice.R",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "scarioscia",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 54126393,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjU0MTI2Mzkz",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/54126393?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/scarioscia",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/scarioscia",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/scarioscia/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/scarioscia/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/scarioscia/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/scarioscia/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/scarioscia/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/scarioscia/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/scarioscia/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/scarioscia/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/scarioscia/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-06-29T21:04:27Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-06-29T21:04:27Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "NONE",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "draft": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "pull_request": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/pulls/6876",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/tidyverse/dplyr/pull/6876",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "diff_url": "https://github.com/tidyverse/dplyr/pull/6876.diff",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "patch_url": "https://github.com/tidyverse/dplyr/pull/6876.patch",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "merged_at": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "switched highest/lowest for slice_min and slice_max to improve clarity",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6876/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6876/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6875",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6875/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6875/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6875/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/pull/6875",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1780932366,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "PR_kwDOAGIUpc5UP25J",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6875,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "Fix typos plus minor tweaks",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "salim-b",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 20040931,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjIwMDQwOTMx",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/20040931?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/salim-b",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/salim-b",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/salim-b/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/salim-b/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/salim-b/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/salim-b/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/salim-b/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/salim-b/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/salim-b/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/salim-b/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/salim-b/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-06-29T14:20:03Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-06-29T14:20:03Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "CONTRIBUTOR",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "draft": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "pull_request": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/pulls/6875",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/tidyverse/dplyr/pull/6875",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "diff_url": "https://github.com/tidyverse/dplyr/pull/6875.diff",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "patch_url": "https://github.com/tidyverse/dplyr/pull/6875.patch",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "merged_at": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6875/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6875/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6870",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6870/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6870/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6870/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6870",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1772889820,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5prCbc",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6870,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "Unexpected interaction between rowwise and group_modify",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "banbh",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 5741,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjU3NDE=",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/5741?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/banbh",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/banbh",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/banbh/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/banbh/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/banbh/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/banbh/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/banbh/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/banbh/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/banbh/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/banbh/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/banbh/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "id": 17708198,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "node_id": "MDU6TGFiZWwxNzcwODE5OA==",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "url": "https://api.github.com/repos/tidyverse/dplyr/labels/bug",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "name": "bug",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "color": "E0B3A2",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "default": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "description": "an unexpected problem or unintended behavior"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "id": 1728164976,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "node_id": "MDU6TGFiZWwxNzI4MTY0OTc2",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "url": "https://api.github.com/repos/tidyverse/dplyr/labels/grouping%20:family_man_woman_girl_boy:",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "name": "grouping :family_man_woman_girl_boy:",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "color": "eeeeee",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "default": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "description": ""</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 2,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-06-24T19:49:55Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-07-17T13:03:47Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "NONE",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "It appears that after an application of `rowwise` the behavior of `group_modify` differs from that of `group_walk` and `group_map`; the latter two behave as expected. For example, I expected all three pipelines to print two \"hello\"s, but the `group_modify` one only prints one.\r\n\r\n```r\r\nlibrary(dplyr) # dplyr_1.1.2\r\n\r\nX &lt;- tibble(a = 1:2)\r\n\r\nf &lt;- \\(...) {\r\n  print('hello')\r\n  tibble(x = runif(3))\r\n}\r\n\r\nX |&gt; \r\n  rowwise() |&gt; \r\n  group_walk(f) # two hellos\r\n\r\nX |&gt; \r\n  rowwise() |&gt; \r\n  group_map(f) |&gt; # two hellos\r\n  invisible()\r\n\r\nX |&gt; \r\n  rowwise() |&gt; \r\n  group_modify(f) |&gt; # one hello ???\r\n  invisible()\r\n```\r\n",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6870/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6870/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6868",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6868/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6868/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6868/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6868",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1757231728,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5ovTpw",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6868,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "trailing comma in `across()` gives an unhelpful message",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "olivroy",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 52606734,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjUyNjA2NzM0",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/52606734?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/olivroy",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/olivroy",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/olivroy/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/olivroy/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/olivroy/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/olivroy/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/olivroy/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/olivroy/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/olivroy/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/olivroy/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/olivroy/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "id": 17708198,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "node_id": "MDU6TGFiZWwxNzcwODE5OA==",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "url": "https://api.github.com/repos/tidyverse/dplyr/labels/bug",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "name": "bug",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "color": "E0B3A2",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "default": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "description": "an unexpected problem or unintended behavior"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "id": 1880639897,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "node_id": "MDU6TGFiZWwxODgwNjM5ODk3",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "url": "https://api.github.com/repos/tidyverse/dplyr/labels/each-col%20%E2%86%94%EF%B8%8F",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "name": "each-col ↔️",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "color": "eeeeee",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "default": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "description": ""</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-06-14T16:04:55Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-06-28T12:22:24Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "NONE",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "It took me a while to figure out the error, hence why I'm filing an issue (feel free to close).\r\n\r\nIt is just that with many functions, a trailing comma doesn't matter.\r\n\r\n---\r\n\r\nI forgot a trailing comma and it lead to a unhelpful error message. \r\nWould it be possible to improve this error message, (or not get error, like with `mutate()`, `summarise()` etc.\r\n\r\n``` r\r\nlibrary(dplyr)\r\nmtcars |&gt; mutate(across(vs, \\(x) x +1, .names = \"x\")) # works fine, if you write the code correctly\r\nmtcars |&gt; mutate(across(vs, \\(x) x +1, .names = \"x\",)) # gives a hard to understand error message.\r\n#&gt; Error in `mutate()`:\r\n#&gt; ℹ In argument: `across(vs, function(x) x + 1, .names = \"x\", )`.\r\n#&gt; Caused by error in `across()`:\r\n#&gt; ! Can't compute column `x`.\r\n#&gt; Caused by error in `fn()`:\r\n#&gt; ! Unused argument (alist())\r\n#&gt; Backtrace:\r\n#&gt;      ▆\r\n#&gt;   1. ├─dplyr::mutate(...)\r\n#&gt;   2. ├─dplyr:::mutate.data.frame(...)\r\n#&gt;   3. │ └─dplyr:::mutate_cols(.data, dplyr_quosures(...), by)\r\n#&gt;   4. │   ├─base::withCallingHandlers(...)\r\n#&gt;   5. │   └─dplyr:::mutate_col(dots[[i]], data, mask, new_columns)\r\n#&gt;   6. │     └─mask$eval_all_mutate(quo)\r\n#&gt;   7. │       └─dplyr (local) eval()\r\n#&gt;   8. ├─dplyr::across(vs, function(x) x + 1, .names = \"x\", )\r\n#&gt;   9. │ └─base::withCallingHandlers(...)\r\n#&gt;  10. └─base::.handleSimpleError(...)\r\n#&gt;  11.   └─dplyr (local) h(simpleError(msg, call))\r\n#&gt;  12.     └─rlang::abort(bullets, call = error_call, parent = cnd)\r\n栀Ƭ\r\n#&gt; Error in eval(expr, envir, enclos): object'栀Ƭ' not found\r\n```\r\n\r\n&lt;sup&gt;Created on 2023-06-14 with [reprex v2.0.2](https://reprex.tidyverse.org)&lt;\/sup&gt;\r\n\r\n\r\nFor reference, the `if_all()` error message is a bit better\r\n\r\n```r\r\nmtcars |&gt; filter(if_all(vs, is.na, ))\r\nError in `filter()`:\r\nℹ In argument: `if_all(vs, is.na, )`.\r\nCaused by error in `if_all()`:\r\n! Can't compute column `vs`.\r\nCaused by error in `withCallingHandlers()`:\r\n! argument is missing, with no default\r\n```\r\n",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6868/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6868/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6864",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6864/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6864/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6864/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6864",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1743154315,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5n5myL",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6864,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "Improve documentation for `rows_insert()` vs `rows_append()`",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "mgirlich",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 18258854,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjE4MjU4ODU0",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/18258854?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/mgirlich",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/mgirlich",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/mgirlich/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/mgirlich/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/mgirlich/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/mgirlich/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/mgirlich/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/mgirlich/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/mgirlich/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/mgirlich/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/mgirlich/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "id": 674867158,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "node_id": "MDU6TGFiZWw2NzQ4NjcxNTg=",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "url": "https://api.github.com/repos/tidyverse/dplyr/labels/documentation",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "name": "documentation",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "color": "CBBAB8",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "default": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "description": ""</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "id": 3407327207,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "node_id": "LA_kwDOAGIUpc7LF6_n",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "url": "https://api.github.com/repos/tidyverse/dplyr/labels/rows%20%E2%86%95%EF%B8%8F",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "name": "rows ↕️",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "color": "eeeeee",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "default": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "description": "Operations on rows: filter(), slice(), arrange()"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 1,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-06-06T06:10:33Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-06-28T12:23:00Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "NONE",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "It seems that people easily confuse what `rows_insert()` is for and use it when they actually need `rows_append()` (e.g. tidyverse/dbplyr#1297 or tidyverse/dbplyr#1149). It would be nice to improve the documentation (or maybe even the names) of `rows_insert()` and `rows_append()` to make it more clear when to use which function.",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6864/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6864/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6862",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6862/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6862/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6862/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6862",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1732939973,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5nSpDF",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6862,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "case_when gives confusing and inconsistent error messages when conditions are matrices",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "DarwinAwardWinner",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 228145,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjIyODE0NQ==",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/228145?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/DarwinAwardWinner",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/DarwinAwardWinner",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/DarwinAwardWinner/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/DarwinAwardWinner/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/DarwinAwardWinner/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/DarwinAwardWinner/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/DarwinAwardWinner/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/DarwinAwardWinner/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/DarwinAwardWinner/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/DarwinAwardWinner/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/DarwinAwardWinner/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 3,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-05-30T20:19:09Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-05-31T14:43:28Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "NONE",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "Please briefly describe your problem and what output you expect. If you have a question, please don't use this form. Instead, ask on &lt;https://stackoverflow.com/&gt; or &lt;https://community.rstudio.com/&gt;.\r\n\r\nPlease include a minimal reproducible example (AKA a reprex). If you've never heard of a [reprex](http://reprex.tidyverse.org/) before, start by reading &lt;https://www.tidyverse.org/help/#reprex&gt;.\r\n\r\n---\r\n\r\nI had some code that was passing matrices as the conditions to a `case_when` statement. Previously, `case_when` would implicitly convert these matrices to vectors, but at some point it stopped doing that. However, I don't think this was an intentional behavior change, because depending on how exactly one calls `case_when` on matrix conditions, it can produce one of several different error messages or return a value of the wrong length (see reprex below demonstrating 3 different behaviors). None of the error messages hint at the underlying problem, which made debugging this issue after a package update very difficult.\r\n\r\nIf passing matrices as the conditions to `case_when` is not an intended usage, I would expect it to produce an interpretable error message to that effect.\r\n\r\n``` r\r\nlibrary(dplyr)\r\n#&gt; \r\n#&gt; Attaching package: 'dplyr'\r\n#&gt; The following objects are masked from 'package:stats':\r\n#&gt; \r\n#&gt;     filter, lag\r\n#&gt; The following objects are masked from 'package:base':\r\n#&gt; \r\n#&gt;     intersect, setdiff, setequal, union\r\nlibrary(assertthat)\r\n\r\nx &lt;- matrix(rnorm(36), ncol = 6)\r\n\r\n## Each of the following generates a different error\r\n{\r\n  y1 &lt;- case_when(\r\n    !is.finite(x) ~ \"Invalid\",\r\n    .default = \"Default\"\r\n  )\r\n  assert_that(length(y1) == length(x))\r\n}\r\n#&gt; Error: length(y1) not equal to length(x)\r\n\r\n{\r\n  y2 &lt;- case_when(\r\n    !is.finite(x) ~ \"Invalid\",\r\n    x &lt; 0 ~ \"Negative\",\r\n    .default = \"Default\"\r\n  )\r\n  assert_that(length(y2) == length(x))\r\n}\r\n#&gt; Error in `vec_slice()`:\r\n#&gt; ! Can't subset elements past the end.\r\n#&gt; ℹ Locations 8, 10, 13, …, 35, and 36 don't exist.\r\n#&gt; ℹ There are only 6 elements.\r\n#&gt; Backtrace:\r\n#&gt;     ▆\r\n#&gt;  1. ├─dplyr::case_when(...)\r\n#&gt;  2. │ └─dplyr:::vec_case_when(...)\r\n#&gt;  3. │   └─vctrs::vec_slice(value, loc)\r\n#&gt;  4. └─vctrs (local) `&lt;fn&gt;`()\r\n#&gt;  5.   └─vctrs:::stop_subscript_oob(...)\r\n#&gt;  6.     └─vctrs:::stop_subscript(...)\r\n#&gt;  7.       └─rlang::abort(...)\r\n\r\n{\r\n  y3 &lt;- case_when(\r\n    !is.finite(x) ~ \"Invalid\",\r\n    x &lt; 0 ~ \"Negative\",\r\n    x &gt; 0 ~ \"Positive\",\r\n    x == 0 ~ \"Zero\"\r\n  )\r\n  assert_that(length(y3) == length(x))\r\n}\r\n#&gt; Error in if (!any(are_unused)) {: missing value where TRUE/FALSE needed\r\n\r\n## Everything works fine if you convert x to a vector\r\n{\r\n  xvec &lt;- as.vector(x)\r\n  yvec &lt;- case_when(\r\n    !is.finite(xvec) ~ \"Invalid\",\r\n    xvec &lt; 0 ~ \"Negative\",\r\n    xvec &gt; 0 ~ \"Positive\",\r\n    xvec == 0 ~ \"Zero\"\r\n  )\r\n  assert_that(length(yvec) == length(xvec))\r\n}\r\n#&gt; [1] TRUE\r\n```\r\n\r\n&lt;sup&gt;Created on 2023-05-30 with [reprex v2.0.2](https://reprex.tidyverse.org)&lt;\/sup&gt;\r\n",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6862/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6862/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6861",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6861/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6861/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6861/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6861",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1732916405,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5nSjS1",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6861,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "`mutate` superseding `transmute` should allow ordering columns",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "epruesse",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 2774474,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjI3NzQ0NzQ=",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/2774474?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/epruesse",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/epruesse",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/epruesse/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/epruesse/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/epruesse/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/epruesse/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/epruesse/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/epruesse/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/epruesse/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/epruesse/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/epruesse/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "id": 3407329987,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "node_id": "LA_kwDOAGIUpc7LF7rD",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "url": "https://api.github.com/repos/tidyverse/dplyr/labels/columns%20%E2%86%94%EF%B8%8F",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "name": "columns ↔️",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "color": "eeeeee",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "default": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "description": "Operations on columns: mutate(), select(),  rename(), relocate()"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 2,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-05-30T20:02:59Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-07-17T13:54:00Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "NONE",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "I recently noticed that `transmute` has been marked as superseded by `mutate(.keep=\"none\")`. However, it turned out that `mutate` doesn't replicate column ordering behavior of `transmute`, but does something odd:\r\n\r\n```r\r\n&gt; data.frame(a=1, b=2) %&gt;% transmute(a, x=b*2, b)\r\n  a x b\r\n1 1 4 2\r\n&gt; data.frame(a=1, b=2) %&gt;% mutate(a, x=b*2, b, .keep=\"none\")\r\n  a b x\r\n1 1 2 4\r\n```\r\nWith more complex examples, the ordering becomes pretty confusing and difficult to explain. I'm guessing this may have to do with the `.keep = \"used\"` use case resorting things. For `.keep = \"none\"`, explicit column ordering as given, replicating or approximating `transmute` behavior,  would be much more useful (e.g. order of first LHS mention or last LHS mention).\r\n",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6861/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 3,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 3,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6861/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6860",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6860/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6860/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6860/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/pull/6860",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1730019861,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "PR_kwDOAGIUpc5RkSaK",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6860,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "WIP: Shortcut for count()",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "krlmlr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 1741643,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjE3NDE2NDM=",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/1741643?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/krlmlr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/krlmlr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/krlmlr/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/krlmlr/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/krlmlr/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/krlmlr/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/krlmlr/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/krlmlr/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/krlmlr/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/krlmlr/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/krlmlr/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-05-29T04:26:58Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-05-29T04:35:14Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "MEMBER",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "draft": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "pull_request": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/pulls/6860",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/tidyverse/dplyr/pull/6860",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "diff_url": "https://github.com/tidyverse/dplyr/pull/6860.diff",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "patch_url": "https://github.com/tidyverse/dplyr/pull/6860.patch",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "merged_at": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "This is an attempt to improve the run time of TPCH-21 which uses `count()` over a large table with many groups. Gives a speedup of up to 3. A slippery slope, but might be worthwhile because the vast majority of summaries are simple counts?\r\n\r\n## This PR\r\n\r\n``` r\r\noptions(conflicts.policy = list(warn = FALSE))\r\nlibrary(tidyverse)\r\n\r\nset.seed(20230529)\r\n\r\nget_data &lt;- function(N) {\r\n  distr &lt;- (trunc(rexp(N, 3)) + 1)\r\n  id &lt;- rep(seq_along(distr), distr)\r\n  sec &lt;- as.integer(trunc(runif(length(id), 1, 3)))\r\n  tibble(id, sec)\r\n}\r\n\r\ndata &lt;- get_data(1e4)\r\nsystem.time(count(data, id, sec))\r\n#&gt;    user  system elapsed \r\n#&gt;   0.021   0.001   0.022\r\ndata &lt;- get_data(1e5)\r\nsystem.time(count(data, id, sec))\r\n#&gt;    user  system elapsed \r\n#&gt;   0.107   0.006   0.113\r\ndata &lt;- get_data(1e6)\r\nsystem.time(count(data, id, sec))\r\n#&gt;    user  system elapsed \r\n#&gt;   1.418   0.050   1.469\r\ndata &lt;- get_data(1e7)\r\nsystem.time(count(data, id, sec))\r\n#&gt;    user  system elapsed \r\n#&gt;  13.391   0.367  13.763\r\n\r\nget_data(40) |&gt;\r\n  filter(id &gt;= 30)\r\n#&gt; # A tibble: 15 × 2\r\n#&gt;       id   sec\r\n#&gt;    &lt;int&gt; &lt;int&gt;\r\n#&gt;  1    30     2\r\n#&gt;  2    31     2\r\n#&gt;  3    32     1\r\n#&gt;  4    32     1\r\n#&gt;  5    33     2\r\n#&gt;  6    34     2\r\n#&gt;  7    35     2\r\n#&gt;  8    35     2\r\n#&gt;  9    35     1\r\n#&gt; 10    36     2\r\n#&gt; 11    37     2\r\n#&gt; 12    38     2\r\n#&gt; 13    38     1\r\n#&gt; 14    39     1\r\n#&gt; 15    40     2\r\n```\r\n\r\n&lt;sup&gt;Created on 2023-05-29 with [reprex v2.0.2](https://reprex.tidyverse.org)&lt;\/sup&gt;\r\n\r\n\r\n## v1.1.2\r\n\r\n``` r\r\noptions(conflicts.policy = list(warn = FALSE))\r\nlibrary(tidyverse)\r\n\r\nset.seed(20230529)\r\n\r\nget_data &lt;- function(N) {\r\n  distr &lt;- (trunc(rexp(N, 3)) + 1)\r\n  id &lt;- rep(seq_along(distr), distr)\r\n  sec &lt;- as.integer(trunc(runif(length(id), 1, 3)))\r\n  tibble(id, sec)\r\n}\r\n\r\ndata &lt;- get_data(1e4)\r\nsystem.time(count(data, id, sec))\r\n#&gt;    user  system elapsed \r\n#&gt;   0.034   0.002   0.036\r\ndata &lt;- get_data(1e5)\r\nsystem.time(count(data, id, sec))\r\n#&gt;    user  system elapsed \r\n#&gt;   0.276   0.007   0.283\r\ndata &lt;- get_data(1e6)\r\nsystem.time(count(data, id, sec))\r\n#&gt;    user  system elapsed \r\n#&gt;   3.486   0.085   3.576\r\ndata &lt;- get_data(1e7)\r\nsystem.time(count(data, id, sec))\r\n#&gt;    user  system elapsed \r\n#&gt;  38.666   0.708  39.530\r\n```\r\n\r\n&lt;sup&gt;Created on 2023-05-29 with [reprex v2.0.2](https://reprex.tidyverse.org)&lt;\/sup&gt;",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6860/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6860/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6858",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6858/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6858/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6858/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/pull/6858",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1725001572,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "PR_kwDOAGIUpc5RTTr7",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6858,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "trivial change to dataset documentation",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "UmbertoFasci",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 48659857,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjQ4NjU5ODU3",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/48659857?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/UmbertoFasci",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/UmbertoFasci",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/UmbertoFasci/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/UmbertoFasci/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/UmbertoFasci/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/UmbertoFasci/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/UmbertoFasci/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/UmbertoFasci/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/UmbertoFasci/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/UmbertoFasci/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/UmbertoFasci/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-05-25T02:59:51Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-05-25T02:59:51Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "NONE",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "draft": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "pull_request": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/pulls/6858",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/tidyverse/dplyr/pull/6858",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "diff_url": "https://github.com/tidyverse/dplyr/pull/6858.diff",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "patch_url": "https://github.com/tidyverse/dplyr/pull/6858.patch",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "merged_at": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "The following is an edit on the starwars.R dataset source file which amends a trivial issue to improve readability.",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6858/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6858/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6856",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6856/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6856/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6856/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6856",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1722432895,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5mqj1_",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6856,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "Adjusting to different behaviour between `case_match` and `recode`",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "manhnguyen48",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 24793324,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjI0NzkzMzI0",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/24793324?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/manhnguyen48",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/manhnguyen48",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/manhnguyen48/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/manhnguyen48/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/manhnguyen48/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/manhnguyen48/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/manhnguyen48/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/manhnguyen48/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/manhnguyen48/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/manhnguyen48/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/manhnguyen48/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 3,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-05-23T16:33:23Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-07-10T16:15:40Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "NONE",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "Since `recode` is being superseded, I'm looking at changing to `case_match`. I usually use it to reverse code an integer vector (e.g. 1 -&gt; 5,  5 -&gt; 1, etc.) and have found named list/vector useful but `case_match` doesn't accept the same. \r\nThe named list approach is useful to include `recode` in other functions as named list are more straightforward to produce. \r\nHow should I adapt here? \r\n\r\n``` r\r\nlibrary(dplyr, warn.conflicts = FALSE)\r\n\r\nx &lt;- rep(1:5, 5)\r\n#This still works\r\ndplyr::recode(x, !!!setNames(1:5, 5:1))\r\n#&gt;  [1] 5 4 3 2 1 5 4 3 2 1 5 4 3 2 1 5 4 3 2 1 5 4 3 2 1\r\n#This does not work\r\ndplyr::case_match(x, !!!setNames(1:5, 5:1))\r\n#&gt; Error in `dplyr::case_match()`:\r\n#&gt; ! Case 1 (`!!!setNames(1:5, 5:1)`) must be a two-sided formula, not the\r\n#&gt;   number 1.\r\n#&gt; Backtrace:\r\n#&gt;     ▆\r\n#&gt;  1. └─dplyr::case_match(x, !!!setNames(1:5, 5:1))\r\n#&gt;  2.   └─dplyr:::case_formula_evaluate(...)\r\n#&gt;  3.     └─dplyr:::map2(...)\r\n#&gt;  4.       └─base::mapply(.f, .x, .y, MoreArgs = list(...), SIMPLIFY = FALSE)\r\n#&gt;  5.         └─dplyr (local) `&lt;fn&gt;`(dots[[1L]][[1L]], dots[[2L]][[1L]])\r\n#&gt;  6.           └─dplyr:::validate_and_split_formula(...)\r\n#&gt;  7.             └─rlang::abort(message, call = error_call)\r\n#Instead we have to do this\r\ndplyr::case_match(x, 1~5, 2~4, 3~3, 4~2, 5~1)\r\n#&gt;  [1] 5 4 3 2 1 5 4 3 2 1 5 4 3 2 1 5 4 3 2 1 5 4 3 2 1\r\n```\r\n\r\n&lt;sup&gt;Created on 2023-05-23 with [reprex v2.0.2](https://reprex.tidyverse.org)&lt;\/sup&gt;\r\n",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6856/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 5,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 1,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6856/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6853",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6853/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6853/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6853/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6853",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1720956991,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5mk7g_",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6853,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "Possible regression re. use of glue in dplyr::across",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "jimjam-slam",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 6520659,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjY1MjA2NTk=",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/6520659?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/jimjam-slam",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/jimjam-slam",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/jimjam-slam/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/jimjam-slam/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/jimjam-slam/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/jimjam-slam/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/jimjam-slam/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/jimjam-slam/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/jimjam-slam/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/jimjam-slam/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/jimjam-slam/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 1,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-05-23T01:07:16Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-06-07T11:01:37Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "CONTRIBUTOR",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "This is discussed in https://twitter.com/mjskay/status/1660770865087148032\r\n\r\nEssentially, users are reporting errors when using `glue` inside an anonymous function given to `dplyr::across()`. This error did not previously exist.\r\n\r\nOn [my setup](https://twitter.com/jimjam_slam/status/1659392114994839553?s=20), with R 4.2.2 on macOS, and with dplyr 1.0.10 and glue 1.6.2, the following works to modify two columns:\r\n\r\n```r\r\nlibrary(dplyr)\r\nlibrary(glue)\r\nmtcars |&gt; mutate(across(c(mpg, cyl), \\(x) glue(\"Oh hai {x}\")))\r\n```\r\n\r\n![image](https://github.com/tidyverse/glue/assets/6520659/2843bd11-13a7-408a-b100-1769c79529d9)\r\n\r\nBut [Matthew Kay reports](https://twitter.com/mjskay/status/1659381134273150977?s=20) that they get an error, unless they add dots to the anonymous function or save it to a variable before passing it to `across`:\r\n\r\n![image](https://github.com/tidyverse/dplyr/assets/6520659/f33ce5ec-a5f5-4cb9-bf2e-94e049bcba39)\r\n\r\n[Cameron Patrick](https://twitter.com/camjpatrick/status/1659376009375027200?s=20) also gets an error on R 4.2.3 for Windows with dplyr 1.1.1 and glue 1.6.2 (the same version of glue as me). They get this using the purrr anonymous function syntax:\r\n\r\n![image](https://github.com/tidyverse/dplyr/assets/6520659/83c6b1c8-65d2-4b76-9801-ff93273e077c)\r\n\r\n\r\nI'm not sure whether this is a problem with glue, dplyr or an interaction between the two, but as the version of glue between my successful reprex and Cameron's unsuccessful one isn't changed, I've chosen to file here.",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6853/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 3,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 3,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6853/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6848",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6848/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6848/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6848/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6848",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1708211113,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5l0Tup",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6848,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "slice_sample() uses statistically incorrect sampling algorithms",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "skolenik",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 20828835,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjIwODI4ODM1",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/20828835?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/skolenik",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/skolenik",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/skolenik/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/skolenik/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/skolenik/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/skolenik/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/skolenik/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/skolenik/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/skolenik/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/skolenik/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/skolenik/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-05-12T21:05:01Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-05-15T14:33:56Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "NONE",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "`slice_sample()` relies on `base::sample.int()` which in turn relies on incorrect sampling algorithms. The difficulty of obtaining appropriate unequal probability samples is obscure and is not known outside of survey statistics. I don't want to go into base R code although they have to fix that, too (somewhat more surprising given that Thomas Lumley, one of the core R people, is a survey statistician, at least part time). The appropriate algorithms are implemented in `sampling::UPmaxentropy()`.\r\n\r\n```r\r\n# example from Tille (2006)\r\nset.seed(25)\r\nuneq_p = c(0.07,0.17,0.41,0.61,0.83,0.91)\r\nsim_uneq_p &lt;- as.data.frame(matrix(rep(0,6*20000),ncol=6))\r\nfor (k in 1:nrow(sim_uneq_p)) {\r\n  this &lt;- sample.int(n=length(uneq_p),size=sum(uneq_p),prob=uneq_p)\r\n  sim_uneq_p[k,this] &lt;- 1\r\n}\r\ncolSums(sim_uneq_p)/nrow(sim_uneq_p)\r\nuneq_p\r\n# done right\r\nsim_uneq_p_done_right &lt;- as.data.frame(matrix(rep(0,6*20000),ncol=6))\r\nfor (k in 1:nrow(sim_uneq_p_done_right)) {\r\n   sim_uneq_p_done_right[k,] &lt;- sampling::UPmaxentropy(uneq_p)\r\n}\r\ncolSums(sim_uneq_p_done_right)/nrow(sim_uneq_p_done_right)\r\nuneq_p\r\n```\r\n\r\n@krlmlr @DavisVaughan \r\n\r\nCode in `sampling` is (kinda) ugly, and the development most likely does not satisfy the `tidyverse` standards. I don't know if you want to rely on this as a dependency. Relevant parts may need to be taken over and internalized. (I have written the unequal probability sampling code from scratch in Stata, so I am closely familiar with the methodology and what it takes to code it.)",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6848/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 1,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 1,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6848/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6840",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6840/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6840/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6840/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/pull/6840",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1696095377,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "PR_kwDOAGIUpc5PyELK",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6840,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "Update starwars.csv",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "robcreel",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 5250939,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjUyNTA5Mzk=",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/5250939?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/robcreel",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/robcreel",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/robcreel/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/robcreel/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/robcreel/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/robcreel/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/robcreel/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/robcreel/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/robcreel/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/robcreel/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/robcreel/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 1,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-05-04T14:05:23Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-05-04T14:27:29Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "NONE",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "draft": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "pull_request": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/pulls/6840",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/tidyverse/dplyr/pull/6840",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "diff_url": "https://github.com/tidyverse/dplyr/pull/6840.diff",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "patch_url": "https://github.com/tidyverse/dplyr/pull/6840.patch",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "merged_at": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "Correct the capitalization of Beru's last name from \"lars\" to \"Lars\".",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6840/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6840/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6839",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6839/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6839/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6839/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6839",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1693905728,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5k9vNA",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6839,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "Performance regression for dplyr::rowwise() introduced in version 1.1.0",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "shaneh2",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 5721999,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjU3MjE5OTk=",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/5721999?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/shaneh2",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/shaneh2",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/shaneh2/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/shaneh2/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/shaneh2/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/shaneh2/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/shaneh2/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/shaneh2/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/shaneh2/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/shaneh2/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/shaneh2/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 3,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-05-03T11:39:37Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-05-03T12:24:53Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "NONE",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "It seems that a performance regression has been introduced for `dplyr::rowwise()` in `{dplyr}` version 1.1.0.\r\n\r\nI give some reprexes below illustrating large differences in execution time when using this on v1.1 compared to v1.0.10.\r\n * A: Execution of the function `test_code`, which uses `dplyr::rowwise()`, is fast in v1.0.10: **1.86 seconds**.\r\n * B: The same example is much slower in v1.1.0: **51.5 seconds**.\r\n   * B2: Execution time of a function called `test_code_without_rowwise`, which is modified not to use `dplyr::rowwise()` doesn't suffer these slowdowns: **0.337 seconds**.\r\n * C: Execution of the function `test_code`, which uses `dplyr::rowwise()`, is a similar duration in v1.1.1: **52.2 seconds**.\r\n\r\nThese seem to indicate that usage in `dplyr::rowwise` in v1.1.0+ is much slower than previous versions.\r\n\r\n*Note that we are using collapsable sections to improve readability of the code below. The functions in the collapsable sections are part of the reprexes.*\r\n\r\nA: Using `dplyr::rowwise()` in v1.0.10\r\n---\r\nExecution of the function `test_code`, which uses `dplyr::rowwise()`, is fast in v1.0.10: **1.86 seconds**.\r\n\r\nNote that the timer starts after the package is installed.\r\n\r\n&lt;details&gt;\r\n&lt;summary&gt;**Click to show definitions of functions which are part of this reprex**&lt;\/summary&gt;\r\n\r\n``` r\r\ntest_code = function() {\r\n  print(\"Now starting test...\")\r\n  library(dplyr)\r\n  library(magrittr)\r\n  \r\n  data.frame(count = 1:3000,\r\n             test_col = rep(c(\"a\", \"b\", \"c\", each = 1000))) %&gt;%\r\n    rowwise() %&gt;%\r\n    mutate(\r\n      col1 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      ),\r\n      col2 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      ),\r\n      col3 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      ),\r\n      col4 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      ),\r\n      col5 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      ),\r\n      col6 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      )\r\n    )\r\n  print(\"Finished test\")\r\n}\r\n\r\nbenchmark_dplyr_version_install_from_source = function(dplyr_version_str) {\r\n  print(\"Installing dplyr (test hasn't started yet)\")\r\n  unloadNamespace(\"dplyr\")\r\n  package = glue::glue(\"https://cran.r-project.org/package=dplyr&amp;version={dplyr_version_str}\")\r\n  suppressMessages(suppressWarnings(utils::install.packages(pkgs = package, repos = NULL)))\r\n  stopifnot(packageVersion(\"dplyr\") == dplyr_version_str)\r\n  \r\n  start &lt;- Sys.time()\r\n  test_code()\r\n  print(\r\n    glue::glue(\r\n      \"The time taken for dplyr version {dplyr_version_str} INSTALLED FROM SOURCE is: \"\r\n    )\r\n  )\r\n  print(Sys.time() - start)\r\n}\r\n```\r\n\r\n&lt;\/details&gt;\r\n\r\n```r\r\nbenchmark_dplyr_version_install_from_source(\"1.0.10\")\r\n#&gt; [1] \"Installing dplyr (test hasn't started yet)\"\r\n#&gt; [1] \"Now starting test...\"\r\n#&gt; \r\n#&gt; Attaching package: 'dplyr'\r\n#&gt; The following objects are masked from 'package:stats':\r\n#&gt; \r\n#&gt;     filter, lag\r\n#&gt; The following objects are masked from 'package:base':\r\n#&gt; \r\n#&gt;     intersect, setdiff, setequal, union\r\n#&gt; [1] \"Finished test\"\r\n#&gt; The time taken for dplyr version 1.0.10 INSTALLED FROM SOURCE is: \r\n#&gt; Time difference of 1.861705 secs\r\n```\r\n\r\n&lt;sup&gt;Created on 2023-05-01 with [reprex v2.0.2](https://reprex.tidyverse.org)&lt;\/sup&gt;\r\n\r\n\r\nB: Using `dplyr::rowwise()` in v1.1.0\r\n---\r\nThe same example is much slower in v1.1.0: **51.5 seconds**.\r\n\r\nNote that the timer starts after the package is installed.\r\n\r\n&lt;details&gt;\r\n&lt;summary&gt;Same functions as defined above are part of this reprex (Click to show)&lt;\/summary&gt;\r\n\r\n``` r\r\ntest_code = function() {\r\n  print(\"Now starting test...\")\r\n  library(dplyr)\r\n  library(magrittr)\r\n  \r\n  data.frame(count = 1:3000,\r\n             test_col = rep(c(\"a\", \"b\", \"c\", each = 1000))) %&gt;%\r\n    rowwise() %&gt;%\r\n    mutate(\r\n      col1 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      ),\r\n      col2 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      ),\r\n      col3 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      ),\r\n      col4 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      ),\r\n      col5 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      ),\r\n      col6 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      )\r\n    )\r\n  print(\"Finished test\")\r\n}\r\n\r\nbenchmark_dplyr_version_install_from_source = function(dplyr_version_str) {\r\n  print(\"Installing dplyr (test hasn't started yet)\")\r\n  unloadNamespace(\"dplyr\")\r\n  package = glue::glue(\"https://cran.r-project.org/package=dplyr&amp;version={dplyr_version_str}\")\r\n  suppressMessages(suppressWarnings(utils::install.packages(pkgs = package, repos = NULL)))\r\n  stopifnot(packageVersion(\"dplyr\") == dplyr_version_str)\r\n  \r\n  start &lt;- Sys.time()\r\n  test_code()\r\n  print(\r\n    glue::glue(\r\n      \"The time taken for dplyr version {dplyr_version_str} INSTALLED FROM SOURCE is: \"\r\n    )\r\n  )\r\n  print(Sys.time() - start)\r\n}\r\n```\r\n\r\n&lt;\/details&gt;\r\n\r\n```r\r\nbenchmark_dplyr_version_install_from_source(\"1.1.0\")\r\n#&gt; [1] \"Installing dplyr (test hasn't started yet)\"\r\n#&gt; [1] \"Now starting test...\"\r\n#&gt; \r\n#&gt; Attaching package: 'dplyr'\r\n#&gt; The following objects are masked from 'package:stats':\r\n#&gt; \r\n#&gt;     filter, lag\r\n#&gt; The following objects are masked from 'package:base':\r\n#&gt; \r\n#&gt;     intersect, setdiff, setequal, union\r\n#&gt; [1] \"Finished test\"\r\n#&gt; The time taken for dplyr version 1.1.0 INSTALLED FROM SOURCE is: \r\n#&gt; Time difference of 51.51825 secs\r\n```\r\n\r\n&lt;sup&gt;Created on 2023-05-01 with [reprex v2.0.2](https://reprex.tidyverse.org)&lt;\/sup&gt;\r\n\r\n### B2: Avoiding use of `dplyr::rowwise()` in v1.1.0\r\n\r\nThis time difference doesn't appear in v1.1.0 when `dplyr::rowwise()` isn't used, indicating that `rowwise()` is what's causing the slowdown.\r\n\r\nNote that the timer starts after the package is installed.\r\n\r\n&lt;details&gt;\r\n&lt;summary&gt;Same functions as above are included in this reprex, apart from `test_code` is replaced with `test_code_without_rowwise`&lt;\/summary&gt;\r\n\r\n``` r\r\ntest_code_without_rowwise = function() {\r\n  print(\"Now starting test...\")\r\n  library(dplyr)\r\n  library(magrittr)\r\n  \r\n  data.frame(count = 1:3000,\r\n             test_col = rep(c(\"a\", \"b\", \"c\", each = 1000))) %&gt;%\r\n    # rowwise() %&gt;%\r\n    mutate(\r\n      col1 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      ),\r\n      col2 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      ),\r\n      col3 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      ),\r\n      col4 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      ),\r\n      col5 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      ),\r\n      col6 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      )\r\n    )\r\n  print(\"Finished test\")\r\n}\r\n\r\nbenchmark_dplyr_version_install_from_source = function(dplyr_version_str) {\r\n  print(\"Installing dplyr (test hasn't started yet)\")\r\n  unloadNamespace(\"dplyr\")\r\n  package = glue::glue(\"https://cran.r-project.org/package=dplyr&amp;version={dplyr_version_str}\")\r\n  suppressMessages(suppressWarnings(utils::install.packages(pkgs = package, repos = NULL)))\r\n  stopifnot(packageVersion(\"dplyr\") == dplyr_version_str)\r\n  \r\n  start &lt;- Sys.time()\r\n  test_code_without_rowwise()\r\n  print(\r\n    glue::glue(\r\n      \"The time taken for dplyr version {dplyr_version_str} INSTALLED FROM SOURCE is: \"\r\n    )\r\n  )\r\n  print(Sys.time() - start)\r\n}\r\n```\r\n\r\n&lt;\/details&gt;\r\n\r\n```r\r\nbenchmark_dplyr_version_install_from_source(\"1.1.0\")\r\n#&gt; [1] \"Installing dplyr (test hasn't started yet)\"\r\n#&gt; [1] \"Now starting test...\"\r\n#&gt; \r\n#&gt; Attaching package: 'dplyr'\r\n#&gt; The following objects are masked from 'package:stats':\r\n#&gt; \r\n#&gt;     filter, lag\r\n#&gt; The following objects are masked from 'package:base':\r\n#&gt; \r\n#&gt;     intersect, setdiff, setequal, union\r\n#&gt; [1] \"Finished test\"\r\n#&gt; The time taken for dplyr version 1.1.0 INSTALLED FROM SOURCE is: \r\n#&gt; Time difference of 0.3373294 secs\r\n```\r\n\r\n&lt;sup&gt;Created on 2023-05-01 with [reprex v2.0.2](https://reprex.tidyverse.org)&lt;\/sup&gt;\r\n\r\n\r\nC: Using `dplyr::rowwise()` in v1.1.1\r\n---\r\nExecution of the same function `test_code` is a similar duration in v1.1.1: **52.2 seconds**.\r\n\r\nNote that the timer starts after the package is installed.\r\n\r\n&lt;details&gt;\r\n&lt;summary&gt;Same functions as defined above are part of this reprex (Click to show)&lt;\/summary&gt;\r\n\r\n``` r\r\ntest_code = function() {\r\n  print(\"Now starting test...\")\r\n  library(dplyr)\r\n  library(magrittr)\r\n  \r\n  data.frame(count = 1:3000,\r\n             test_col = rep(c(\"a\", \"b\", \"c\", each = 1000))) %&gt;%\r\n    rowwise() %&gt;%\r\n    mutate(\r\n      col1 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      ),\r\n      col2 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      ),\r\n      col3 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      ),\r\n      col4 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      ),\r\n      col5 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      ),\r\n      col6 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      )\r\n    )\r\n  print(\"Finished test\")\r\n}\r\n\r\nbenchmark_dplyr_version_install_from_source = function(dplyr_version_str) {\r\n  print(\"Installing dplyr (test hasn't started yet)\")\r\n  unloadNamespace(\"dplyr\")\r\n  package = glue::glue(\"https://cran.r-project.org/package=dplyr&amp;version={dplyr_version_str}\")\r\n  suppressMessages(suppressWarnings(utils::install.packages(pkgs = package, repos = NULL)))\r\n  stopifnot(packageVersion(\"dplyr\") == dplyr_version_str)\r\n  \r\n  start &lt;- Sys.time()\r\n  test_code()\r\n  print(\r\n    glue::glue(\r\n      \"The time taken for dplyr version {dplyr_version_str} INSTALLED FROM SOURCE is: \"\r\n    )\r\n  )\r\n  print(Sys.time() - start)\r\n}\r\n```\r\n\r\n&lt;\/details&gt;\r\n\r\n``` r\r\nbenchmark_dplyr_version_install_from_source(\"1.1.1\")\r\n#&gt; [1] \"Installing dplyr (test hasn't started yet)\"\r\n#&gt; [1] \"Now starting test...\"\r\n#&gt; \r\n#&gt; Attaching package: 'dplyr'\r\n#&gt; The following objects are masked from 'package:stats':\r\n#&gt; \r\n#&gt;     filter, lag\r\n#&gt; The following objects are masked from 'package:base':\r\n#&gt; \r\n#&gt;     intersect, setdiff, setequal, union\r\n#&gt; [1] \"Finished test\"\r\n#&gt; The time taken for dplyr version 1.1.1 INSTALLED FROM SOURCE is: \r\n#&gt; Time difference of 52.21882 secs\r\n```\r\n\r\n&lt;sup&gt;Created on 2023-05-01 with [reprex v2.0.2](https://reprex.tidyverse.org)&lt;\/sup&gt;\r\n\r\n",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6839/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6839/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6838",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6838/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6838/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6838/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6838",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1691849841,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5k15Rx",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6838,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "Unhelpful error message when using `dplyr::between()` in `join_by()`",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "mgirlich",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 18258854,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjE4MjU4ODU0",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/18258854?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/mgirlich",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/mgirlich",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/mgirlich/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/mgirlich/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/mgirlich/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/mgirlich/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/mgirlich/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/mgirlich/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/mgirlich/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/mgirlich/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/mgirlich/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 2,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-05-02T06:27:40Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-05-02T14:01:49Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "NONE",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "I accidentally used `dplyr::between()` instead of `between()` in `join_by()`. Not sure whether you want to accept it with a namespace or not but the error message isn't very helpful.\r\n\r\n``` r\r\ndplyr::join_by(dplyr::between(y, a, b))\r\n#&gt; Error in `as_string()`:\r\n#&gt; ! Can't convert a call to a string.\r\n#&gt; Backtrace:\r\n#&gt;     ▆\r\n#&gt;  1. └─dplyr::join_by(dplyr::between(y, a, b))\r\n#&gt;  2.   └─dplyr:::parse_join_by_expr(exprs[[i]], i, error_call = error_call)\r\n#&gt;  3.     └─rlang::as_string(expr[[1]])\r\n#&gt;  4.       └─rlang:::abort_coercion(x, \"a string\")\r\n#&gt;  5.         └─rlang::abort(msg, call = call)\r\n```\r\n\r\n&lt;sup&gt;Created on 2023-05-02 with [reprex v2.0.2](https://reprex.tidyverse.org)&lt;\/sup&gt;",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6838/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 2,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 2,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6838/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6822",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6822/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6822/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6822/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6822",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1666351494,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5jUoGG",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6822,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "Consider allowing `.env$` in `join_by()`",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "DavisVaughan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 19150088,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjE5MTUwMDg4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/19150088?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/DavisVaughan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/DavisVaughan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/DavisVaughan/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/DavisVaughan/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/DavisVaughan/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/DavisVaughan/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/DavisVaughan/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/DavisVaughan/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/DavisVaughan/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/DavisVaughan/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/DavisVaughan/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 1,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-04-13T12:45:15Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-04-13T13:06:14Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "MEMBER",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "Motivated by https://github.com/tidyverse/dplyr/issues/6821\r\n\r\n``` r\r\nlibrary(dplyr, warn.conflicts = FALSE)\r\n\r\ndf1 &lt;- tibble(\r\n  X1 = c(\"chr1\", \"chr2\"),\r\n  a = c(1, 2)\r\n)\r\n\r\ndf2 &lt;- tibble(\r\n  X2 = c(\"chr2\", \"chr3\"),\r\n  b = c(3, 4)\r\n)\r\n\r\nby.1 &lt;- \"X1\"\r\nby.2 &lt;- \"X2\"\r\n\r\n# The \"old\" way\r\n# inner_join(df1, df2, by = setNames(by.2, by.1))\r\n\r\n# This works but we don't typically encourage using `!!` in high level APIs\r\ninner_join(df1, df2, by = join_by(!!by.1 == !!by.2))\r\n#&gt; # A tibble: 1 × 3\r\n#&gt;   X1        a     b\r\n#&gt;   &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;\r\n#&gt; 1 chr2      2     3\r\n \r\n# It might be nice to be able to do this, but it currently errors\r\ninner_join(df1, df2, by = join_by(.env$by.1 == .env$by.2))\r\n#&gt; Error in `join_by()`:\r\n#&gt; ! The left-hand side of a `$` expression must be either `x$` or `y$`.\r\n#&gt; ℹ Expression 1 contains `.env$by.1`.\r\n```\r\n\r\nSome notes from talking with @lionel-:\r\n- We have an equivalent-ish to `.data$` already with `x$` and `y$`. They don't have a `.` prefix because I attempted to match the original argument names\r\n- So it seems like we are missing an equivalent to the `.env$` pronoun, and we may as well call it `.env$` here too\r\n- It would look up in the `caller_env()` of `join_by()`, and I don't think `join_by()` would get an `env = caller_env()` argument to \"pass the env through\" unlike what is done in `glue()`.\r\n- It would look up using `inherits = TRUE`, because it seems like tidy eval does this too, and we generally think that makes sense\r\n- It would require the result to be a single string, or die trying. i.e. you can only use this to inject a single name from the environment, not to inject an entire expression",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6822/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6822/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6817",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6817/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6817/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6817/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/pull/6817",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1658192233,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "PR_kwDOAGIUpc5Nzt-8",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6817,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "replace as_tibble with new_tibble in ungroup()",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "mkoohafkan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 4790348,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjQ3OTAzNDg=",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/4790348?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/mkoohafkan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/mkoohafkan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/mkoohafkan/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/mkoohafkan/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/mkoohafkan/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/mkoohafkan/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/mkoohafkan/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/mkoohafkan/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/mkoohafkan/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/mkoohafkan/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/mkoohafkan/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-04-07T00:16:16Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-04-07T04:56:49Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "NONE",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "draft": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "pull_request": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/pulls/6817",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/tidyverse/dplyr/pull/6817",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "diff_url": "https://github.com/tidyverse/dplyr/pull/6817.diff",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "patch_url": "https://github.com/tidyverse/dplyr/pull/6817.patch",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "merged_at": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "Make `ungroup()` handle attributes in a way that is consistent with other `dplyr` functions by using `new_tibble()` instead of `as_tibble()`.\r\n\r\nThis is also future-proof if it is later decided that `new_tibble()` should drop attributes.\r\n\r\nFixes https://github.com/tidyverse/dplyr/issues/6774 without affecting discussion in https://github.com/tidyverse/tibble/pull/769",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6817/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6817/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6809",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6809/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6809/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6809/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6809",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1642598757,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5h6BFl",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6809,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "How to adjust to different behavior of across .fn argument passing in dplyr 1.1.1 vs. 1.0.10?",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "eipi10",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 436817,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjQzNjgxNw==",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/436817?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/eipi10",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/eipi10",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/eipi10/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/eipi10/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/eipi10/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/eipi10/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/eipi10/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/eipi10/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/eipi10/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/eipi10/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/eipi10/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 11,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-03-27T18:26:04Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-04-07T22:20:48Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "CONTRIBUTOR",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "I have a summarizing function that's similar to the function below. It allows the user to pass grouping variables, summary variables and any number of summary functions as arguments. \r\n\r\n```\r\n# Allow user to choose summary function(s)\r\nfnc = function(data, summary.vars=NULL, group.vars=NULL, \r\n               FUNS=c(mean=~mean(., na.rm=TRUE))) {\r\n  data %&gt;% \r\n    group_by(across({{group.vars}})) %&gt;% \r\n    summarise(n=n(), across({{summary.vars}}, \r\n                            .fn=FUNS,\r\n                            .names=\"{.col}_{.fn}\"))\r\n}\r\n```\r\n\r\nI often use `weighted.mean` as a summary function in the `FUNS` argument, which requires a weighting variable, which I pass with the bare column name, like this:\r\n\r\n```\r\nmtcars %&gt;% fnc(c(mpg, hp), c(vs, am), \r\n               FUNS=c(mean=~mean(., na.rm=TRUE), \r\n                      mean.wted=~weighted.mean(., w=cyl, na.rm=TRUE)))\r\n``` \r\n\r\nThis approach worked in `dplyr 1.0.10` and previous versions, but is failing in `dplyr 1.1.1`. Reproducible examples are below, first with 1.0.10 then with 1.1.1. \r\n\r\nHow can I update my function so that it will work properly with `dplyr 1.1.1`? I've never been happy with hard-coding the `w` argument anyway. Is there some tidyeval way that I should be passing the `w` argument into the summary function?\r\n\r\n### Example with `dplyr 1.0.10`\r\n\r\n``` r\r\nlibrary(dplyr)\r\n#&gt; \r\n#&gt; Attaching package: 'dplyr'\r\n#&gt; The following objects are masked from 'package:stats':\r\n#&gt; \r\n#&gt;     filter, lag\r\n#&gt; The following objects are masked from 'package:base':\r\n#&gt; \r\n#&gt;     intersect, setdiff, setequal, union\r\n\r\n# Allow user to choose summary function(s)\r\nfnc = function(data, summary.vars=NULL, group.vars=NULL, \r\n               FUNS=c(mean=~mean(., na.rm=TRUE))) {\r\n  data %&gt;% \r\n    group_by(across({{group.vars}})) %&gt;% \r\n    summarise(n=n(), across({{summary.vars}}, \r\n                            .fn=FUNS,\r\n                            .names=\"{.col}_{.fn}\"))\r\n}\r\n\r\n# These work in both 1.0.10 and 1.1.1\r\nmtcars %&gt;% fnc(c(mpg, hp))\r\n#&gt; # A tibble: 1 × 3\r\n#&gt;       n mpg_mean hp_mean\r\n#&gt;   &lt;int&gt;    &lt;dbl&gt;   &lt;dbl&gt;\r\n#&gt; 1    32     20.1    147.\r\n\r\nmtcars %&gt;% fnc(c(mpg, hp), c(vs, am))\r\n#&gt; `summarise()` has grouped output by 'vs'. You can override using the `.groups`\r\n#&gt; argument.\r\n#&gt; # A tibble: 4 × 5\r\n#&gt; # Groups:   vs [2]\r\n#&gt;      vs    am     n mpg_mean hp_mean\r\n#&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt;    &lt;dbl&gt;   &lt;dbl&gt;\r\n#&gt; 1     0     0    12     15.0   194. \r\n#&gt; 2     0     1     6     19.8   181. \r\n#&gt; 3     1     0     7     20.7   102. \r\n#&gt; 4     1     1     7     28.4    80.6\r\n\r\n# Passing a weighting variable as the w argument in weighted.mean works in dplyr 1.0.10 but fails in dplyr 1.1.1\r\nmtcars %&gt;% fnc(c(mpg, hp), c(vs, am), \r\n               FUNS=c(mean=~mean(., na.rm=TRUE), \r\n                      mean.wted=~weighted.mean(., w=cyl, na.rm=TRUE)))\r\n#&gt; `summarise()` has grouped output by 'vs'. You can override using the `.groups`\r\n#&gt; argument.\r\n#&gt; # A tibble: 4 × 7\r\n#&gt; # Groups:   vs [2]\r\n#&gt;      vs    am     n mpg_mean mpg_mean.wted hp_mean hp_mean.wted\r\n#&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt;    &lt;dbl&gt;         &lt;dbl&gt;   &lt;dbl&gt;        &lt;dbl&gt;\r\n#&gt; 1     0     0    12     15.0          15.1   194.         194. \r\n#&gt; 2     0     1     6     19.8          19.0   181.         198. \r\n#&gt; 3     1     0     7     20.7          20.4   102.         105. \r\n#&gt; 4     1     1     7     28.4          28.4    80.6         80.6\r\n\r\nsessionInfo()\r\n#&gt; R version 4.2.2 (2022-10-31)\r\n#&gt; Platform: aarch64-apple-darwin20 (64-bit)\r\n#&gt; Running under: macOS Ventura 13.2.1\r\n#&gt; \r\n#&gt; Matrix products: default\r\n#&gt; BLAS:   /Library/Frameworks/R.framework/Versions/4.2-arm64/Resources/lib/libRblas.0.dylib\r\n#&gt; LAPACK: /Library/Frameworks/R.framework/Versions/4.2-arm64/Resources/lib/libRlapack.dylib\r\n#&gt; \r\n#&gt; locale:\r\n#&gt; [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8\r\n#&gt; \r\n#&gt; attached base packages:\r\n#&gt; [1] stats     graphics  grDevices utils     datasets  methods   base     \r\n#&gt; \r\n#&gt; other attached packages:\r\n#&gt; [1] dplyr_1.0.10\r\n#&gt; \r\n#&gt; loaded via a namespace (and not attached):\r\n#&gt;  [1] rstudioapi_0.14   knitr_1.42        magrittr_2.0.3    tidyselect_1.2.0 \r\n#&gt;  [5] R.cache_0.16.0    R6_2.5.1          rlang_1.1.0.9000  fastmap_1.1.1    \r\n#&gt;  [9] fansi_1.0.4       styler_1.9.1      tools_4.2.2       xfun_0.37        \r\n#&gt; [13] R.oo_1.25.0       utf8_1.2.3        DBI_1.1.3         cli_3.6.1        \r\n#&gt; [17] withr_2.5.0       htmltools_0.5.4   yaml_2.3.7        digest_0.6.31    \r\n#&gt; [21] tibble_3.2.1      lifecycle_1.0.3   purrr_1.0.1       vctrs_0.6.0.9000 \r\n#&gt; [25] R.utils_2.12.2    fs_1.6.1          glue_1.6.2        evaluate_0.20    \r\n#&gt; [29] rmarkdown_2.20    reprex_2.0.2      compiler_4.2.2    pillar_1.8.1     \r\n#&gt; [33] generics_0.1.3    R.methodsS3_1.8.2 pkgconfig_2.0.3\r\n```\r\n\r\n### Same example, but with `dplyr 1.1.1`\r\n\r\n``` r\r\nlibrary(dplyr)\r\n#&gt; \r\n#&gt; Attaching package: 'dplyr'\r\n#&gt; The following objects are masked from 'package:stats':\r\n#&gt; \r\n#&gt;     filter, lag\r\n#&gt; The following objects are masked from 'package:base':\r\n#&gt; \r\n#&gt;     intersect, setdiff, setequal, union\r\n\r\n# Allow user to choose summary function(s)\r\nfnc = function(data, summary.vars=NULL, group.vars=NULL, \r\n               FUNS=c(mean=~mean(., na.rm=TRUE))) {\r\n  data %&gt;% \r\n    group_by(across({{group.vars}})) %&gt;% \r\n    summarise(n=n(), across({{summary.vars}}, \r\n                            .fn=FUNS,\r\n                            .names=\"{.col}_{.fn}\"))\r\n}\r\n\r\n# These work in both 1.0.10 and 1.1.1\r\nmtcars %&gt;% fnc(c(mpg, hp))\r\n#&gt; # A tibble: 1 × 3\r\n#&gt;       n mpg_mean hp_mean\r\n#&gt;   &lt;int&gt;    &lt;dbl&gt;   &lt;dbl&gt;\r\n#&gt; 1    32     20.1    147.\r\n\r\nmtcars %&gt;% fnc(c(mpg, hp), c(vs, am))\r\n#&gt; `summarise()` has grouped output by 'vs'. You can override using the `.groups`\r\n#&gt; argument.\r\n#&gt; # A tibble: 4 × 5\r\n#&gt; # Groups:   vs [2]\r\n#&gt;      vs    am     n mpg_mean hp_mean\r\n#&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt;    &lt;dbl&gt;   &lt;dbl&gt;\r\n#&gt; 1     0     0    12     15.0   194. \r\n#&gt; 2     0     1     6     19.8   181. \r\n#&gt; 3     1     0     7     20.7   102. \r\n#&gt; 4     1     1     7     28.4    80.6\r\n\r\n# Passing a weighting variable as the w argument in weighted.mean works in dplyr 1.0.10 but fails in dplyr 1.1.1\r\nmtcars %&gt;% fnc(c(mpg, hp), c(vs, am), \r\n               FUNS=c(mean=~mean(., na.rm=TRUE), \r\n                      mean.wted=~weighted.mean(., w=cyl, na.rm=TRUE)))\r\n#&gt; Error in `summarise()`:\r\n#&gt; ℹ In argument: `across(c(mpg, hp), .fn = FUNS, .names =\r\n#&gt;   \"{.col}_{.fn}\")`.\r\n#&gt; ℹ In group 1: `vs = 0`, `am = 0`.\r\n#&gt; Caused by error in `across()`:\r\n#&gt; ! Can't compute column `mpg_mean.wted`.\r\n#&gt; Caused by error in `weighted.mean.default()`:\r\n#&gt; ! object 'cyl' not found\r\n#&gt; Backtrace:\r\n#&gt;      ▆\r\n#&gt;   1. ├─mtcars %&gt;% ...\r\n#&gt;   2. ├─global fnc(...)\r\n#&gt;   3. │ └─data %&gt;% group_by(across({{ group.vars }})) %&gt;% ...\r\n#&gt;   4. ├─dplyr::summarise(...)\r\n#&gt;   5. ├─dplyr:::summarise.grouped_df(...)\r\n#&gt;   6. │ └─dplyr:::summarise_cols(.data, dplyr_quosures(...), by, \"summarise\")\r\n#&gt;   7. │   ├─base::withCallingHandlers(...)\r\n#&gt;   8. │   └─dplyr:::map(quosures, summarise_eval_one, mask = mask)\r\n#&gt;   9. │     └─base::lapply(.x, .f, ...)\r\n#&gt;  10. │       └─dplyr (local) FUN(X[[i]], ...)\r\n#&gt;  11. │         ├─base::withCallingHandlers(...)\r\n#&gt;  12. │         └─mask$eval_all_summarise(quo)\r\n#&gt;  13. │           └─dplyr (local) eval()\r\n#&gt;  14. ├─`&lt;rlng_lm_&gt;`(mpg)\r\n#&gt;  15. │ ├─stats::weighted.mean(., w = cyl, na.rm = TRUE)\r\n#&gt;  16. │ └─stats:::weighted.mean.default(., w = cyl, na.rm = TRUE)\r\n#&gt;  17. └─base::.handleSimpleError(...)\r\n#&gt;  18.   └─dplyr (local) h(simpleError(msg, call))\r\n#&gt;  19.     └─rlang::abort(msg, call = call(\"across\"), parent = cnd)\r\n\r\nsessionInfo()\r\n#&gt; R version 4.2.2 (2022-10-31)\r\n#&gt; Platform: aarch64-apple-darwin20 (64-bit)\r\n#&gt; Running under: macOS Ventura 13.2.1\r\n#&gt; \r\n#&gt; Matrix products: default\r\n#&gt; BLAS:   /Library/Frameworks/R.framework/Versions/4.2-arm64/Resources/lib/libRblas.0.dylib\r\n#&gt; LAPACK: /Library/Frameworks/R.framework/Versions/4.2-arm64/Resources/lib/libRlapack.dylib\r\n#&gt; \r\n#&gt; locale:\r\n#&gt; [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8\r\n#&gt; \r\n#&gt; attached base packages:\r\n#&gt; [1] stats     graphics  grDevices utils     datasets  methods   base     \r\n#&gt; \r\n#&gt; other attached packages:\r\n#&gt; [1] dplyr_1.1.1\r\n#&gt; \r\n#&gt; loaded via a namespace (and not attached):\r\n#&gt;  [1] rstudioapi_0.14   knitr_1.42        magrittr_2.0.3    tidyselect_1.2.0 \r\n#&gt;  [5] R.cache_0.16.0    R6_2.5.1          rlang_1.1.0.9000  fastmap_1.1.1    \r\n#&gt;  [9] fansi_1.0.4       styler_1.9.1      tools_4.2.2       xfun_0.37        \r\n#&gt; [13] R.oo_1.25.0       utf8_1.2.3        cli_3.6.0         withr_2.5.0      \r\n#&gt; [17] htmltools_0.5.4   yaml_2.3.7        digest_0.6.31     tibble_3.2.1     \r\n#&gt; [21] lifecycle_1.0.3   purrr_1.0.1       vctrs_0.6.0.9000  R.utils_2.12.2   \r\n#&gt; [25] fs_1.6.1          glue_1.6.2        evaluate_0.20     rmarkdown_2.20   \r\n#&gt; [29] reprex_2.0.2      compiler_4.2.2    pillar_1.8.1      generics_0.1.3   \r\n#&gt; [33] R.methodsS3_1.8.2 pkgconfig_2.0.3\r\n```\r\n",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6809/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6809/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6806",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6806/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6806/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6806/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6806",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1637564725,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5hm0E1",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6806,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "`count()` and `add_count()` could be much faster",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "DavisVaughan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 19150088,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjE5MTUwMDg4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/19150088?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/DavisVaughan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/DavisVaughan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/DavisVaughan/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/DavisVaughan/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/DavisVaughan/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/DavisVaughan/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/DavisVaughan/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/DavisVaughan/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/DavisVaughan/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/DavisVaughan/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/DavisVaughan/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-03-23T13:38:59Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-03-23T13:44:59Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "MEMBER",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "Right now these eventually just do `summarise(n = n())` or `mutate(n = n())` at some point, but that can be very slow with many groups. We already have `vec_count()`, which should be much much faster than `count()` with many groups. We could also add some kind of vctrs primitive that works like a windowed count for `add_count()`, or just build on top of `vec_count()`'s result plus an additional call to `vec_match()`.\r\n\r\nWe'd have to think through how weighted counts would work, maybe `vec_count()` needs support for a weight argument (a double vector).\r\n\r\nMotivation is something like this, and flights isn't even that big. Roughly 55k groups here.\r\n\r\n``` r\r\nlibrary(dplyr)\r\nlibrary(nycflights13)\r\n\r\nbench::mark(\r\n  count(flights, dep_time, dep_delay),\r\n  vctrs::vec_count(flights[c(\"dep_time\", \"dep_delay\")]),\r\n  check = FALSE\r\n)\r\n#&gt; Warning: Some expressions had a GC in every iteration; so filtering is\r\n#&gt; disabled.\r\n#&gt; # A tibble: 2 × 6\r\n#&gt;   expression                                                 min  median itr/s…¹\r\n#&gt;   &lt;bch:expr&gt;                                            &lt;bch:tm&gt; &lt;bch:t&gt;   &lt;dbl&gt;\r\n#&gt; 1 count(flights, dep_time, dep_delay)                    419.6ms 441.4ms    2.27\r\n#&gt; 2 vctrs::vec_count(flights[c(\"dep_time\", \"dep_delay\")])   17.3ms  21.5ms   42.7 \r\n#&gt; # … with 2 more variables: mem_alloc &lt;bch:byt&gt;, `gc/sec` &lt;dbl&gt;, and abbreviated\r\n#&gt; #   variable name ¹​`itr/sec`\r\n```\r\n\r\nAlso need to handle the fact that `...` and `wt` are data-masking, probably with `add_computed_columns()` like `distinct()`.",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6806/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 1,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 1,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6806/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6802",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6802/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6802/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6802/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6802",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1634653405,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5hbtTd",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6802,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "Reconsider re-exports from rlang",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "DavisVaughan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 19150088,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjE5MTUwMDg4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/19150088?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/DavisVaughan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/DavisVaughan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/DavisVaughan/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/DavisVaughan/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/DavisVaughan/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/DavisVaughan/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/DavisVaughan/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/DavisVaughan/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/DavisVaughan/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/DavisVaughan/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/DavisVaughan/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-03-21T20:35:59Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-03-21T20:36:19Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "MEMBER",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "Can we start to un-export any of these https://github.com/tidyverse/dplyr/blob/main/R/utils-tidy-eval.R?\r\n\r\nAlso, should we un-export `.data`? It doesn't belong on that help page, as noted in https://github.com/tidyverse/dplyr/pull/6801. We also don't export `.env` from dplyr, but those two are very closely related, and right now you can do `?dplyr::.data` but not `?dplyr::.env`.",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6802/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6802/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6795",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6795/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6795/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6795/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6795",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1631415133,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5hPWtd",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6795,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "`filter()` error for matrices doesn't give hint per NEWS for 1.0.8",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "mine-cetinkaya-rundel",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 5965649,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjU5NjU2NDk=",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/5965649?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/mine-cetinkaya-rundel",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/mine-cetinkaya-rundel",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/mine-cetinkaya-rundel/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/mine-cetinkaya-rundel/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/mine-cetinkaya-rundel/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/mine-cetinkaya-rundel/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/mine-cetinkaya-rundel/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/mine-cetinkaya-rundel/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/mine-cetinkaya-rundel/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/mine-cetinkaya-rundel/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/mine-cetinkaya-rundel/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 5,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-03-20T05:31:15Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-03-20T20:09:57Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "MEMBER",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "Between 1.0.7 and 1.1.0 `filter()` stopped taking matrices, per #5973. [NEWS for dplyr 1.0.8](https://github.com/tidyverse/dplyr/blob/main/NEWS.md#dplyr-108) reflects this change, but it also says there should be an informative message:\r\n\r\n&gt; - `filter()` forbids matrix results (#5973) and warns about data frame results, especially data frames created from `across()` with a hint to use `if_any()` or `if_all()`.\r\n\r\nSee reprex below:\r\n\r\nGoal: Drop rows where _all_ columns other than `id` are `NA`s.\r\n\r\n```r\r\n# create df ––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––\r\n\r\nlibrary(tibble)\r\n\r\ndf &lt;- tribble(\r\n  ~id, ~x,  ~y,\r\n  1,   NA, \"a\",\r\n  2,  \"b\",  NA,\r\n  3,   NA,  NA,\r\n  4,  \"c\", \"d\",\r\n)\r\n\r\n# new dplyr - 1.1.0 ––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––\r\n\r\nsuppressMessages(library(dplyr))\r\npackageVersion(\"dplyr\")\r\n#&gt; [1] '1.1.0'\r\n\r\n# works\r\ndf |&gt;\r\n  filter(if_any(!id, ~!is.na(.)))\r\n#&gt; # A tibble: 3 × 3\r\n#&gt;      id x     y    \r\n#&gt;   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;\r\n#&gt; 1     1 &lt;NA&gt;  a    \r\n#&gt; 2     2 b     &lt;NA&gt; \r\n#&gt; 3     4 c     d\r\n\r\n# doesn't work\r\ndf |&gt;\r\n  filter(!across(-id, is.na))\r\n#&gt; Error in `filter()`:\r\n#&gt; ℹ In argument: `!across(-id, is.na)`.\r\n#&gt; Caused by error:\r\n#&gt; ! `..1` must be a logical vector, not a logical matrix.\r\n\r\n# old dplyr - 1.0.7 ––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––\r\n\r\nunloadNamespace(\"dplyr\")\r\nnew_lib &lt;- tempfile()\r\ndir.create(new_lib)\r\nwithr::with_libpaths(new = new_lib, remotes::install_version(\"dplyr\", \"1.0.7\"))\r\nsuppressMessages(library(dplyr, lib.loc = new_lib))\r\npackageVersion(\"dplyr\")\r\n#&gt; [1] '1.0.7'\r\n\r\n# works\r\ndf |&gt;\r\n  filter(if_any(!id, ~!is.na(.)))\r\n#&gt; # A tibble: 3 × 3\r\n#&gt;      id x     y    \r\n#&gt;   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;\r\n#&gt; 1     1 &lt;NA&gt;  a    \r\n#&gt; 2     2 b     &lt;NA&gt; \r\n#&gt; 3     4 c     d\r\n\r\n# also works, but gives a different answer\r\ndf |&gt;\r\n  filter(!across(-id, is.na))\r\n#&gt; # A tibble: 2 × 3\r\n#&gt;      id x     y    \r\n#&gt;   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;\r\n#&gt; 1     2 b     &lt;NA&gt; \r\n#&gt; 2     4 c     d\r\n\r\nunlink(new_lib, recursive = TRUE)\r\n```\r\n\r\nI believe, per the NEWS item, the message should be improved. I had a hard time deciphering the error given by 1.1.0 above, hence went the rabbit hole of trying to figure out what changed between the sessions.",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6795/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6795/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6783",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6783/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6783/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6783/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6783",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1615008309,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5gQxI1",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6783,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "`slice_max()` is quite slow for a big number of groups",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "mgirlich",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 18258854,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjE4MjU4ODU0",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/18258854?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/mgirlich",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/mgirlich",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/mgirlich/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/mgirlich/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/mgirlich/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/mgirlich/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/mgirlich/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/mgirlich/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/mgirlich/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/mgirlich/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/mgirlich/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 1,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-03-08T10:09:01Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-03-08T16:16:31Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "NONE",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "It has gotten better after installing the dev version of dplyr (before a lot of time was wasted in `arg_match()`). But it has still a big overhead.\r\n\r\n``` r\r\nlibrary(dplyr)\r\n\r\nset.seed(1)\r\nn &lt;- 10e3\r\ndf &lt;- tibble(\r\n  id = sample(n, n, replace = TRUE),\r\n  x = runif(n)\r\n)\r\n\r\nbench::mark(\r\n  slice_max = df |&gt; \r\n    slice_max(x, n = 1, with_ties = FALSE, by = id),\r\n  arrange_slice = df |&gt;\r\n    arrange(desc(x)) |&gt; \r\n    slice(1, .by = id),\r\n  row_number = df |&gt;\r\n    filter(row_number(x) == n(), .by = id),\r\n  # can't check because the order is different\r\n  check = FALSE\r\n)\r\n#&gt; Warning: Some expressions had a GC in every iteration; so filtering is\r\n#&gt; disabled.\r\n#&gt; # A tibble: 3 × 6\r\n#&gt;   expression         min   median `itr/sec` mem_alloc `gc/sec`\r\n#&gt;   &lt;bch:expr&gt;    &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;\r\n#&gt; 1 slice_max      803.7ms  803.7ms      1.24    7.57MB     23.6\r\n#&gt; 2 arrange_slice  272.3ms  290.5ms      3.44    1.86MB     22.4\r\n#&gt; 3 row_number      91.3ms   96.5ms     10.4     4.04MB     22.4\r\n\r\n# just make sure that the three approaches give the same results\r\na1 &lt;- df |&gt; \r\n  slice_max(x, n = 1, with_ties = FALSE, by = id) |&gt; \r\n  arrange(id)\r\na2 &lt;- df |&gt;\r\n  arrange(desc(x)) |&gt; \r\n  slice(1, .by = id) |&gt; \r\n  arrange(id)\r\na3 &lt;- df |&gt;\r\n  filter(row_number(x) == n(), .by = id) |&gt; \r\n  arrange(id)\r\n\r\nidentical(a1, a2)\r\n#&gt; [1] TRUE\r\nidentical(a1, a3)\r\n#&gt; [1] TRUE\r\n```\r\n\r\n&lt;sup&gt;Created on 2023-03-08 with [reprex v2.0.2](https://reprex.tidyverse.org)&lt;\/sup&gt;\r\n\r\n&lt;details style=\"margin-bottom:10px;\"&gt;\r\n&lt;summary&gt;\r\nSession info\r\n&lt;\/summary&gt;\r\n\r\n``` r\r\nsessioninfo::session_info()\r\n#&gt; ─ Session info ───────────────────────────────────────────────────────────────\r\n#&gt;  setting  value\r\n#&gt;  version  R version 4.2.0 (2022-04-22)\r\n#&gt;  os       macOS Big Sur/Monterey 10.16\r\n#&gt;  system   x86_64, darwin17.0\r\n#&gt;  ui       X11\r\n#&gt;  language (EN)\r\n#&gt;  collate  en_US.UTF-8\r\n#&gt;  ctype    en_US.UTF-8\r\n#&gt;  tz       UTC\r\n#&gt;  date     2023-03-08\r\n#&gt;  pandoc   2.19.2 @ /Applications/RStudio.app/Contents/Resources/app/quarto/bin/tools/ (via rmarkdown)\r\n#&gt; \r\n#&gt; ─ Packages ───────────────────────────────────────────────────────────────────\r\n#&gt;  package     * version    date (UTC) lib source\r\n#&gt;  bench         1.1.2      2021-11-30 [1] CRAN (R 4.2.0)\r\n#&gt;  cli           3.6.0      2023-01-09 [1] CRAN (R 4.2.0)\r\n#&gt;  digest        0.6.31     2022-12-11 [1] CRAN (R 4.2.0)\r\n#&gt;  dplyr       * 1.1.0.9000 2023-03-08 [1] Github (tidyverse/dplyr@2222d43)\r\n#&gt;  evaluate      0.20       2023-01-17 [1] CRAN (R 4.2.0)\r\n#&gt;  fansi         1.0.4      2023-01-22 [1] CRAN (R 4.2.0)\r\n#&gt;  fastmap       1.1.1      2023-02-24 [1] CRAN (R 4.2.0)\r\n#&gt;  fs            1.6.1      2023-02-06 [1] CRAN (R 4.2.0)\r\n#&gt;  generics      0.1.3      2022-07-05 [1] CRAN (R 4.2.0)\r\n#&gt;  glue          1.6.2      2022-02-24 [1] CRAN (R 4.2.0)\r\n#&gt;  htmltools     0.5.4      2022-12-07 [1] CRAN (R 4.2.0)\r\n#&gt;  knitr         1.42       2023-01-25 [1] CRAN (R 4.2.0)\r\n#&gt;  lifecycle     1.0.3.9000 2022-10-10 [1] Github (r-lib/lifecycle@80a1e52)\r\n#&gt;  magrittr      2.0.3      2022-03-30 [1] CRAN (R 4.2.0)\r\n#&gt;  pillar        1.8.1      2022-08-19 [1] CRAN (R 4.2.0)\r\n#&gt;  pkgconfig     2.0.3      2019-09-22 [1] CRAN (R 4.2.0)\r\n#&gt;  profmem       0.6.0      2020-12-13 [1] CRAN (R 4.2.0)\r\n#&gt;  purrr         1.0.1      2023-01-10 [1] CRAN (R 4.2.0)\r\n#&gt;  R.cache       0.16.0     2022-07-21 [1] CRAN (R 4.2.0)\r\n#&gt;  R.methodsS3   1.8.2      2022-06-13 [1] CRAN (R 4.2.0)\r\n#&gt;  R.oo          1.25.0     2022-06-12 [1] CRAN (R 4.2.0)\r\n#&gt;  R.utils       2.12.2     2022-11-11 [1] CRAN (R 4.2.0)\r\n#&gt;  R6            2.5.1      2021-08-19 [1] CRAN (R 4.2.0)\r\n#&gt;  reprex        2.0.2      2022-08-17 [1] CRAN (R 4.2.0)\r\n#&gt;  rlang         1.1.0      2023-03-07 [1] Github (r-lib/rlang@60159c7)\r\n#&gt;  rmarkdown     2.20       2023-01-19 [1] CRAN (R 4.2.0)\r\n#&gt;  rstudioapi    0.14       2022-08-22 [1] CRAN (R 4.2.0)\r\n#&gt;  sessioninfo   1.2.2      2021-12-06 [1] CRAN (R 4.2.0)\r\n#&gt;  styler        1.9.1      2023-03-04 [1] CRAN (R 4.2.0)\r\n#&gt;  tibble        3.1.8      2022-07-22 [1] CRAN (R 4.2.0)\r\n#&gt;  tidyselect    1.2.0      2022-10-10 [1] CRAN (R 4.2.0)\r\n#&gt;  utf8          1.2.3      2023-01-31 [1] CRAN (R 4.2.0)\r\n#&gt;  vctrs         0.5.2.9000 2023-03-08 [1] Github (r-lib/vctrs@bdea1ce)\r\n#&gt;  withr         2.5.0      2022-03-03 [1] CRAN (R 4.2.0)\r\n#&gt;  xfun          0.37       2023-01-31 [1] CRAN (R 4.2.0)\r\n#&gt;  yaml          2.3.7      2023-01-23 [1] CRAN (R 4.2.0)\r\n#&gt; \r\n#&gt;  [1] /Library/Frameworks/R.framework/Versions/4.2/Resources/library\r\n#&gt; \r\n#&gt; ──────────────────────────────────────────────────────────────────────────────\r\n```\r\n\r\n&lt;\/details&gt;",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6783/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6783/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6774",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6774/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6774/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6774/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6774",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1609648276,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5f8UiU",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6774,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "`ungroup()` drops data frame attributes",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "mkoohafkan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 4790348,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjQ3OTAzNDg=",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/4790348?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/mkoohafkan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/mkoohafkan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/mkoohafkan/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/mkoohafkan/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/mkoohafkan/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/mkoohafkan/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/mkoohafkan/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/mkoohafkan/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/mkoohafkan/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/mkoohafkan/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/mkoohafkan/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 4,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-03-04T07:05:33Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-03-23T15:56:06Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "NONE",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "This is referring to **dataframe/tibble** attributes, not tibble *column* attributes. The CRAN install of dplyr 1.1.0 sometimes drops attributes:\r\n\r\n```r\r\nd = mtcars\r\nattr(d, \"foo\") = \"bar\"\r\nattr(d, \"foo\")\r\n#&gt; [1] \"bar\"\r\n\r\n## preserved\r\nd |&gt; select(cyl) |&gt; attr(\"foo\")\r\n#&gt; [1] \"bar\"\r\nd |&gt; rename(cyl2 = cyl) |&gt; attr(\"foo\")\r\n#&gt; [1] \"bar\"\r\nd |&gt; arrange(cyl) |&gt; attr(\"foo\")\r\n#&gt; [1] \"bar\"\r\nd |&gt; group_by(cyl) |&gt; attr(\"foo\")\r\n#&gt; [1] \"bar\"\r\nd |&gt; mutate(mpg2 = mpg) |&gt; attr(\"foo\")\r\n#&gt; [1] \"bar\"\r\nd |&gt; transmute(mpg2 = mpg) |&gt; attr(\"foo\")\r\n#&gt; [1] \"bar\"\r\nd |&gt; filter(cyl == 1L) |&gt; attr(\"foo\")\r\n#&gt; [1] \"bar\"\r\nd |&gt; count(cyl) |&gt; attr(\"foo\") \r\n#&gt; [1] \"bar\"\r\nd |&gt; bind_rows(d) |&gt; attr(\"foo\")\r\n#&gt; [1] \"bar\"\r\nd |&gt; bind_cols(select(d, cyl2 = cyl)) |&gt; attr(\"foo\")\r\n#&gt; [1] \"bar\"\r\n\r\n\r\n## dropped\r\nd |&gt; group_by(cyl) |&gt; ungroup() |&gt; attr(\"foo\")\r\n#&gt; NULL\r\nd |&gt; summarize(mpg = max(mpg)) |&gt; attr(\"foo\")\r\n#&gt; NULL\r\n```\r\n\r\nI can understand why it might make sense for `summarize()` to drop attributes (but then why does `count()` preserve them?), but I don't see why `ungroup(group_by(...))` should drop attributes unilaterally. Given that almost all `dplyr` verbs preserve the attribute, I'm wondering if this is a bug/regression.\r\n\r\nThere are a variety of issues regarding attributes but they are all closed.\r\n\r\n- https://github.com/tidyverse/dplyr/issues/2432\r\n- https://github.com/tidyverse/dplyr/issues/5132\r\n- https://github.com/tidyverse/dplyr/issues/3429\r\n",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6774/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 1,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 1,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6774/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6712",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6712/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6712/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6712/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6712",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1580234527,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5eMHcf",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6712,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "Can we improve on this `across()` error?",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "DavisVaughan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 19150088,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjE5MTUwMDg4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/19150088?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/DavisVaughan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/DavisVaughan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/DavisVaughan/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/DavisVaughan/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/DavisVaughan/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/DavisVaughan/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/DavisVaughan/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/DavisVaughan/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/DavisVaughan/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/DavisVaughan/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/DavisVaughan/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-02-10T19:48:08Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-02-10T19:48:08Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "MEMBER",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "``` r\r\nlibrary(dplyr)\r\n\r\ndf &lt;- tibble(x = 1:2, y = 3:4)\r\n\r\nfn &lt;- function(col) {\r\n  stop(\"oh no\")\r\n}\r\n\r\nmutate(df, across(y, fn))\r\n#&gt; Error in `mutate()`:\r\n#&gt; ℹ In argument: `across(y, fn)`.\r\n#&gt; Caused by error in `across()`:\r\n#&gt; ! Can't compute column `y`.\r\n#&gt; Caused by error:\r\n#&gt; ! oh no\r\n```\r\n\r\nIt can probably just be:\r\n\r\n```r\r\n#&gt; Error in `mutate()`:\r\n#&gt; ℹ In argument: `across(y, fn)`.\r\n#&gt; ℹ In column: `y`.\r\n#&gt; Caused by error:\r\n#&gt; ! oh no\r\n```\r\n\r\nAs mentioned here https://github.com/tidyverse/dplyr/pull/6704#discussion_r1102408064\r\n\r\nThrown from here, so seems plausible that we could improve on this\r\nhttps://github.com/tidyverse/dplyr/blob/49b39af5ebd79bf06bb809c8fdf3bd955d8f9ad8/R/mutate.R#L382-L388",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6712/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6712/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6676",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6676/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6676/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6676/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6676",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1566600644,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5dYG3E",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6676,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "`bind_rows()` on a list of data.tables creates corrupt output",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "emilBeBri",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 964816,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjk2NDgxNg==",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/964816?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/emilBeBri",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/emilBeBri",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/emilBeBri/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/emilBeBri/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/emilBeBri/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/emilBeBri/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/emilBeBri/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/emilBeBri/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/emilBeBri/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/emilBeBri/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/emilBeBri/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 4,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-02-01T18:29:11Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-02-14T17:33:04Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "NONE",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "\r\nwhen using bind_rows on a list of data.tables with keys, with either map_dfr or a do.call, the keys are not removed This is a problem, because the keys are not correct anymore, which means that later queries are using an index that is wrong. \r\n\r\nnot sure if I should report this under data.table or dplyr, but since the issue is in bin_rows, I guess it is dplyr.\r\n\r\n[here is the issue I filed under data.table](https://github.com/Rdatatable/data.table/issues/5587)\r\n\r\n\r\n\r\n\r\n```\r\n\r\n\r\nlibrary(data.table)\r\nlibrary(dplyr)\r\n\r\n\r\n\r\n\r\ndata &lt;- data.table(var1=c('a', 'b', 'c', 'd', 'e', 'f', 'g', 'h'), var2=c(rep(2016, 4), rep(2018, 4)), key=c('var1', 'var2'))\r\n\r\n\r\ntest1 &lt;- lapply(c(2018, 2016), function(x) data[var2 %in% c(x-1, x)])\r\n\r\n\r\ntest2 &lt;- do.call(bind_rows, test1)\r\n# wrong \r\ntest2[var1 %in% c('c', 'e'), .N]\r\n# right\r\nsum( test2$var1 %in% c('c', 'e') )\r\n\r\n\r\n```\r\n\r\nsame thing  happens w. map_dfr,that uses bind_rows under the hood. This is how I found the issue. It is very common in my workflow, and I suspect I am not the one.\r\n\r\n\r\ndoing the same with rbind removes the keys, which is the expected behaviour - as the index from the key are no longer valid.\r\n\r\n\r\n```\r\n\r\ntest2_rbind &lt;- do.call(rbind, test1) \r\n# here it is fine - because the keys not there, giving a wrong picture of the structure of the DT\r\ntest2_rbind[var1 %in% c('c', 'e'), .N]\r\n\r\n# when removing the keys, everything is fine. \r\nsetkey(test2, NULL)\r\ntest2[var1 %in% c('c', 'e'), .N]\r\n\r\n\r\n```\r\n\r\n\r\n\r\ncuriosly, using split() instead of lapply circumvents the issue - but this is not a solution, since typically you need to apply a function to the data, - splitting it and then recombining it with split() makes no sense. But I am including it here for completeness.\r\n\r\n\r\n```\r\n\r\n\r\ntest1 &lt;- split(data, data$var2)\r\ntest2 &lt;- do.call(bind_rows, test1)\r\n# right \r\ntest2[var1 %in% c('c', 'e'), .N]\r\n\r\n```\r\n\r\nsessionInfo\r\n\r\n```\r\n\r\nR version 4.2.2 (2022-10-31)\r\nPlatform: x86_64-pc-linux-gnu (64-bit)\r\nRunning under: Manjaro Linux\r\n\r\nMatrix products: default\r\nBLAS:   /usr/lib/libblas.so.3.11.0\r\nLAPACK: /usr/lib/liblapack.so.3.11.0\r\n\r\nlocale:\r\n [1] LC_CTYPE=en_DK.UTF-8       LC_NUMERIC=C\r\n [3] LC_TIME=en_DK.UTF-8        LC_COLLATE=en_DK.UTF-8\r\n [5] LC_MONETARY=en_DK.UTF-8    LC_MESSAGES=en_DK.UTF-8\r\n [7] LC_PAPER=en_DK.UTF-8       LC_NAME=C\r\n [9] LC_ADDRESS=C               LC_TELEPHONE=C\r\n[11] LC_MEASUREMENT=en_DK.UTF-8 LC_IDENTIFICATION=C\r\n\r\nattached base packages:\r\n[1] stats     graphics  grDevices utils     datasets  methods   base\r\n\r\nother attached packages:\r\n[1] dplyr_1.0.10      data.table_1.14.6\r\n\r\nloaded via a namespace (and not attached):\r\n [1] fansi_1.0.4      assertthat_0.2.1 utf8_1.2.2       R6_2.5.1\r\n [5] DBI_1.1.3        lifecycle_1.0.3  magrittr_2.0.3   pillar_1.8.1\r\n [9] rlang_1.0.6      cli_3.6.0        vctrs_0.5.2      generics_0.1.3\r\n[13] glue_1.6.2       compiler_4.2.2   pkgconfig_2.0.3  tidyselect_1.2.0\r\n[17] tibble_3.1.8\r\n\r\n\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6676/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6676/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6663",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6663/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6663/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6663/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6663",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1558485964,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5c5JvM",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6663,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "Consider `.sort = FALSE` for `summarise()`, `reframe()`, and `slice_sample()`",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "DavisVaughan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 19150088,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjE5MTUwMDg4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/19150088?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/DavisVaughan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/DavisVaughan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/DavisVaughan/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/DavisVaughan/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/DavisVaughan/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/DavisVaughan/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/DavisVaughan/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/DavisVaughan/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/DavisVaughan/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/DavisVaughan/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/DavisVaughan/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "id": 17708200,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "node_id": "MDU6TGFiZWwxNzcwODIwMA==",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "url": "https://api.github.com/repos/tidyverse/dplyr/labels/feature",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "name": "feature",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "color": "B4C3AE",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "default": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "description": "a feature request or enhancement"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "id": 1728164976,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "node_id": "MDU6TGFiZWwxNzI4MTY0OTc2",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "url": "https://api.github.com/repos/tidyverse/dplyr/labels/grouping%20:family_man_woman_girl_boy:",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "name": "grouping :family_man_woman_girl_boy:",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "color": "eeeeee",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "default": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "description": ""</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-01-26T17:12:12Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-01-26T17:12:22Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "MEMBER",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "With the introduction of `.by`, we no longer sort group keys automatically. There are a whole host of good reasons for this as outlined here https://github.com/tidyverse/dplyr/issues/5664#issuecomment-907232443, and I am mostly confident this is the right long term default for dplyr.\r\n\r\nHowever, I am empathetic to the fact that users do often like to see their summary results sorted in ascending order. Right now, our recommendation is:\r\n\r\n```r\r\ndf %&gt;%\r\n  summarise(..., .by = c(a, b, c)) %&gt;%\r\n  arrange(a, b, c) # could also come before `summarise()`\r\n```\r\n\r\nThis is nice because you get the full power of `arrange()` including `desc()` and `.locale`.\r\n\r\nI think we should _consider_ a `.sort` argument like:\r\n\r\n```r\r\ndf %&gt;%\r\n  summarise(..., .by = c(a, b, c), .sort = TRUE)\r\n```\r\n\r\n- `.sort = FALSE` would be the default for reasons mentioned above.\r\n- We'd document this as the 100% backwards compatible way to transition from `group_by()` to `.by` (even though most of the time the ordering isn't important).\r\n- You must accept that you get _ascending order_ and the _C locale_. That makes it compatible with `group_by()`. If you need anything fancier, call `arrange()`.\r\n- I do like that you won't have to repeat the group names.\r\n- Obviously `.sort = TRUE` errors on unorderable types like clock's year-month-weekday.\r\n- This would probably only be an argument for the `.data.frame` method, as opposed to the generic, because dbplyr probably won't want to enforce a sort order? Uncertain.\r\n\r\nBasically, this leaves the idea of a `groupby + summarise` operation theoretically pure (because it shouldn't require orderable keys), but also gives users a convenient way to optionally opt in to sorted results.\r\n\r\n---\r\n\r\nThere are 3 functions that would get this argument:\r\n- `summarise()`\r\n- `reframe()`\r\n- `slice_sample()` (goes with #6662)\r\n\r\nThe following would not get `.sort` because they aren't about row ordering:\r\n- `filter()`\r\n- `mutate()`\r\n- `slice()` and `slice_min/max/head/tail()` (after #6662 is changed)",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6663/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 1,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 1,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6663/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6662",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6662/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6662/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6662/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6662",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1558447141,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5c5AQl",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6662,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "`slice()` and `slice_head/tail/min/max()` should act like a `filter()` not a `reframe()`",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "DavisVaughan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 19150088,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjE5MTUwMDg4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/19150088?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/DavisVaughan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/DavisVaughan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/DavisVaughan/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/DavisVaughan/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/DavisVaughan/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/DavisVaughan/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/DavisVaughan/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/DavisVaughan/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/DavisVaughan/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/DavisVaughan/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/DavisVaughan/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "id": 17708198,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "node_id": "MDU6TGFiZWwxNzcwODE5OA==",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "url": "https://api.github.com/repos/tidyverse/dplyr/labels/bug",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "name": "bug",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "color": "E0B3A2",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "default": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "description": "an unexpected problem or unintended behavior"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "id": 3407327207,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "node_id": "LA_kwDOAGIUpc7LF6_n",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "url": "https://api.github.com/repos/tidyverse/dplyr/labels/rows%20%E2%86%95%EF%B8%8F",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "name": "rows ↕️",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "color": "eeeeee",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "default": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "description": "Operations on rows: filter(), slice(), arrange()"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-01-26T16:46:52Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-01-26T16:51:00Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "MEMBER",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "Note that this `filter()` call keeps the groups of `x` separated. i.e.  the groups of `2` and `1` are not aggregated together\r\n\r\n``` r\r\nlibrary(dplyr, warn.conflicts = FALSE)\r\n\r\ndf &lt;- tibble(x = c(2, 1, 2, 2, 1), y = c(3, 2, 1, 2, 4))\r\ndf\r\n#&gt; # A tibble: 5 × 2\r\n#&gt;       x     y\r\n#&gt;   &lt;dbl&gt; &lt;dbl&gt;\r\n#&gt; 1     2     3\r\n#&gt; 2     1     2\r\n#&gt; 3     2     1\r\n#&gt; 4     2     2\r\n#&gt; 5     1     4\r\n\r\n# Maintain group separation, we just take the first 2 per x group\r\ndf %&gt;% filter(row_number() %in% 1:2, .by = x)\r\n#&gt; # A tibble: 4 × 2\r\n#&gt;       x     y\r\n#&gt;   &lt;dbl&gt; &lt;dbl&gt;\r\n#&gt; 1     2     3\r\n#&gt; 2     1     2\r\n#&gt; 3     2     1\r\n#&gt; 4     1     4\r\n```\r\n\r\n`filter()` is simply about deciding which rows to keep, not about the ordering of the result.\r\n\r\nI think that `slice()` and `slice_head/tail/min/max()` should function the exact same way. They currently do not:\r\n\r\n``` r\r\n# These both group the results by `x`.\r\n# The difference is `.by` doesn't do an additional sort by `x`.\r\ndf %&gt;% slice(1:2, .by = x)\r\n#&gt; # A tibble: 4 × 2\r\n#&gt;       x     y\r\n#&gt;   &lt;dbl&gt; &lt;dbl&gt;\r\n#&gt; 1     2     3\r\n#&gt; 2     2     1\r\n#&gt; 3     1     2\r\n#&gt; 4     1     4\r\n\r\ndf %&gt;% group_by(x) %&gt;% slice(1:2)\r\n#&gt; # A tibble: 4 × 2\r\n#&gt; # Groups:   x [2]\r\n#&gt;       x     y\r\n#&gt;   &lt;dbl&gt; &lt;dbl&gt;\r\n#&gt; 1     1     2\r\n#&gt; 2     1     4\r\n#&gt; 3     2     3\r\n#&gt; 4     2     1\r\n```\r\n\r\nSlicing is purely about figuring out which rows to _keep_. It doesn't have anything to do with determining the order of said rows.\r\n\r\nThe current slice implementation is (implicitly) like a `reframe()` call instead.\r\n\r\n``` r\r\ndf %&gt;% reframe(.by = x, {\r\n  data &lt;- pick(everything())\r\n  data[row_number() %in% 1:2,]\r\n})\r\n#&gt; # A tibble: 4 × 2\r\n#&gt;       x     y\r\n#&gt;   &lt;dbl&gt; &lt;dbl&gt;\r\n#&gt; 1     2     3\r\n#&gt; 2     2     1\r\n#&gt; 3     1     2\r\n#&gt; 4     1     4\r\n```\r\n\r\nI think the way to practically make it work like a `filter()` is to change the implementation to build up a logical vector the same size as `.data` to slice with. That would retain the row ordering of `.data`.\r\n\r\n---\r\n\r\nThe one `slice()` family exception to this is `slice_sample()`, which is not a filter. It can even generate more rows than you started with. Possibly this is a sign that `slice_*()` was an unfortunate prefix for that.\r\n\r\nFor this reason, `slice_sample()` should continue to aggregate groups together. It will just be slightly different, but that is okay.",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6662/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6662/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6660",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6660/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6660/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6660/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6660",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1556850210,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5cy6Yi",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6660,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "`mutate(.by_row =)`, `reframe(.by_row =)`, and possibly `filter(.by_row =)`",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "DavisVaughan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 19150088,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjE5MTUwMDg4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/19150088?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/DavisVaughan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/DavisVaughan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/DavisVaughan/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/DavisVaughan/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/DavisVaughan/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/DavisVaughan/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/DavisVaughan/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/DavisVaughan/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/DavisVaughan/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/DavisVaughan/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/DavisVaughan/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "id": 17708200,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "node_id": "MDU6TGFiZWwxNzcwODIwMA==",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "url": "https://api.github.com/repos/tidyverse/dplyr/labels/feature",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "name": "feature",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "color": "B4C3AE",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "default": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "description": "a feature request or enhancement"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 4,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-01-25T15:31:55Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-02-08T19:02:16Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "MEMBER",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "Related to https://github.com/tidyverse/dplyr/issues/4723\r\n\r\nWith the introduction of `.by`, it seems reasonable to once again reconsider `rowwise()` as well. I think we are convinced that the _idea_ of rowwise is useful, but the implementation could possibly be improved. A few pain points:\r\n- `rowwise()` is a form of persistent grouping, but you rarely want it on for more than 1 operation\r\n- `ungroup()` is an odd verb for turning off rowwise behavior\r\n- It still sucks that you need `summarise(model = list(lm(...)))`, i.e. the `list()` wrapping is manual\r\n- Maintaining the `rowwise_df` class is difficult and error prone for us\r\n- There are _very_ few times where rowwise behavior is actually useful. I think the two cases are `mutate()` and `reframe()`.\r\n\r\n---\r\n\r\nWith that in mind, I'd like to suggest a two-part replacement for `rowwise()`:\r\n- Two per-operation rowwise verbs, `mutate_row()` and `reframe_row()`. These become the _only_ two places in dplyr where rowwise behavior is applicable.\r\n- Give `mutate()`, `summarise()`, `reframe()`, `mutate_row()`, and `reframe_row()` the ability to automatically wrap scalars in a list. i.e. if `vec_is(elt)` is `FALSE`, wrap automatically into a list. This means that value could _never_ exist in a data frame column as is, so there is no ambiguity about wrapping and it is fairly easy to explain.\r\n\r\nThose two proposals result in the following new patterns:\r\n\r\n```r\r\n# dplyr 1.1.0\r\niris %&gt;%\r\n  tidyr::nest(.by = Species) %&gt;%\r\n  rowwise(Species) %&gt;%\r\n  mutate(model = list(lm(Petal.Length ~ Sepal.Length, data = data))) %&gt;%\r\n  reframe(broom::tidy(model))\r\n   \r\n# New 1:\r\n# (note the lack of list(), and no persistant rowwise-ness)\r\n# (note how we carry Species along in the reframe_row() call)\r\niris %&gt;%\r\n  tidyr::nest(.by = Species) %&gt;%\r\n  mutate_row(model = lm(Petal.Length ~ Sepal.Length, data = data)) %&gt;%\r\n  reframe_row(Species, broom::tidy(model))\r\n\r\n# New 2:\r\n# (note that even summarise() doesn't need manual list() wrapping)\r\niris %&gt;%\r\n  summarise(\r\n    model = lm(Petal.Length ~ Sepal.Length, data = pick(everything())),\r\n    .by = Species\r\n  ) %&gt;%\r\n  reframe_row(Species, broom::tidy(model))\r\n\r\n# All result in:\r\n\r\n#&gt; # A tibble: 6 × 6\r\n#&gt;   Species    term         estimate std.error statistic  p.value\r\n#&gt;   &lt;fct&gt;      &lt;chr&gt;           &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;\r\n#&gt; 1 setosa     (Intercept)     0.803    0.344      2.34  2.38e- 2\r\n#&gt; 2 setosa     Sepal.Length    0.132    0.0685     1.92  6.07e- 2\r\n#&gt; 3 versicolor (Intercept)     0.185    0.514      0.360 7.20e- 1\r\n#&gt; 4 versicolor Sepal.Length    0.686    0.0863     7.95  2.59e-10\r\n#&gt; 5 virginica  (Intercept)     0.610    0.417      1.46  1.50e- 1\r\n#&gt; 6 virginica  Sepal.Length    0.750    0.0630    11.9   6.30e-16\r\n```\r\n\r\nThis two part proposal has the very nice property that the difference between `mutate()` and `mutate_row()` becomes _purely_ about column access:\r\n- `mutate()` accesses columns using `vec_slice()` / `[`\r\n- `mutate_row()` accesses columns using `vec_slice2()` / `[[`\r\n\r\nIn other words, rowwise has _nothing_ to do with the output type of each column expression, and you still get useful results.\r\n\r\nIn terms of other invariants, there is one related to `vec_size()`:\r\n- `mutate_row()` requires each expression to return an element of `vec_size() == 1`\r\n- `reframe_row()` allows each expression to return an element of any size\r\n- (the size invariant is enforced after list wrapping) \r\n\r\nOther niceties:\r\n- It becomes very clear when you are doing a rowwise operation, because it is in the name of the verb (similar to `.by` being in the verb)\r\n- Somewhat obvious, but it means rowwise behavior isn't persistent. You always have bare tibble in, bare tibble out, which greatly simplifies things.\r\n\r\n---\r\n\r\nExtra notes:\r\n- Somewhat obvious, but `mutate_row()` and `reframe_row()` won't get `.by` because they operation \"by row\"\r\n- We don't want to teach `.by` about rowwise behavior, like `.by = .row` or something. We want `.by` to be _pure_ tidyselect. Plus this special behavior would only apply for `mutate()` and `reframe()` and that would be very confusing.\r\n- We do _not_ need `summarise_row()`. This would have the _exact_ same semantics as `mutate_row()`, but would just drop unused columns (which can mostly be done with `.keep` in `mutate_row()`). In particular `summarise_row()` and `mutate_row()` would both have to have the `vec_size() == 1` invariant from above, so we really don't need both.\r\n- There is no need for `filter_row()`. The only useful thing I can think of is something like `filter_row(!is.null(model))` for filtering out `NULL` list elements. But you can do that way more efficiently with an ungrouped call to `filter(!funs::is_na(model))`.\r\n\r\n`mutate_row()` and `reframe_row()` mostly have the semantics of the wrappers below, but this doesn't do the automatic list-wrapping of scalars:\r\n\r\n```r\r\nmutate_row &lt;- function(.data, ...) {\r\n  .data &lt;- rowwise(.data)\r\n  .data &lt;- mutate(.data, ...)\r\n  ungroup(.data)\r\n}\r\n\r\nreframe_row &lt;- function(.data, ...) {\r\n  .data &lt;- rowwise(.data)\r\n  reframe(.data, ...)\r\n}\r\n```",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6660/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6660/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6580",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6580/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6580/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6580/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6580",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1470361443,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5Xo-9j",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6580,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "Make `Joining with` message clickable to copy-to-clipboard",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "donboyd5",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 6538392,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjY1MzgzOTI=",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/6538392?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/donboyd5",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/donboyd5",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/donboyd5/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/donboyd5/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/donboyd5/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/donboyd5/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/donboyd5/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/donboyd5/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/donboyd5/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/donboyd5/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/donboyd5/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "id": 17708200,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "node_id": "MDU6TGFiZWwxNzcwODIwMA==",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "url": "https://api.github.com/repos/tidyverse/dplyr/labels/feature",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "name": "feature",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "color": "B4C3AE",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "default": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "description": "a feature request or enhancement"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "id": 1257707950,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "node_id": "MDU6TGFiZWwxMjU3NzA3OTUw",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "url": "https://api.github.com/repos/tidyverse/dplyr/labels/tables%20%F0%9F%A7%AE",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "name": "tables 🧮",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "color": "eeeeee",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "default": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "description": "joins and set operations"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 3,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2022-11-30T23:25:12Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2022-12-10T19:10:28Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "NONE",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "Hi,\r\n\r\ndplyr 1.1.0 seems like it is going to be great (I installed the dev version with `pak::[pak](http://pak.r-lib.org/reference/pak.html)(\"tidyverse/dplyr\")`). I really like .by in summarise and mutate.\r\n\r\nOne small suggestion for messages related to the new join:\r\n\r\nIn the old join, if I leave out the \"by\" it gives a helpful message stating what it does by default, giving the \", by=\" statement it used. This is nice because if I like it, I can copy it directly into code.\r\n\r\nThe new 1.1.0 message when \"by\" is left out is slightly different. For example, here is a typical message:\r\n\r\n``` \r\nJoining with `by = join_by(mergevar)`\r\n```\r\n\r\nNotice that this does not have a comma and space before the \"by\", or else it would look like this:\r\n\r\n``` \r\nJoining with `, by = join_by(mergevar)`\r\n```\r\n\r\nThe advantage of the second message is that it can be copied into code without the two extra keystrokes the first one requires. Hardly a significant issue, but it could add up over thousands of people and many days.\r\n\r\nThanks for considering it.\r\n\r\n\r\n\r\n\r\n\r\n\r\n",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6580/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6580/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ] </span>
<span class="r-in"><span><span class="fu">gh</span><span class="op">(</span><span class="st">"/repos/{owner}/{repo}/issues"</span>, owner <span class="op">=</span> <span class="st">"hadley"</span>, repo <span class="op">=</span> <span class="st">"dplyr"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6885",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6885/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6885/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6885/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6885",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1812200827,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5sA_17",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6885,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "Unexpected behavior in `filter()` when column name matches an environment variable",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "bzbradford",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 12737774,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjEyNzM3Nzc0",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/12737774?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/bzbradford",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/bzbradford",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/bzbradford/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/bzbradford/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/bzbradford/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/bzbradford/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/bzbradford/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/bzbradford/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/bzbradford/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/bzbradford/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/bzbradford/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-07-19T15:29:58Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-07-19T15:29:58Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "NONE",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "A friend and I have both encountered unexpected behavior from `filter()` and struggled to debug it until realizing that `filter()` was comparing a column against itself, instead of against a variable of the same name that had been defined elsewhere in the environment (for example, as a function argument).\r\n\r\n```r\r\nlibrary(dplyr)\r\n\r\n# mtcars has 32 rows originally\r\nnrow(mtcars)\r\n# &gt; [1] 32\r\n\r\n# should show that 11 cars have 4 cylinders\r\nmtcars |&gt; filter(cyl == 4) |&gt; nrow()\r\n# &gt; [1] 11\r\n\r\n# should also show that 11 cars have 4 cylinders\r\ncyl &lt;- 4\r\nmtcars |&gt; filter(cyl == cyl) |&gt; nrow()\r\n# &gt; [1] 32\r\n```\r\n\r\nPossible solutions:\r\n\r\n- `filter()` warns when comparing a column against itself (which would return all rows), much like it warns when using a single `=` instead of double equal `==`\r\n- `filter()` first looks to the environment for a defined variable of the same name as the column when a column is possibly compared against itself\r\n",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6885/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6885/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6876",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6876/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6876/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6876/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/pull/6876",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1781513615,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "PR_kwDOAGIUpc5URz0T",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6876,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "Update slice.R",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "scarioscia",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 54126393,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjU0MTI2Mzkz",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/54126393?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/scarioscia",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/scarioscia",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/scarioscia/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/scarioscia/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/scarioscia/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/scarioscia/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/scarioscia/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/scarioscia/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/scarioscia/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/scarioscia/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/scarioscia/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-06-29T21:04:27Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-06-29T21:04:27Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "NONE",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "draft": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "pull_request": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/pulls/6876",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/tidyverse/dplyr/pull/6876",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "diff_url": "https://github.com/tidyverse/dplyr/pull/6876.diff",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "patch_url": "https://github.com/tidyverse/dplyr/pull/6876.patch",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "merged_at": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "switched highest/lowest for slice_min and slice_max to improve clarity",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6876/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6876/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6875",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6875/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6875/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6875/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/pull/6875",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1780932366,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "PR_kwDOAGIUpc5UP25J",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6875,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "Fix typos plus minor tweaks",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "salim-b",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 20040931,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjIwMDQwOTMx",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/20040931?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/salim-b",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/salim-b",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/salim-b/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/salim-b/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/salim-b/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/salim-b/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/salim-b/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/salim-b/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/salim-b/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/salim-b/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/salim-b/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-06-29T14:20:03Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-06-29T14:20:03Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "CONTRIBUTOR",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "draft": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "pull_request": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/pulls/6875",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/tidyverse/dplyr/pull/6875",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "diff_url": "https://github.com/tidyverse/dplyr/pull/6875.diff",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "patch_url": "https://github.com/tidyverse/dplyr/pull/6875.patch",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "merged_at": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6875/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6875/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6870",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6870/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6870/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6870/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6870",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1772889820,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5prCbc",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6870,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "Unexpected interaction between rowwise and group_modify",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "banbh",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 5741,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjU3NDE=",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/5741?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/banbh",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/banbh",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/banbh/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/banbh/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/banbh/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/banbh/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/banbh/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/banbh/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/banbh/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/banbh/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/banbh/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "id": 17708198,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "node_id": "MDU6TGFiZWwxNzcwODE5OA==",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "url": "https://api.github.com/repos/tidyverse/dplyr/labels/bug",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "name": "bug",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "color": "E0B3A2",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "default": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "description": "an unexpected problem or unintended behavior"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "id": 1728164976,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "node_id": "MDU6TGFiZWwxNzI4MTY0OTc2",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "url": "https://api.github.com/repos/tidyverse/dplyr/labels/grouping%20:family_man_woman_girl_boy:",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "name": "grouping :family_man_woman_girl_boy:",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "color": "eeeeee",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "default": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "description": ""</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 2,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-06-24T19:49:55Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-07-17T13:03:47Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "NONE",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "It appears that after an application of `rowwise` the behavior of `group_modify` differs from that of `group_walk` and `group_map`; the latter two behave as expected. For example, I expected all three pipelines to print two \"hello\"s, but the `group_modify` one only prints one.\r\n\r\n```r\r\nlibrary(dplyr) # dplyr_1.1.2\r\n\r\nX &lt;- tibble(a = 1:2)\r\n\r\nf &lt;- \\(...) {\r\n  print('hello')\r\n  tibble(x = runif(3))\r\n}\r\n\r\nX |&gt; \r\n  rowwise() |&gt; \r\n  group_walk(f) # two hellos\r\n\r\nX |&gt; \r\n  rowwise() |&gt; \r\n  group_map(f) |&gt; # two hellos\r\n  invisible()\r\n\r\nX |&gt; \r\n  rowwise() |&gt; \r\n  group_modify(f) |&gt; # one hello ???\r\n  invisible()\r\n```\r\n",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6870/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6870/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6868",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6868/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6868/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6868/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6868",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1757231728,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5ovTpw",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6868,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "trailing comma in `across()` gives an unhelpful message",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "olivroy",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 52606734,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjUyNjA2NzM0",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/52606734?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/olivroy",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/olivroy",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/olivroy/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/olivroy/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/olivroy/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/olivroy/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/olivroy/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/olivroy/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/olivroy/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/olivroy/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/olivroy/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "id": 17708198,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "node_id": "MDU6TGFiZWwxNzcwODE5OA==",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "url": "https://api.github.com/repos/tidyverse/dplyr/labels/bug",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "name": "bug",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "color": "E0B3A2",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "default": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "description": "an unexpected problem or unintended behavior"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "id": 1880639897,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "node_id": "MDU6TGFiZWwxODgwNjM5ODk3",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "url": "https://api.github.com/repos/tidyverse/dplyr/labels/each-col%20%E2%86%94%EF%B8%8F",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "name": "each-col ↔️",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "color": "eeeeee",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "default": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "description": ""</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-06-14T16:04:55Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-06-28T12:22:24Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "NONE",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "It took me a while to figure out the error, hence why I'm filing an issue (feel free to close).\r\n\r\nIt is just that with many functions, a trailing comma doesn't matter.\r\n\r\n---\r\n\r\nI forgot a trailing comma and it lead to a unhelpful error message. \r\nWould it be possible to improve this error message, (or not get error, like with `mutate()`, `summarise()` etc.\r\n\r\n``` r\r\nlibrary(dplyr)\r\nmtcars |&gt; mutate(across(vs, \\(x) x +1, .names = \"x\")) # works fine, if you write the code correctly\r\nmtcars |&gt; mutate(across(vs, \\(x) x +1, .names = \"x\",)) # gives a hard to understand error message.\r\n#&gt; Error in `mutate()`:\r\n#&gt; ℹ In argument: `across(vs, function(x) x + 1, .names = \"x\", )`.\r\n#&gt; Caused by error in `across()`:\r\n#&gt; ! Can't compute column `x`.\r\n#&gt; Caused by error in `fn()`:\r\n#&gt; ! Unused argument (alist())\r\n#&gt; Backtrace:\r\n#&gt;      ▆\r\n#&gt;   1. ├─dplyr::mutate(...)\r\n#&gt;   2. ├─dplyr:::mutate.data.frame(...)\r\n#&gt;   3. │ └─dplyr:::mutate_cols(.data, dplyr_quosures(...), by)\r\n#&gt;   4. │   ├─base::withCallingHandlers(...)\r\n#&gt;   5. │   └─dplyr:::mutate_col(dots[[i]], data, mask, new_columns)\r\n#&gt;   6. │     └─mask$eval_all_mutate(quo)\r\n#&gt;   7. │       └─dplyr (local) eval()\r\n#&gt;   8. ├─dplyr::across(vs, function(x) x + 1, .names = \"x\", )\r\n#&gt;   9. │ └─base::withCallingHandlers(...)\r\n#&gt;  10. └─base::.handleSimpleError(...)\r\n#&gt;  11.   └─dplyr (local) h(simpleError(msg, call))\r\n#&gt;  12.     └─rlang::abort(bullets, call = error_call, parent = cnd)\r\n栀Ƭ\r\n#&gt; Error in eval(expr, envir, enclos): object'栀Ƭ' not found\r\n```\r\n\r\n&lt;sup&gt;Created on 2023-06-14 with [reprex v2.0.2](https://reprex.tidyverse.org)&lt;\/sup&gt;\r\n\r\n\r\nFor reference, the `if_all()` error message is a bit better\r\n\r\n```r\r\nmtcars |&gt; filter(if_all(vs, is.na, ))\r\nError in `filter()`:\r\nℹ In argument: `if_all(vs, is.na, )`.\r\nCaused by error in `if_all()`:\r\n! Can't compute column `vs`.\r\nCaused by error in `withCallingHandlers()`:\r\n! argument is missing, with no default\r\n```\r\n",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6868/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6868/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6864",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6864/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6864/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6864/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6864",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1743154315,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5n5myL",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6864,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "Improve documentation for `rows_insert()` vs `rows_append()`",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "mgirlich",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 18258854,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjE4MjU4ODU0",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/18258854?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/mgirlich",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/mgirlich",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/mgirlich/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/mgirlich/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/mgirlich/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/mgirlich/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/mgirlich/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/mgirlich/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/mgirlich/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/mgirlich/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/mgirlich/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "id": 674867158,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "node_id": "MDU6TGFiZWw2NzQ4NjcxNTg=",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "url": "https://api.github.com/repos/tidyverse/dplyr/labels/documentation",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "name": "documentation",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "color": "CBBAB8",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "default": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "description": ""</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "id": 3407327207,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "node_id": "LA_kwDOAGIUpc7LF6_n",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "url": "https://api.github.com/repos/tidyverse/dplyr/labels/rows%20%E2%86%95%EF%B8%8F",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "name": "rows ↕️",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "color": "eeeeee",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "default": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "description": "Operations on rows: filter(), slice(), arrange()"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 1,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-06-06T06:10:33Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-06-28T12:23:00Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "NONE",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "It seems that people easily confuse what `rows_insert()` is for and use it when they actually need `rows_append()` (e.g. tidyverse/dbplyr#1297 or tidyverse/dbplyr#1149). It would be nice to improve the documentation (or maybe even the names) of `rows_insert()` and `rows_append()` to make it more clear when to use which function.",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6864/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6864/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6862",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6862/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6862/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6862/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6862",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1732939973,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5nSpDF",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6862,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "case_when gives confusing and inconsistent error messages when conditions are matrices",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "DarwinAwardWinner",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 228145,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjIyODE0NQ==",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/228145?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/DarwinAwardWinner",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/DarwinAwardWinner",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/DarwinAwardWinner/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/DarwinAwardWinner/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/DarwinAwardWinner/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/DarwinAwardWinner/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/DarwinAwardWinner/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/DarwinAwardWinner/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/DarwinAwardWinner/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/DarwinAwardWinner/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/DarwinAwardWinner/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 3,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-05-30T20:19:09Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-05-31T14:43:28Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "NONE",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "Please briefly describe your problem and what output you expect. If you have a question, please don't use this form. Instead, ask on &lt;https://stackoverflow.com/&gt; or &lt;https://community.rstudio.com/&gt;.\r\n\r\nPlease include a minimal reproducible example (AKA a reprex). If you've never heard of a [reprex](http://reprex.tidyverse.org/) before, start by reading &lt;https://www.tidyverse.org/help/#reprex&gt;.\r\n\r\n---\r\n\r\nI had some code that was passing matrices as the conditions to a `case_when` statement. Previously, `case_when` would implicitly convert these matrices to vectors, but at some point it stopped doing that. However, I don't think this was an intentional behavior change, because depending on how exactly one calls `case_when` on matrix conditions, it can produce one of several different error messages or return a value of the wrong length (see reprex below demonstrating 3 different behaviors). None of the error messages hint at the underlying problem, which made debugging this issue after a package update very difficult.\r\n\r\nIf passing matrices as the conditions to `case_when` is not an intended usage, I would expect it to produce an interpretable error message to that effect.\r\n\r\n``` r\r\nlibrary(dplyr)\r\n#&gt; \r\n#&gt; Attaching package: 'dplyr'\r\n#&gt; The following objects are masked from 'package:stats':\r\n#&gt; \r\n#&gt;     filter, lag\r\n#&gt; The following objects are masked from 'package:base':\r\n#&gt; \r\n#&gt;     intersect, setdiff, setequal, union\r\nlibrary(assertthat)\r\n\r\nx &lt;- matrix(rnorm(36), ncol = 6)\r\n\r\n## Each of the following generates a different error\r\n{\r\n  y1 &lt;- case_when(\r\n    !is.finite(x) ~ \"Invalid\",\r\n    .default = \"Default\"\r\n  )\r\n  assert_that(length(y1) == length(x))\r\n}\r\n#&gt; Error: length(y1) not equal to length(x)\r\n\r\n{\r\n  y2 &lt;- case_when(\r\n    !is.finite(x) ~ \"Invalid\",\r\n    x &lt; 0 ~ \"Negative\",\r\n    .default = \"Default\"\r\n  )\r\n  assert_that(length(y2) == length(x))\r\n}\r\n#&gt; Error in `vec_slice()`:\r\n#&gt; ! Can't subset elements past the end.\r\n#&gt; ℹ Locations 8, 10, 13, …, 35, and 36 don't exist.\r\n#&gt; ℹ There are only 6 elements.\r\n#&gt; Backtrace:\r\n#&gt;     ▆\r\n#&gt;  1. ├─dplyr::case_when(...)\r\n#&gt;  2. │ └─dplyr:::vec_case_when(...)\r\n#&gt;  3. │   └─vctrs::vec_slice(value, loc)\r\n#&gt;  4. └─vctrs (local) `&lt;fn&gt;`()\r\n#&gt;  5.   └─vctrs:::stop_subscript_oob(...)\r\n#&gt;  6.     └─vctrs:::stop_subscript(...)\r\n#&gt;  7.       └─rlang::abort(...)\r\n\r\n{\r\n  y3 &lt;- case_when(\r\n    !is.finite(x) ~ \"Invalid\",\r\n    x &lt; 0 ~ \"Negative\",\r\n    x &gt; 0 ~ \"Positive\",\r\n    x == 0 ~ \"Zero\"\r\n  )\r\n  assert_that(length(y3) == length(x))\r\n}\r\n#&gt; Error in if (!any(are_unused)) {: missing value where TRUE/FALSE needed\r\n\r\n## Everything works fine if you convert x to a vector\r\n{\r\n  xvec &lt;- as.vector(x)\r\n  yvec &lt;- case_when(\r\n    !is.finite(xvec) ~ \"Invalid\",\r\n    xvec &lt; 0 ~ \"Negative\",\r\n    xvec &gt; 0 ~ \"Positive\",\r\n    xvec == 0 ~ \"Zero\"\r\n  )\r\n  assert_that(length(yvec) == length(xvec))\r\n}\r\n#&gt; [1] TRUE\r\n```\r\n\r\n&lt;sup&gt;Created on 2023-05-30 with [reprex v2.0.2](https://reprex.tidyverse.org)&lt;\/sup&gt;\r\n",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6862/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6862/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6861",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6861/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6861/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6861/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6861",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1732916405,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5nSjS1",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6861,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "`mutate` superseding `transmute` should allow ordering columns",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "epruesse",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 2774474,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjI3NzQ0NzQ=",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/2774474?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/epruesse",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/epruesse",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/epruesse/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/epruesse/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/epruesse/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/epruesse/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/epruesse/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/epruesse/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/epruesse/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/epruesse/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/epruesse/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "id": 3407329987,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "node_id": "LA_kwDOAGIUpc7LF7rD",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "url": "https://api.github.com/repos/tidyverse/dplyr/labels/columns%20%E2%86%94%EF%B8%8F",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "name": "columns ↔️",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "color": "eeeeee",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "default": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "description": "Operations on columns: mutate(), select(),  rename(), relocate()"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 2,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-05-30T20:02:59Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-07-17T13:54:00Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "NONE",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "I recently noticed that `transmute` has been marked as superseded by `mutate(.keep=\"none\")`. However, it turned out that `mutate` doesn't replicate column ordering behavior of `transmute`, but does something odd:\r\n\r\n```r\r\n&gt; data.frame(a=1, b=2) %&gt;% transmute(a, x=b*2, b)\r\n  a x b\r\n1 1 4 2\r\n&gt; data.frame(a=1, b=2) %&gt;% mutate(a, x=b*2, b, .keep=\"none\")\r\n  a b x\r\n1 1 2 4\r\n```\r\nWith more complex examples, the ordering becomes pretty confusing and difficult to explain. I'm guessing this may have to do with the `.keep = \"used\"` use case resorting things. For `.keep = \"none\"`, explicit column ordering as given, replicating or approximating `transmute` behavior,  would be much more useful (e.g. order of first LHS mention or last LHS mention).\r\n",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6861/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 3,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 3,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6861/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6860",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6860/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6860/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6860/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/pull/6860",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1730019861,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "PR_kwDOAGIUpc5RkSaK",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6860,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "WIP: Shortcut for count()",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "krlmlr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 1741643,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjE3NDE2NDM=",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/1741643?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/krlmlr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/krlmlr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/krlmlr/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/krlmlr/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/krlmlr/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/krlmlr/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/krlmlr/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/krlmlr/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/krlmlr/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/krlmlr/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/krlmlr/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-05-29T04:26:58Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-05-29T04:35:14Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "MEMBER",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "draft": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "pull_request": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/pulls/6860",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/tidyverse/dplyr/pull/6860",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "diff_url": "https://github.com/tidyverse/dplyr/pull/6860.diff",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "patch_url": "https://github.com/tidyverse/dplyr/pull/6860.patch",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "merged_at": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "This is an attempt to improve the run time of TPCH-21 which uses `count()` over a large table with many groups. Gives a speedup of up to 3. A slippery slope, but might be worthwhile because the vast majority of summaries are simple counts?\r\n\r\n## This PR\r\n\r\n``` r\r\noptions(conflicts.policy = list(warn = FALSE))\r\nlibrary(tidyverse)\r\n\r\nset.seed(20230529)\r\n\r\nget_data &lt;- function(N) {\r\n  distr &lt;- (trunc(rexp(N, 3)) + 1)\r\n  id &lt;- rep(seq_along(distr), distr)\r\n  sec &lt;- as.integer(trunc(runif(length(id), 1, 3)))\r\n  tibble(id, sec)\r\n}\r\n\r\ndata &lt;- get_data(1e4)\r\nsystem.time(count(data, id, sec))\r\n#&gt;    user  system elapsed \r\n#&gt;   0.021   0.001   0.022\r\ndata &lt;- get_data(1e5)\r\nsystem.time(count(data, id, sec))\r\n#&gt;    user  system elapsed \r\n#&gt;   0.107   0.006   0.113\r\ndata &lt;- get_data(1e6)\r\nsystem.time(count(data, id, sec))\r\n#&gt;    user  system elapsed \r\n#&gt;   1.418   0.050   1.469\r\ndata &lt;- get_data(1e7)\r\nsystem.time(count(data, id, sec))\r\n#&gt;    user  system elapsed \r\n#&gt;  13.391   0.367  13.763\r\n\r\nget_data(40) |&gt;\r\n  filter(id &gt;= 30)\r\n#&gt; # A tibble: 15 × 2\r\n#&gt;       id   sec\r\n#&gt;    &lt;int&gt; &lt;int&gt;\r\n#&gt;  1    30     2\r\n#&gt;  2    31     2\r\n#&gt;  3    32     1\r\n#&gt;  4    32     1\r\n#&gt;  5    33     2\r\n#&gt;  6    34     2\r\n#&gt;  7    35     2\r\n#&gt;  8    35     2\r\n#&gt;  9    35     1\r\n#&gt; 10    36     2\r\n#&gt; 11    37     2\r\n#&gt; 12    38     2\r\n#&gt; 13    38     1\r\n#&gt; 14    39     1\r\n#&gt; 15    40     2\r\n```\r\n\r\n&lt;sup&gt;Created on 2023-05-29 with [reprex v2.0.2](https://reprex.tidyverse.org)&lt;\/sup&gt;\r\n\r\n\r\n## v1.1.2\r\n\r\n``` r\r\noptions(conflicts.policy = list(warn = FALSE))\r\nlibrary(tidyverse)\r\n\r\nset.seed(20230529)\r\n\r\nget_data &lt;- function(N) {\r\n  distr &lt;- (trunc(rexp(N, 3)) + 1)\r\n  id &lt;- rep(seq_along(distr), distr)\r\n  sec &lt;- as.integer(trunc(runif(length(id), 1, 3)))\r\n  tibble(id, sec)\r\n}\r\n\r\ndata &lt;- get_data(1e4)\r\nsystem.time(count(data, id, sec))\r\n#&gt;    user  system elapsed \r\n#&gt;   0.034   0.002   0.036\r\ndata &lt;- get_data(1e5)\r\nsystem.time(count(data, id, sec))\r\n#&gt;    user  system elapsed \r\n#&gt;   0.276   0.007   0.283\r\ndata &lt;- get_data(1e6)\r\nsystem.time(count(data, id, sec))\r\n#&gt;    user  system elapsed \r\n#&gt;   3.486   0.085   3.576\r\ndata &lt;- get_data(1e7)\r\nsystem.time(count(data, id, sec))\r\n#&gt;    user  system elapsed \r\n#&gt;  38.666   0.708  39.530\r\n```\r\n\r\n&lt;sup&gt;Created on 2023-05-29 with [reprex v2.0.2](https://reprex.tidyverse.org)&lt;\/sup&gt;",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6860/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6860/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6858",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6858/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6858/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6858/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/pull/6858",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1725001572,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "PR_kwDOAGIUpc5RTTr7",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6858,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "trivial change to dataset documentation",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "UmbertoFasci",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 48659857,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjQ4NjU5ODU3",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/48659857?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/UmbertoFasci",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/UmbertoFasci",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/UmbertoFasci/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/UmbertoFasci/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/UmbertoFasci/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/UmbertoFasci/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/UmbertoFasci/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/UmbertoFasci/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/UmbertoFasci/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/UmbertoFasci/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/UmbertoFasci/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-05-25T02:59:51Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-05-25T02:59:51Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "NONE",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "draft": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "pull_request": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/pulls/6858",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/tidyverse/dplyr/pull/6858",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "diff_url": "https://github.com/tidyverse/dplyr/pull/6858.diff",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "patch_url": "https://github.com/tidyverse/dplyr/pull/6858.patch",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "merged_at": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "The following is an edit on the starwars.R dataset source file which amends a trivial issue to improve readability.",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6858/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6858/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6856",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6856/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6856/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6856/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6856",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1722432895,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5mqj1_",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6856,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "Adjusting to different behaviour between `case_match` and `recode`",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "manhnguyen48",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 24793324,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjI0NzkzMzI0",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/24793324?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/manhnguyen48",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/manhnguyen48",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/manhnguyen48/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/manhnguyen48/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/manhnguyen48/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/manhnguyen48/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/manhnguyen48/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/manhnguyen48/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/manhnguyen48/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/manhnguyen48/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/manhnguyen48/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 3,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-05-23T16:33:23Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-07-10T16:15:40Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "NONE",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "Since `recode` is being superseded, I'm looking at changing to `case_match`. I usually use it to reverse code an integer vector (e.g. 1 -&gt; 5,  5 -&gt; 1, etc.) and have found named list/vector useful but `case_match` doesn't accept the same. \r\nThe named list approach is useful to include `recode` in other functions as named list are more straightforward to produce. \r\nHow should I adapt here? \r\n\r\n``` r\r\nlibrary(dplyr, warn.conflicts = FALSE)\r\n\r\nx &lt;- rep(1:5, 5)\r\n#This still works\r\ndplyr::recode(x, !!!setNames(1:5, 5:1))\r\n#&gt;  [1] 5 4 3 2 1 5 4 3 2 1 5 4 3 2 1 5 4 3 2 1 5 4 3 2 1\r\n#This does not work\r\ndplyr::case_match(x, !!!setNames(1:5, 5:1))\r\n#&gt; Error in `dplyr::case_match()`:\r\n#&gt; ! Case 1 (`!!!setNames(1:5, 5:1)`) must be a two-sided formula, not the\r\n#&gt;   number 1.\r\n#&gt; Backtrace:\r\n#&gt;     ▆\r\n#&gt;  1. └─dplyr::case_match(x, !!!setNames(1:5, 5:1))\r\n#&gt;  2.   └─dplyr:::case_formula_evaluate(...)\r\n#&gt;  3.     └─dplyr:::map2(...)\r\n#&gt;  4.       └─base::mapply(.f, .x, .y, MoreArgs = list(...), SIMPLIFY = FALSE)\r\n#&gt;  5.         └─dplyr (local) `&lt;fn&gt;`(dots[[1L]][[1L]], dots[[2L]][[1L]])\r\n#&gt;  6.           └─dplyr:::validate_and_split_formula(...)\r\n#&gt;  7.             └─rlang::abort(message, call = error_call)\r\n#Instead we have to do this\r\ndplyr::case_match(x, 1~5, 2~4, 3~3, 4~2, 5~1)\r\n#&gt;  [1] 5 4 3 2 1 5 4 3 2 1 5 4 3 2 1 5 4 3 2 1 5 4 3 2 1\r\n```\r\n\r\n&lt;sup&gt;Created on 2023-05-23 with [reprex v2.0.2](https://reprex.tidyverse.org)&lt;\/sup&gt;\r\n",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6856/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 5,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 1,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6856/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6853",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6853/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6853/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6853/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6853",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1720956991,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5mk7g_",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6853,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "Possible regression re. use of glue in dplyr::across",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "jimjam-slam",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 6520659,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjY1MjA2NTk=",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/6520659?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/jimjam-slam",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/jimjam-slam",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/jimjam-slam/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/jimjam-slam/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/jimjam-slam/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/jimjam-slam/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/jimjam-slam/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/jimjam-slam/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/jimjam-slam/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/jimjam-slam/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/jimjam-slam/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 1,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-05-23T01:07:16Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-06-07T11:01:37Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "CONTRIBUTOR",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "This is discussed in https://twitter.com/mjskay/status/1660770865087148032\r\n\r\nEssentially, users are reporting errors when using `glue` inside an anonymous function given to `dplyr::across()`. This error did not previously exist.\r\n\r\nOn [my setup](https://twitter.com/jimjam_slam/status/1659392114994839553?s=20), with R 4.2.2 on macOS, and with dplyr 1.0.10 and glue 1.6.2, the following works to modify two columns:\r\n\r\n```r\r\nlibrary(dplyr)\r\nlibrary(glue)\r\nmtcars |&gt; mutate(across(c(mpg, cyl), \\(x) glue(\"Oh hai {x}\")))\r\n```\r\n\r\n![image](https://github.com/tidyverse/glue/assets/6520659/2843bd11-13a7-408a-b100-1769c79529d9)\r\n\r\nBut [Matthew Kay reports](https://twitter.com/mjskay/status/1659381134273150977?s=20) that they get an error, unless they add dots to the anonymous function or save it to a variable before passing it to `across`:\r\n\r\n![image](https://github.com/tidyverse/dplyr/assets/6520659/f33ce5ec-a5f5-4cb9-bf2e-94e049bcba39)\r\n\r\n[Cameron Patrick](https://twitter.com/camjpatrick/status/1659376009375027200?s=20) also gets an error on R 4.2.3 for Windows with dplyr 1.1.1 and glue 1.6.2 (the same version of glue as me). They get this using the purrr anonymous function syntax:\r\n\r\n![image](https://github.com/tidyverse/dplyr/assets/6520659/83c6b1c8-65d2-4b76-9801-ff93273e077c)\r\n\r\n\r\nI'm not sure whether this is a problem with glue, dplyr or an interaction between the two, but as the version of glue between my successful reprex and Cameron's unsuccessful one isn't changed, I've chosen to file here.",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6853/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 3,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 3,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6853/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6848",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6848/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6848/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6848/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6848",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1708211113,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5l0Tup",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6848,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "slice_sample() uses statistically incorrect sampling algorithms",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "skolenik",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 20828835,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjIwODI4ODM1",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/20828835?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/skolenik",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/skolenik",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/skolenik/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/skolenik/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/skolenik/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/skolenik/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/skolenik/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/skolenik/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/skolenik/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/skolenik/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/skolenik/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-05-12T21:05:01Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-05-15T14:33:56Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "NONE",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "`slice_sample()` relies on `base::sample.int()` which in turn relies on incorrect sampling algorithms. The difficulty of obtaining appropriate unequal probability samples is obscure and is not known outside of survey statistics. I don't want to go into base R code although they have to fix that, too (somewhat more surprising given that Thomas Lumley, one of the core R people, is a survey statistician, at least part time). The appropriate algorithms are implemented in `sampling::UPmaxentropy()`.\r\n\r\n```r\r\n# example from Tille (2006)\r\nset.seed(25)\r\nuneq_p = c(0.07,0.17,0.41,0.61,0.83,0.91)\r\nsim_uneq_p &lt;- as.data.frame(matrix(rep(0,6*20000),ncol=6))\r\nfor (k in 1:nrow(sim_uneq_p)) {\r\n  this &lt;- sample.int(n=length(uneq_p),size=sum(uneq_p),prob=uneq_p)\r\n  sim_uneq_p[k,this] &lt;- 1\r\n}\r\ncolSums(sim_uneq_p)/nrow(sim_uneq_p)\r\nuneq_p\r\n# done right\r\nsim_uneq_p_done_right &lt;- as.data.frame(matrix(rep(0,6*20000),ncol=6))\r\nfor (k in 1:nrow(sim_uneq_p_done_right)) {\r\n   sim_uneq_p_done_right[k,] &lt;- sampling::UPmaxentropy(uneq_p)\r\n}\r\ncolSums(sim_uneq_p_done_right)/nrow(sim_uneq_p_done_right)\r\nuneq_p\r\n```\r\n\r\n@krlmlr @DavisVaughan \r\n\r\nCode in `sampling` is (kinda) ugly, and the development most likely does not satisfy the `tidyverse` standards. I don't know if you want to rely on this as a dependency. Relevant parts may need to be taken over and internalized. (I have written the unequal probability sampling code from scratch in Stata, so I am closely familiar with the methodology and what it takes to code it.)",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6848/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 1,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 1,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6848/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6840",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6840/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6840/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6840/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/pull/6840",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1696095377,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "PR_kwDOAGIUpc5PyELK",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6840,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "Update starwars.csv",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "robcreel",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 5250939,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjUyNTA5Mzk=",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/5250939?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/robcreel",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/robcreel",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/robcreel/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/robcreel/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/robcreel/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/robcreel/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/robcreel/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/robcreel/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/robcreel/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/robcreel/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/robcreel/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 1,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-05-04T14:05:23Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-05-04T14:27:29Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "NONE",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "draft": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "pull_request": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/pulls/6840",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/tidyverse/dplyr/pull/6840",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "diff_url": "https://github.com/tidyverse/dplyr/pull/6840.diff",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "patch_url": "https://github.com/tidyverse/dplyr/pull/6840.patch",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "merged_at": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "Correct the capitalization of Beru's last name from \"lars\" to \"Lars\".",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6840/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6840/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6839",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6839/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6839/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6839/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6839",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1693905728,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5k9vNA",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6839,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "Performance regression for dplyr::rowwise() introduced in version 1.1.0",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "shaneh2",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 5721999,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjU3MjE5OTk=",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/5721999?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/shaneh2",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/shaneh2",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/shaneh2/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/shaneh2/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/shaneh2/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/shaneh2/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/shaneh2/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/shaneh2/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/shaneh2/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/shaneh2/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/shaneh2/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 3,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-05-03T11:39:37Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-05-03T12:24:53Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "NONE",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "It seems that a performance regression has been introduced for `dplyr::rowwise()` in `{dplyr}` version 1.1.0.\r\n\r\nI give some reprexes below illustrating large differences in execution time when using this on v1.1 compared to v1.0.10.\r\n * A: Execution of the function `test_code`, which uses `dplyr::rowwise()`, is fast in v1.0.10: **1.86 seconds**.\r\n * B: The same example is much slower in v1.1.0: **51.5 seconds**.\r\n   * B2: Execution time of a function called `test_code_without_rowwise`, which is modified not to use `dplyr::rowwise()` doesn't suffer these slowdowns: **0.337 seconds**.\r\n * C: Execution of the function `test_code`, which uses `dplyr::rowwise()`, is a similar duration in v1.1.1: **52.2 seconds**.\r\n\r\nThese seem to indicate that usage in `dplyr::rowwise` in v1.1.0+ is much slower than previous versions.\r\n\r\n*Note that we are using collapsable sections to improve readability of the code below. The functions in the collapsable sections are part of the reprexes.*\r\n\r\nA: Using `dplyr::rowwise()` in v1.0.10\r\n---\r\nExecution of the function `test_code`, which uses `dplyr::rowwise()`, is fast in v1.0.10: **1.86 seconds**.\r\n\r\nNote that the timer starts after the package is installed.\r\n\r\n&lt;details&gt;\r\n&lt;summary&gt;**Click to show definitions of functions which are part of this reprex**&lt;\/summary&gt;\r\n\r\n``` r\r\ntest_code = function() {\r\n  print(\"Now starting test...\")\r\n  library(dplyr)\r\n  library(magrittr)\r\n  \r\n  data.frame(count = 1:3000,\r\n             test_col = rep(c(\"a\", \"b\", \"c\", each = 1000))) %&gt;%\r\n    rowwise() %&gt;%\r\n    mutate(\r\n      col1 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      ),\r\n      col2 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      ),\r\n      col3 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      ),\r\n      col4 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      ),\r\n      col5 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      ),\r\n      col6 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      )\r\n    )\r\n  print(\"Finished test\")\r\n}\r\n\r\nbenchmark_dplyr_version_install_from_source = function(dplyr_version_str) {\r\n  print(\"Installing dplyr (test hasn't started yet)\")\r\n  unloadNamespace(\"dplyr\")\r\n  package = glue::glue(\"https://cran.r-project.org/package=dplyr&amp;version={dplyr_version_str}\")\r\n  suppressMessages(suppressWarnings(utils::install.packages(pkgs = package, repos = NULL)))\r\n  stopifnot(packageVersion(\"dplyr\") == dplyr_version_str)\r\n  \r\n  start &lt;- Sys.time()\r\n  test_code()\r\n  print(\r\n    glue::glue(\r\n      \"The time taken for dplyr version {dplyr_version_str} INSTALLED FROM SOURCE is: \"\r\n    )\r\n  )\r\n  print(Sys.time() - start)\r\n}\r\n```\r\n\r\n&lt;\/details&gt;\r\n\r\n```r\r\nbenchmark_dplyr_version_install_from_source(\"1.0.10\")\r\n#&gt; [1] \"Installing dplyr (test hasn't started yet)\"\r\n#&gt; [1] \"Now starting test...\"\r\n#&gt; \r\n#&gt; Attaching package: 'dplyr'\r\n#&gt; The following objects are masked from 'package:stats':\r\n#&gt; \r\n#&gt;     filter, lag\r\n#&gt; The following objects are masked from 'package:base':\r\n#&gt; \r\n#&gt;     intersect, setdiff, setequal, union\r\n#&gt; [1] \"Finished test\"\r\n#&gt; The time taken for dplyr version 1.0.10 INSTALLED FROM SOURCE is: \r\n#&gt; Time difference of 1.861705 secs\r\n```\r\n\r\n&lt;sup&gt;Created on 2023-05-01 with [reprex v2.0.2](https://reprex.tidyverse.org)&lt;\/sup&gt;\r\n\r\n\r\nB: Using `dplyr::rowwise()` in v1.1.0\r\n---\r\nThe same example is much slower in v1.1.0: **51.5 seconds**.\r\n\r\nNote that the timer starts after the package is installed.\r\n\r\n&lt;details&gt;\r\n&lt;summary&gt;Same functions as defined above are part of this reprex (Click to show)&lt;\/summary&gt;\r\n\r\n``` r\r\ntest_code = function() {\r\n  print(\"Now starting test...\")\r\n  library(dplyr)\r\n  library(magrittr)\r\n  \r\n  data.frame(count = 1:3000,\r\n             test_col = rep(c(\"a\", \"b\", \"c\", each = 1000))) %&gt;%\r\n    rowwise() %&gt;%\r\n    mutate(\r\n      col1 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      ),\r\n      col2 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      ),\r\n      col3 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      ),\r\n      col4 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      ),\r\n      col5 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      ),\r\n      col6 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      )\r\n    )\r\n  print(\"Finished test\")\r\n}\r\n\r\nbenchmark_dplyr_version_install_from_source = function(dplyr_version_str) {\r\n  print(\"Installing dplyr (test hasn't started yet)\")\r\n  unloadNamespace(\"dplyr\")\r\n  package = glue::glue(\"https://cran.r-project.org/package=dplyr&amp;version={dplyr_version_str}\")\r\n  suppressMessages(suppressWarnings(utils::install.packages(pkgs = package, repos = NULL)))\r\n  stopifnot(packageVersion(\"dplyr\") == dplyr_version_str)\r\n  \r\n  start &lt;- Sys.time()\r\n  test_code()\r\n  print(\r\n    glue::glue(\r\n      \"The time taken for dplyr version {dplyr_version_str} INSTALLED FROM SOURCE is: \"\r\n    )\r\n  )\r\n  print(Sys.time() - start)\r\n}\r\n```\r\n\r\n&lt;\/details&gt;\r\n\r\n```r\r\nbenchmark_dplyr_version_install_from_source(\"1.1.0\")\r\n#&gt; [1] \"Installing dplyr (test hasn't started yet)\"\r\n#&gt; [1] \"Now starting test...\"\r\n#&gt; \r\n#&gt; Attaching package: 'dplyr'\r\n#&gt; The following objects are masked from 'package:stats':\r\n#&gt; \r\n#&gt;     filter, lag\r\n#&gt; The following objects are masked from 'package:base':\r\n#&gt; \r\n#&gt;     intersect, setdiff, setequal, union\r\n#&gt; [1] \"Finished test\"\r\n#&gt; The time taken for dplyr version 1.1.0 INSTALLED FROM SOURCE is: \r\n#&gt; Time difference of 51.51825 secs\r\n```\r\n\r\n&lt;sup&gt;Created on 2023-05-01 with [reprex v2.0.2](https://reprex.tidyverse.org)&lt;\/sup&gt;\r\n\r\n### B2: Avoiding use of `dplyr::rowwise()` in v1.1.0\r\n\r\nThis time difference doesn't appear in v1.1.0 when `dplyr::rowwise()` isn't used, indicating that `rowwise()` is what's causing the slowdown.\r\n\r\nNote that the timer starts after the package is installed.\r\n\r\n&lt;details&gt;\r\n&lt;summary&gt;Same functions as above are included in this reprex, apart from `test_code` is replaced with `test_code_without_rowwise`&lt;\/summary&gt;\r\n\r\n``` r\r\ntest_code_without_rowwise = function() {\r\n  print(\"Now starting test...\")\r\n  library(dplyr)\r\n  library(magrittr)\r\n  \r\n  data.frame(count = 1:3000,\r\n             test_col = rep(c(\"a\", \"b\", \"c\", each = 1000))) %&gt;%\r\n    # rowwise() %&gt;%\r\n    mutate(\r\n      col1 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      ),\r\n      col2 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      ),\r\n      col3 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      ),\r\n      col4 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      ),\r\n      col5 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      ),\r\n      col6 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      )\r\n    )\r\n  print(\"Finished test\")\r\n}\r\n\r\nbenchmark_dplyr_version_install_from_source = function(dplyr_version_str) {\r\n  print(\"Installing dplyr (test hasn't started yet)\")\r\n  unloadNamespace(\"dplyr\")\r\n  package = glue::glue(\"https://cran.r-project.org/package=dplyr&amp;version={dplyr_version_str}\")\r\n  suppressMessages(suppressWarnings(utils::install.packages(pkgs = package, repos = NULL)))\r\n  stopifnot(packageVersion(\"dplyr\") == dplyr_version_str)\r\n  \r\n  start &lt;- Sys.time()\r\n  test_code_without_rowwise()\r\n  print(\r\n    glue::glue(\r\n      \"The time taken for dplyr version {dplyr_version_str} INSTALLED FROM SOURCE is: \"\r\n    )\r\n  )\r\n  print(Sys.time() - start)\r\n}\r\n```\r\n\r\n&lt;\/details&gt;\r\n\r\n```r\r\nbenchmark_dplyr_version_install_from_source(\"1.1.0\")\r\n#&gt; [1] \"Installing dplyr (test hasn't started yet)\"\r\n#&gt; [1] \"Now starting test...\"\r\n#&gt; \r\n#&gt; Attaching package: 'dplyr'\r\n#&gt; The following objects are masked from 'package:stats':\r\n#&gt; \r\n#&gt;     filter, lag\r\n#&gt; The following objects are masked from 'package:base':\r\n#&gt; \r\n#&gt;     intersect, setdiff, setequal, union\r\n#&gt; [1] \"Finished test\"\r\n#&gt; The time taken for dplyr version 1.1.0 INSTALLED FROM SOURCE is: \r\n#&gt; Time difference of 0.3373294 secs\r\n```\r\n\r\n&lt;sup&gt;Created on 2023-05-01 with [reprex v2.0.2](https://reprex.tidyverse.org)&lt;\/sup&gt;\r\n\r\n\r\nC: Using `dplyr::rowwise()` in v1.1.1\r\n---\r\nExecution of the same function `test_code` is a similar duration in v1.1.1: **52.2 seconds**.\r\n\r\nNote that the timer starts after the package is installed.\r\n\r\n&lt;details&gt;\r\n&lt;summary&gt;Same functions as defined above are part of this reprex (Click to show)&lt;\/summary&gt;\r\n\r\n``` r\r\ntest_code = function() {\r\n  print(\"Now starting test...\")\r\n  library(dplyr)\r\n  library(magrittr)\r\n  \r\n  data.frame(count = 1:3000,\r\n             test_col = rep(c(\"a\", \"b\", \"c\", each = 1000))) %&gt;%\r\n    rowwise() %&gt;%\r\n    mutate(\r\n      col1 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      ),\r\n      col2 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      ),\r\n      col3 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      ),\r\n      col4 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      ),\r\n      col5 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      ),\r\n      col6 = recode(\r\n        test_col,\r\n        \"a\" = \"cat1\",\r\n        \"b\" = \"cat2\",\r\n        \"v\" = \"cat3\"\r\n      )\r\n    )\r\n  print(\"Finished test\")\r\n}\r\n\r\nbenchmark_dplyr_version_install_from_source = function(dplyr_version_str) {\r\n  print(\"Installing dplyr (test hasn't started yet)\")\r\n  unloadNamespace(\"dplyr\")\r\n  package = glue::glue(\"https://cran.r-project.org/package=dplyr&amp;version={dplyr_version_str}\")\r\n  suppressMessages(suppressWarnings(utils::install.packages(pkgs = package, repos = NULL)))\r\n  stopifnot(packageVersion(\"dplyr\") == dplyr_version_str)\r\n  \r\n  start &lt;- Sys.time()\r\n  test_code()\r\n  print(\r\n    glue::glue(\r\n      \"The time taken for dplyr version {dplyr_version_str} INSTALLED FROM SOURCE is: \"\r\n    )\r\n  )\r\n  print(Sys.time() - start)\r\n}\r\n```\r\n\r\n&lt;\/details&gt;\r\n\r\n``` r\r\nbenchmark_dplyr_version_install_from_source(\"1.1.1\")\r\n#&gt; [1] \"Installing dplyr (test hasn't started yet)\"\r\n#&gt; [1] \"Now starting test...\"\r\n#&gt; \r\n#&gt; Attaching package: 'dplyr'\r\n#&gt; The following objects are masked from 'package:stats':\r\n#&gt; \r\n#&gt;     filter, lag\r\n#&gt; The following objects are masked from 'package:base':\r\n#&gt; \r\n#&gt;     intersect, setdiff, setequal, union\r\n#&gt; [1] \"Finished test\"\r\n#&gt; The time taken for dplyr version 1.1.1 INSTALLED FROM SOURCE is: \r\n#&gt; Time difference of 52.21882 secs\r\n```\r\n\r\n&lt;sup&gt;Created on 2023-05-01 with [reprex v2.0.2](https://reprex.tidyverse.org)&lt;\/sup&gt;\r\n\r\n",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6839/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6839/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6838",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6838/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6838/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6838/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6838",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1691849841,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5k15Rx",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6838,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "Unhelpful error message when using `dplyr::between()` in `join_by()`",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "mgirlich",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 18258854,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjE4MjU4ODU0",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/18258854?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/mgirlich",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/mgirlich",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/mgirlich/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/mgirlich/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/mgirlich/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/mgirlich/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/mgirlich/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/mgirlich/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/mgirlich/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/mgirlich/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/mgirlich/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 2,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-05-02T06:27:40Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-05-02T14:01:49Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "NONE",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "I accidentally used `dplyr::between()` instead of `between()` in `join_by()`. Not sure whether you want to accept it with a namespace or not but the error message isn't very helpful.\r\n\r\n``` r\r\ndplyr::join_by(dplyr::between(y, a, b))\r\n#&gt; Error in `as_string()`:\r\n#&gt; ! Can't convert a call to a string.\r\n#&gt; Backtrace:\r\n#&gt;     ▆\r\n#&gt;  1. └─dplyr::join_by(dplyr::between(y, a, b))\r\n#&gt;  2.   └─dplyr:::parse_join_by_expr(exprs[[i]], i, error_call = error_call)\r\n#&gt;  3.     └─rlang::as_string(expr[[1]])\r\n#&gt;  4.       └─rlang:::abort_coercion(x, \"a string\")\r\n#&gt;  5.         └─rlang::abort(msg, call = call)\r\n```\r\n\r\n&lt;sup&gt;Created on 2023-05-02 with [reprex v2.0.2](https://reprex.tidyverse.org)&lt;\/sup&gt;",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6838/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 2,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 2,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6838/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6822",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6822/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6822/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6822/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6822",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1666351494,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5jUoGG",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6822,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "Consider allowing `.env$` in `join_by()`",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "DavisVaughan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 19150088,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjE5MTUwMDg4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/19150088?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/DavisVaughan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/DavisVaughan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/DavisVaughan/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/DavisVaughan/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/DavisVaughan/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/DavisVaughan/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/DavisVaughan/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/DavisVaughan/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/DavisVaughan/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/DavisVaughan/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/DavisVaughan/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 1,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-04-13T12:45:15Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-04-13T13:06:14Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "MEMBER",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "Motivated by https://github.com/tidyverse/dplyr/issues/6821\r\n\r\n``` r\r\nlibrary(dplyr, warn.conflicts = FALSE)\r\n\r\ndf1 &lt;- tibble(\r\n  X1 = c(\"chr1\", \"chr2\"),\r\n  a = c(1, 2)\r\n)\r\n\r\ndf2 &lt;- tibble(\r\n  X2 = c(\"chr2\", \"chr3\"),\r\n  b = c(3, 4)\r\n)\r\n\r\nby.1 &lt;- \"X1\"\r\nby.2 &lt;- \"X2\"\r\n\r\n# The \"old\" way\r\n# inner_join(df1, df2, by = setNames(by.2, by.1))\r\n\r\n# This works but we don't typically encourage using `!!` in high level APIs\r\ninner_join(df1, df2, by = join_by(!!by.1 == !!by.2))\r\n#&gt; # A tibble: 1 × 3\r\n#&gt;   X1        a     b\r\n#&gt;   &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;\r\n#&gt; 1 chr2      2     3\r\n \r\n# It might be nice to be able to do this, but it currently errors\r\ninner_join(df1, df2, by = join_by(.env$by.1 == .env$by.2))\r\n#&gt; Error in `join_by()`:\r\n#&gt; ! The left-hand side of a `$` expression must be either `x$` or `y$`.\r\n#&gt; ℹ Expression 1 contains `.env$by.1`.\r\n```\r\n\r\nSome notes from talking with @lionel-:\r\n- We have an equivalent-ish to `.data$` already with `x$` and `y$`. They don't have a `.` prefix because I attempted to match the original argument names\r\n- So it seems like we are missing an equivalent to the `.env$` pronoun, and we may as well call it `.env$` here too\r\n- It would look up in the `caller_env()` of `join_by()`, and I don't think `join_by()` would get an `env = caller_env()` argument to \"pass the env through\" unlike what is done in `glue()`.\r\n- It would look up using `inherits = TRUE`, because it seems like tidy eval does this too, and we generally think that makes sense\r\n- It would require the result to be a single string, or die trying. i.e. you can only use this to inject a single name from the environment, not to inject an entire expression",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6822/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6822/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6817",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6817/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6817/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6817/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/pull/6817",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1658192233,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "PR_kwDOAGIUpc5Nzt-8",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6817,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "replace as_tibble with new_tibble in ungroup()",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "mkoohafkan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 4790348,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjQ3OTAzNDg=",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/4790348?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/mkoohafkan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/mkoohafkan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/mkoohafkan/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/mkoohafkan/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/mkoohafkan/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/mkoohafkan/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/mkoohafkan/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/mkoohafkan/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/mkoohafkan/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/mkoohafkan/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/mkoohafkan/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-04-07T00:16:16Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-04-07T04:56:49Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "NONE",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "draft": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "pull_request": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/pulls/6817",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/tidyverse/dplyr/pull/6817",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "diff_url": "https://github.com/tidyverse/dplyr/pull/6817.diff",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "patch_url": "https://github.com/tidyverse/dplyr/pull/6817.patch",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "merged_at": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "Make `ungroup()` handle attributes in a way that is consistent with other `dplyr` functions by using `new_tibble()` instead of `as_tibble()`.\r\n\r\nThis is also future-proof if it is later decided that `new_tibble()` should drop attributes.\r\n\r\nFixes https://github.com/tidyverse/dplyr/issues/6774 without affecting discussion in https://github.com/tidyverse/tibble/pull/769",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6817/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6817/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6809",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6809/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6809/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6809/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6809",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1642598757,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5h6BFl",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6809,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "How to adjust to different behavior of across .fn argument passing in dplyr 1.1.1 vs. 1.0.10?",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "eipi10",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 436817,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjQzNjgxNw==",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/436817?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/eipi10",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/eipi10",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/eipi10/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/eipi10/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/eipi10/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/eipi10/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/eipi10/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/eipi10/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/eipi10/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/eipi10/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/eipi10/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 11,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-03-27T18:26:04Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-04-07T22:20:48Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "CONTRIBUTOR",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "I have a summarizing function that's similar to the function below. It allows the user to pass grouping variables, summary variables and any number of summary functions as arguments. \r\n\r\n```\r\n# Allow user to choose summary function(s)\r\nfnc = function(data, summary.vars=NULL, group.vars=NULL, \r\n               FUNS=c(mean=~mean(., na.rm=TRUE))) {\r\n  data %&gt;% \r\n    group_by(across({{group.vars}})) %&gt;% \r\n    summarise(n=n(), across({{summary.vars}}, \r\n                            .fn=FUNS,\r\n                            .names=\"{.col}_{.fn}\"))\r\n}\r\n```\r\n\r\nI often use `weighted.mean` as a summary function in the `FUNS` argument, which requires a weighting variable, which I pass with the bare column name, like this:\r\n\r\n```\r\nmtcars %&gt;% fnc(c(mpg, hp), c(vs, am), \r\n               FUNS=c(mean=~mean(., na.rm=TRUE), \r\n                      mean.wted=~weighted.mean(., w=cyl, na.rm=TRUE)))\r\n``` \r\n\r\nThis approach worked in `dplyr 1.0.10` and previous versions, but is failing in `dplyr 1.1.1`. Reproducible examples are below, first with 1.0.10 then with 1.1.1. \r\n\r\nHow can I update my function so that it will work properly with `dplyr 1.1.1`? I've never been happy with hard-coding the `w` argument anyway. Is there some tidyeval way that I should be passing the `w` argument into the summary function?\r\n\r\n### Example with `dplyr 1.0.10`\r\n\r\n``` r\r\nlibrary(dplyr)\r\n#&gt; \r\n#&gt; Attaching package: 'dplyr'\r\n#&gt; The following objects are masked from 'package:stats':\r\n#&gt; \r\n#&gt;     filter, lag\r\n#&gt; The following objects are masked from 'package:base':\r\n#&gt; \r\n#&gt;     intersect, setdiff, setequal, union\r\n\r\n# Allow user to choose summary function(s)\r\nfnc = function(data, summary.vars=NULL, group.vars=NULL, \r\n               FUNS=c(mean=~mean(., na.rm=TRUE))) {\r\n  data %&gt;% \r\n    group_by(across({{group.vars}})) %&gt;% \r\n    summarise(n=n(), across({{summary.vars}}, \r\n                            .fn=FUNS,\r\n                            .names=\"{.col}_{.fn}\"))\r\n}\r\n\r\n# These work in both 1.0.10 and 1.1.1\r\nmtcars %&gt;% fnc(c(mpg, hp))\r\n#&gt; # A tibble: 1 × 3\r\n#&gt;       n mpg_mean hp_mean\r\n#&gt;   &lt;int&gt;    &lt;dbl&gt;   &lt;dbl&gt;\r\n#&gt; 1    32     20.1    147.\r\n\r\nmtcars %&gt;% fnc(c(mpg, hp), c(vs, am))\r\n#&gt; `summarise()` has grouped output by 'vs'. You can override using the `.groups`\r\n#&gt; argument.\r\n#&gt; # A tibble: 4 × 5\r\n#&gt; # Groups:   vs [2]\r\n#&gt;      vs    am     n mpg_mean hp_mean\r\n#&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt;    &lt;dbl&gt;   &lt;dbl&gt;\r\n#&gt; 1     0     0    12     15.0   194. \r\n#&gt; 2     0     1     6     19.8   181. \r\n#&gt; 3     1     0     7     20.7   102. \r\n#&gt; 4     1     1     7     28.4    80.6\r\n\r\n# Passing a weighting variable as the w argument in weighted.mean works in dplyr 1.0.10 but fails in dplyr 1.1.1\r\nmtcars %&gt;% fnc(c(mpg, hp), c(vs, am), \r\n               FUNS=c(mean=~mean(., na.rm=TRUE), \r\n                      mean.wted=~weighted.mean(., w=cyl, na.rm=TRUE)))\r\n#&gt; `summarise()` has grouped output by 'vs'. You can override using the `.groups`\r\n#&gt; argument.\r\n#&gt; # A tibble: 4 × 7\r\n#&gt; # Groups:   vs [2]\r\n#&gt;      vs    am     n mpg_mean mpg_mean.wted hp_mean hp_mean.wted\r\n#&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt;    &lt;dbl&gt;         &lt;dbl&gt;   &lt;dbl&gt;        &lt;dbl&gt;\r\n#&gt; 1     0     0    12     15.0          15.1   194.         194. \r\n#&gt; 2     0     1     6     19.8          19.0   181.         198. \r\n#&gt; 3     1     0     7     20.7          20.4   102.         105. \r\n#&gt; 4     1     1     7     28.4          28.4    80.6         80.6\r\n\r\nsessionInfo()\r\n#&gt; R version 4.2.2 (2022-10-31)\r\n#&gt; Platform: aarch64-apple-darwin20 (64-bit)\r\n#&gt; Running under: macOS Ventura 13.2.1\r\n#&gt; \r\n#&gt; Matrix products: default\r\n#&gt; BLAS:   /Library/Frameworks/R.framework/Versions/4.2-arm64/Resources/lib/libRblas.0.dylib\r\n#&gt; LAPACK: /Library/Frameworks/R.framework/Versions/4.2-arm64/Resources/lib/libRlapack.dylib\r\n#&gt; \r\n#&gt; locale:\r\n#&gt; [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8\r\n#&gt; \r\n#&gt; attached base packages:\r\n#&gt; [1] stats     graphics  grDevices utils     datasets  methods   base     \r\n#&gt; \r\n#&gt; other attached packages:\r\n#&gt; [1] dplyr_1.0.10\r\n#&gt; \r\n#&gt; loaded via a namespace (and not attached):\r\n#&gt;  [1] rstudioapi_0.14   knitr_1.42        magrittr_2.0.3    tidyselect_1.2.0 \r\n#&gt;  [5] R.cache_0.16.0    R6_2.5.1          rlang_1.1.0.9000  fastmap_1.1.1    \r\n#&gt;  [9] fansi_1.0.4       styler_1.9.1      tools_4.2.2       xfun_0.37        \r\n#&gt; [13] R.oo_1.25.0       utf8_1.2.3        DBI_1.1.3         cli_3.6.1        \r\n#&gt; [17] withr_2.5.0       htmltools_0.5.4   yaml_2.3.7        digest_0.6.31    \r\n#&gt; [21] tibble_3.2.1      lifecycle_1.0.3   purrr_1.0.1       vctrs_0.6.0.9000 \r\n#&gt; [25] R.utils_2.12.2    fs_1.6.1          glue_1.6.2        evaluate_0.20    \r\n#&gt; [29] rmarkdown_2.20    reprex_2.0.2      compiler_4.2.2    pillar_1.8.1     \r\n#&gt; [33] generics_0.1.3    R.methodsS3_1.8.2 pkgconfig_2.0.3\r\n```\r\n\r\n### Same example, but with `dplyr 1.1.1`\r\n\r\n``` r\r\nlibrary(dplyr)\r\n#&gt; \r\n#&gt; Attaching package: 'dplyr'\r\n#&gt; The following objects are masked from 'package:stats':\r\n#&gt; \r\n#&gt;     filter, lag\r\n#&gt; The following objects are masked from 'package:base':\r\n#&gt; \r\n#&gt;     intersect, setdiff, setequal, union\r\n\r\n# Allow user to choose summary function(s)\r\nfnc = function(data, summary.vars=NULL, group.vars=NULL, \r\n               FUNS=c(mean=~mean(., na.rm=TRUE))) {\r\n  data %&gt;% \r\n    group_by(across({{group.vars}})) %&gt;% \r\n    summarise(n=n(), across({{summary.vars}}, \r\n                            .fn=FUNS,\r\n                            .names=\"{.col}_{.fn}\"))\r\n}\r\n\r\n# These work in both 1.0.10 and 1.1.1\r\nmtcars %&gt;% fnc(c(mpg, hp))\r\n#&gt; # A tibble: 1 × 3\r\n#&gt;       n mpg_mean hp_mean\r\n#&gt;   &lt;int&gt;    &lt;dbl&gt;   &lt;dbl&gt;\r\n#&gt; 1    32     20.1    147.\r\n\r\nmtcars %&gt;% fnc(c(mpg, hp), c(vs, am))\r\n#&gt; `summarise()` has grouped output by 'vs'. You can override using the `.groups`\r\n#&gt; argument.\r\n#&gt; # A tibble: 4 × 5\r\n#&gt; # Groups:   vs [2]\r\n#&gt;      vs    am     n mpg_mean hp_mean\r\n#&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt;    &lt;dbl&gt;   &lt;dbl&gt;\r\n#&gt; 1     0     0    12     15.0   194. \r\n#&gt; 2     0     1     6     19.8   181. \r\n#&gt; 3     1     0     7     20.7   102. \r\n#&gt; 4     1     1     7     28.4    80.6\r\n\r\n# Passing a weighting variable as the w argument in weighted.mean works in dplyr 1.0.10 but fails in dplyr 1.1.1\r\nmtcars %&gt;% fnc(c(mpg, hp), c(vs, am), \r\n               FUNS=c(mean=~mean(., na.rm=TRUE), \r\n                      mean.wted=~weighted.mean(., w=cyl, na.rm=TRUE)))\r\n#&gt; Error in `summarise()`:\r\n#&gt; ℹ In argument: `across(c(mpg, hp), .fn = FUNS, .names =\r\n#&gt;   \"{.col}_{.fn}\")`.\r\n#&gt; ℹ In group 1: `vs = 0`, `am = 0`.\r\n#&gt; Caused by error in `across()`:\r\n#&gt; ! Can't compute column `mpg_mean.wted`.\r\n#&gt; Caused by error in `weighted.mean.default()`:\r\n#&gt; ! object 'cyl' not found\r\n#&gt; Backtrace:\r\n#&gt;      ▆\r\n#&gt;   1. ├─mtcars %&gt;% ...\r\n#&gt;   2. ├─global fnc(...)\r\n#&gt;   3. │ └─data %&gt;% group_by(across({{ group.vars }})) %&gt;% ...\r\n#&gt;   4. ├─dplyr::summarise(...)\r\n#&gt;   5. ├─dplyr:::summarise.grouped_df(...)\r\n#&gt;   6. │ └─dplyr:::summarise_cols(.data, dplyr_quosures(...), by, \"summarise\")\r\n#&gt;   7. │   ├─base::withCallingHandlers(...)\r\n#&gt;   8. │   └─dplyr:::map(quosures, summarise_eval_one, mask = mask)\r\n#&gt;   9. │     └─base::lapply(.x, .f, ...)\r\n#&gt;  10. │       └─dplyr (local) FUN(X[[i]], ...)\r\n#&gt;  11. │         ├─base::withCallingHandlers(...)\r\n#&gt;  12. │         └─mask$eval_all_summarise(quo)\r\n#&gt;  13. │           └─dplyr (local) eval()\r\n#&gt;  14. ├─`&lt;rlng_lm_&gt;`(mpg)\r\n#&gt;  15. │ ├─stats::weighted.mean(., w = cyl, na.rm = TRUE)\r\n#&gt;  16. │ └─stats:::weighted.mean.default(., w = cyl, na.rm = TRUE)\r\n#&gt;  17. └─base::.handleSimpleError(...)\r\n#&gt;  18.   └─dplyr (local) h(simpleError(msg, call))\r\n#&gt;  19.     └─rlang::abort(msg, call = call(\"across\"), parent = cnd)\r\n\r\nsessionInfo()\r\n#&gt; R version 4.2.2 (2022-10-31)\r\n#&gt; Platform: aarch64-apple-darwin20 (64-bit)\r\n#&gt; Running under: macOS Ventura 13.2.1\r\n#&gt; \r\n#&gt; Matrix products: default\r\n#&gt; BLAS:   /Library/Frameworks/R.framework/Versions/4.2-arm64/Resources/lib/libRblas.0.dylib\r\n#&gt; LAPACK: /Library/Frameworks/R.framework/Versions/4.2-arm64/Resources/lib/libRlapack.dylib\r\n#&gt; \r\n#&gt; locale:\r\n#&gt; [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8\r\n#&gt; \r\n#&gt; attached base packages:\r\n#&gt; [1] stats     graphics  grDevices utils     datasets  methods   base     \r\n#&gt; \r\n#&gt; other attached packages:\r\n#&gt; [1] dplyr_1.1.1\r\n#&gt; \r\n#&gt; loaded via a namespace (and not attached):\r\n#&gt;  [1] rstudioapi_0.14   knitr_1.42        magrittr_2.0.3    tidyselect_1.2.0 \r\n#&gt;  [5] R.cache_0.16.0    R6_2.5.1          rlang_1.1.0.9000  fastmap_1.1.1    \r\n#&gt;  [9] fansi_1.0.4       styler_1.9.1      tools_4.2.2       xfun_0.37        \r\n#&gt; [13] R.oo_1.25.0       utf8_1.2.3        cli_3.6.0         withr_2.5.0      \r\n#&gt; [17] htmltools_0.5.4   yaml_2.3.7        digest_0.6.31     tibble_3.2.1     \r\n#&gt; [21] lifecycle_1.0.3   purrr_1.0.1       vctrs_0.6.0.9000  R.utils_2.12.2   \r\n#&gt; [25] fs_1.6.1          glue_1.6.2        evaluate_0.20     rmarkdown_2.20   \r\n#&gt; [29] reprex_2.0.2      compiler_4.2.2    pillar_1.8.1      generics_0.1.3   \r\n#&gt; [33] R.methodsS3_1.8.2 pkgconfig_2.0.3\r\n```\r\n",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6809/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6809/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6806",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6806/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6806/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6806/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6806",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1637564725,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5hm0E1",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6806,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "`count()` and `add_count()` could be much faster",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "DavisVaughan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 19150088,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjE5MTUwMDg4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/19150088?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/DavisVaughan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/DavisVaughan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/DavisVaughan/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/DavisVaughan/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/DavisVaughan/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/DavisVaughan/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/DavisVaughan/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/DavisVaughan/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/DavisVaughan/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/DavisVaughan/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/DavisVaughan/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-03-23T13:38:59Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-03-23T13:44:59Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "MEMBER",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "Right now these eventually just do `summarise(n = n())` or `mutate(n = n())` at some point, but that can be very slow with many groups. We already have `vec_count()`, which should be much much faster than `count()` with many groups. We could also add some kind of vctrs primitive that works like a windowed count for `add_count()`, or just build on top of `vec_count()`'s result plus an additional call to `vec_match()`.\r\n\r\nWe'd have to think through how weighted counts would work, maybe `vec_count()` needs support for a weight argument (a double vector).\r\n\r\nMotivation is something like this, and flights isn't even that big. Roughly 55k groups here.\r\n\r\n``` r\r\nlibrary(dplyr)\r\nlibrary(nycflights13)\r\n\r\nbench::mark(\r\n  count(flights, dep_time, dep_delay),\r\n  vctrs::vec_count(flights[c(\"dep_time\", \"dep_delay\")]),\r\n  check = FALSE\r\n)\r\n#&gt; Warning: Some expressions had a GC in every iteration; so filtering is\r\n#&gt; disabled.\r\n#&gt; # A tibble: 2 × 6\r\n#&gt;   expression                                                 min  median itr/s…¹\r\n#&gt;   &lt;bch:expr&gt;                                            &lt;bch:tm&gt; &lt;bch:t&gt;   &lt;dbl&gt;\r\n#&gt; 1 count(flights, dep_time, dep_delay)                    419.6ms 441.4ms    2.27\r\n#&gt; 2 vctrs::vec_count(flights[c(\"dep_time\", \"dep_delay\")])   17.3ms  21.5ms   42.7 \r\n#&gt; # … with 2 more variables: mem_alloc &lt;bch:byt&gt;, `gc/sec` &lt;dbl&gt;, and abbreviated\r\n#&gt; #   variable name ¹​`itr/sec`\r\n```\r\n\r\nAlso need to handle the fact that `...` and `wt` are data-masking, probably with `add_computed_columns()` like `distinct()`.",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6806/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 1,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 1,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6806/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6802",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6802/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6802/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6802/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6802",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1634653405,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5hbtTd",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6802,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "Reconsider re-exports from rlang",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "DavisVaughan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 19150088,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjE5MTUwMDg4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/19150088?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/DavisVaughan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/DavisVaughan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/DavisVaughan/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/DavisVaughan/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/DavisVaughan/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/DavisVaughan/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/DavisVaughan/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/DavisVaughan/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/DavisVaughan/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/DavisVaughan/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/DavisVaughan/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-03-21T20:35:59Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-03-21T20:36:19Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "MEMBER",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "Can we start to un-export any of these https://github.com/tidyverse/dplyr/blob/main/R/utils-tidy-eval.R?\r\n\r\nAlso, should we un-export `.data`? It doesn't belong on that help page, as noted in https://github.com/tidyverse/dplyr/pull/6801. We also don't export `.env` from dplyr, but those two are very closely related, and right now you can do `?dplyr::.data` but not `?dplyr::.env`.",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6802/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6802/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6795",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6795/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6795/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6795/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6795",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1631415133,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5hPWtd",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6795,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "`filter()` error for matrices doesn't give hint per NEWS for 1.0.8",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "mine-cetinkaya-rundel",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 5965649,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjU5NjU2NDk=",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/5965649?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/mine-cetinkaya-rundel",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/mine-cetinkaya-rundel",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/mine-cetinkaya-rundel/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/mine-cetinkaya-rundel/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/mine-cetinkaya-rundel/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/mine-cetinkaya-rundel/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/mine-cetinkaya-rundel/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/mine-cetinkaya-rundel/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/mine-cetinkaya-rundel/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/mine-cetinkaya-rundel/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/mine-cetinkaya-rundel/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 5,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-03-20T05:31:15Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-03-20T20:09:57Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "MEMBER",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "Between 1.0.7 and 1.1.0 `filter()` stopped taking matrices, per #5973. [NEWS for dplyr 1.0.8](https://github.com/tidyverse/dplyr/blob/main/NEWS.md#dplyr-108) reflects this change, but it also says there should be an informative message:\r\n\r\n&gt; - `filter()` forbids matrix results (#5973) and warns about data frame results, especially data frames created from `across()` with a hint to use `if_any()` or `if_all()`.\r\n\r\nSee reprex below:\r\n\r\nGoal: Drop rows where _all_ columns other than `id` are `NA`s.\r\n\r\n```r\r\n# create df ––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––\r\n\r\nlibrary(tibble)\r\n\r\ndf &lt;- tribble(\r\n  ~id, ~x,  ~y,\r\n  1,   NA, \"a\",\r\n  2,  \"b\",  NA,\r\n  3,   NA,  NA,\r\n  4,  \"c\", \"d\",\r\n)\r\n\r\n# new dplyr - 1.1.0 ––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––\r\n\r\nsuppressMessages(library(dplyr))\r\npackageVersion(\"dplyr\")\r\n#&gt; [1] '1.1.0'\r\n\r\n# works\r\ndf |&gt;\r\n  filter(if_any(!id, ~!is.na(.)))\r\n#&gt; # A tibble: 3 × 3\r\n#&gt;      id x     y    \r\n#&gt;   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;\r\n#&gt; 1     1 &lt;NA&gt;  a    \r\n#&gt; 2     2 b     &lt;NA&gt; \r\n#&gt; 3     4 c     d\r\n\r\n# doesn't work\r\ndf |&gt;\r\n  filter(!across(-id, is.na))\r\n#&gt; Error in `filter()`:\r\n#&gt; ℹ In argument: `!across(-id, is.na)`.\r\n#&gt; Caused by error:\r\n#&gt; ! `..1` must be a logical vector, not a logical matrix.\r\n\r\n# old dplyr - 1.0.7 ––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––\r\n\r\nunloadNamespace(\"dplyr\")\r\nnew_lib &lt;- tempfile()\r\ndir.create(new_lib)\r\nwithr::with_libpaths(new = new_lib, remotes::install_version(\"dplyr\", \"1.0.7\"))\r\nsuppressMessages(library(dplyr, lib.loc = new_lib))\r\npackageVersion(\"dplyr\")\r\n#&gt; [1] '1.0.7'\r\n\r\n# works\r\ndf |&gt;\r\n  filter(if_any(!id, ~!is.na(.)))\r\n#&gt; # A tibble: 3 × 3\r\n#&gt;      id x     y    \r\n#&gt;   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;\r\n#&gt; 1     1 &lt;NA&gt;  a    \r\n#&gt; 2     2 b     &lt;NA&gt; \r\n#&gt; 3     4 c     d\r\n\r\n# also works, but gives a different answer\r\ndf |&gt;\r\n  filter(!across(-id, is.na))\r\n#&gt; # A tibble: 2 × 3\r\n#&gt;      id x     y    \r\n#&gt;   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;\r\n#&gt; 1     2 b     &lt;NA&gt; \r\n#&gt; 2     4 c     d\r\n\r\nunlink(new_lib, recursive = TRUE)\r\n```\r\n\r\nI believe, per the NEWS item, the message should be improved. I had a hard time deciphering the error given by 1.1.0 above, hence went the rabbit hole of trying to figure out what changed between the sessions.",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6795/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6795/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6783",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6783/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6783/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6783/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6783",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1615008309,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5gQxI1",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6783,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "`slice_max()` is quite slow for a big number of groups",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "mgirlich",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 18258854,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjE4MjU4ODU0",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/18258854?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/mgirlich",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/mgirlich",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/mgirlich/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/mgirlich/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/mgirlich/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/mgirlich/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/mgirlich/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/mgirlich/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/mgirlich/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/mgirlich/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/mgirlich/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 1,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-03-08T10:09:01Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-03-08T16:16:31Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "NONE",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "It has gotten better after installing the dev version of dplyr (before a lot of time was wasted in `arg_match()`). But it has still a big overhead.\r\n\r\n``` r\r\nlibrary(dplyr)\r\n\r\nset.seed(1)\r\nn &lt;- 10e3\r\ndf &lt;- tibble(\r\n  id = sample(n, n, replace = TRUE),\r\n  x = runif(n)\r\n)\r\n\r\nbench::mark(\r\n  slice_max = df |&gt; \r\n    slice_max(x, n = 1, with_ties = FALSE, by = id),\r\n  arrange_slice = df |&gt;\r\n    arrange(desc(x)) |&gt; \r\n    slice(1, .by = id),\r\n  row_number = df |&gt;\r\n    filter(row_number(x) == n(), .by = id),\r\n  # can't check because the order is different\r\n  check = FALSE\r\n)\r\n#&gt; Warning: Some expressions had a GC in every iteration; so filtering is\r\n#&gt; disabled.\r\n#&gt; # A tibble: 3 × 6\r\n#&gt;   expression         min   median `itr/sec` mem_alloc `gc/sec`\r\n#&gt;   &lt;bch:expr&gt;    &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;\r\n#&gt; 1 slice_max      803.7ms  803.7ms      1.24    7.57MB     23.6\r\n#&gt; 2 arrange_slice  272.3ms  290.5ms      3.44    1.86MB     22.4\r\n#&gt; 3 row_number      91.3ms   96.5ms     10.4     4.04MB     22.4\r\n\r\n# just make sure that the three approaches give the same results\r\na1 &lt;- df |&gt; \r\n  slice_max(x, n = 1, with_ties = FALSE, by = id) |&gt; \r\n  arrange(id)\r\na2 &lt;- df |&gt;\r\n  arrange(desc(x)) |&gt; \r\n  slice(1, .by = id) |&gt; \r\n  arrange(id)\r\na3 &lt;- df |&gt;\r\n  filter(row_number(x) == n(), .by = id) |&gt; \r\n  arrange(id)\r\n\r\nidentical(a1, a2)\r\n#&gt; [1] TRUE\r\nidentical(a1, a3)\r\n#&gt; [1] TRUE\r\n```\r\n\r\n&lt;sup&gt;Created on 2023-03-08 with [reprex v2.0.2](https://reprex.tidyverse.org)&lt;\/sup&gt;\r\n\r\n&lt;details style=\"margin-bottom:10px;\"&gt;\r\n&lt;summary&gt;\r\nSession info\r\n&lt;\/summary&gt;\r\n\r\n``` r\r\nsessioninfo::session_info()\r\n#&gt; ─ Session info ───────────────────────────────────────────────────────────────\r\n#&gt;  setting  value\r\n#&gt;  version  R version 4.2.0 (2022-04-22)\r\n#&gt;  os       macOS Big Sur/Monterey 10.16\r\n#&gt;  system   x86_64, darwin17.0\r\n#&gt;  ui       X11\r\n#&gt;  language (EN)\r\n#&gt;  collate  en_US.UTF-8\r\n#&gt;  ctype    en_US.UTF-8\r\n#&gt;  tz       UTC\r\n#&gt;  date     2023-03-08\r\n#&gt;  pandoc   2.19.2 @ /Applications/RStudio.app/Contents/Resources/app/quarto/bin/tools/ (via rmarkdown)\r\n#&gt; \r\n#&gt; ─ Packages ───────────────────────────────────────────────────────────────────\r\n#&gt;  package     * version    date (UTC) lib source\r\n#&gt;  bench         1.1.2      2021-11-30 [1] CRAN (R 4.2.0)\r\n#&gt;  cli           3.6.0      2023-01-09 [1] CRAN (R 4.2.0)\r\n#&gt;  digest        0.6.31     2022-12-11 [1] CRAN (R 4.2.0)\r\n#&gt;  dplyr       * 1.1.0.9000 2023-03-08 [1] Github (tidyverse/dplyr@2222d43)\r\n#&gt;  evaluate      0.20       2023-01-17 [1] CRAN (R 4.2.0)\r\n#&gt;  fansi         1.0.4      2023-01-22 [1] CRAN (R 4.2.0)\r\n#&gt;  fastmap       1.1.1      2023-02-24 [1] CRAN (R 4.2.0)\r\n#&gt;  fs            1.6.1      2023-02-06 [1] CRAN (R 4.2.0)\r\n#&gt;  generics      0.1.3      2022-07-05 [1] CRAN (R 4.2.0)\r\n#&gt;  glue          1.6.2      2022-02-24 [1] CRAN (R 4.2.0)\r\n#&gt;  htmltools     0.5.4      2022-12-07 [1] CRAN (R 4.2.0)\r\n#&gt;  knitr         1.42       2023-01-25 [1] CRAN (R 4.2.0)\r\n#&gt;  lifecycle     1.0.3.9000 2022-10-10 [1] Github (r-lib/lifecycle@80a1e52)\r\n#&gt;  magrittr      2.0.3      2022-03-30 [1] CRAN (R 4.2.0)\r\n#&gt;  pillar        1.8.1      2022-08-19 [1] CRAN (R 4.2.0)\r\n#&gt;  pkgconfig     2.0.3      2019-09-22 [1] CRAN (R 4.2.0)\r\n#&gt;  profmem       0.6.0      2020-12-13 [1] CRAN (R 4.2.0)\r\n#&gt;  purrr         1.0.1      2023-01-10 [1] CRAN (R 4.2.0)\r\n#&gt;  R.cache       0.16.0     2022-07-21 [1] CRAN (R 4.2.0)\r\n#&gt;  R.methodsS3   1.8.2      2022-06-13 [1] CRAN (R 4.2.0)\r\n#&gt;  R.oo          1.25.0     2022-06-12 [1] CRAN (R 4.2.0)\r\n#&gt;  R.utils       2.12.2     2022-11-11 [1] CRAN (R 4.2.0)\r\n#&gt;  R6            2.5.1      2021-08-19 [1] CRAN (R 4.2.0)\r\n#&gt;  reprex        2.0.2      2022-08-17 [1] CRAN (R 4.2.0)\r\n#&gt;  rlang         1.1.0      2023-03-07 [1] Github (r-lib/rlang@60159c7)\r\n#&gt;  rmarkdown     2.20       2023-01-19 [1] CRAN (R 4.2.0)\r\n#&gt;  rstudioapi    0.14       2022-08-22 [1] CRAN (R 4.2.0)\r\n#&gt;  sessioninfo   1.2.2      2021-12-06 [1] CRAN (R 4.2.0)\r\n#&gt;  styler        1.9.1      2023-03-04 [1] CRAN (R 4.2.0)\r\n#&gt;  tibble        3.1.8      2022-07-22 [1] CRAN (R 4.2.0)\r\n#&gt;  tidyselect    1.2.0      2022-10-10 [1] CRAN (R 4.2.0)\r\n#&gt;  utf8          1.2.3      2023-01-31 [1] CRAN (R 4.2.0)\r\n#&gt;  vctrs         0.5.2.9000 2023-03-08 [1] Github (r-lib/vctrs@bdea1ce)\r\n#&gt;  withr         2.5.0      2022-03-03 [1] CRAN (R 4.2.0)\r\n#&gt;  xfun          0.37       2023-01-31 [1] CRAN (R 4.2.0)\r\n#&gt;  yaml          2.3.7      2023-01-23 [1] CRAN (R 4.2.0)\r\n#&gt; \r\n#&gt;  [1] /Library/Frameworks/R.framework/Versions/4.2/Resources/library\r\n#&gt; \r\n#&gt; ──────────────────────────────────────────────────────────────────────────────\r\n```\r\n\r\n&lt;\/details&gt;",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6783/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6783/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6774",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6774/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6774/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6774/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6774",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1609648276,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5f8UiU",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6774,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "`ungroup()` drops data frame attributes",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "mkoohafkan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 4790348,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjQ3OTAzNDg=",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/4790348?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/mkoohafkan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/mkoohafkan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/mkoohafkan/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/mkoohafkan/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/mkoohafkan/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/mkoohafkan/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/mkoohafkan/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/mkoohafkan/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/mkoohafkan/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/mkoohafkan/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/mkoohafkan/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 4,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-03-04T07:05:33Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-03-23T15:56:06Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "NONE",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "This is referring to **dataframe/tibble** attributes, not tibble *column* attributes. The CRAN install of dplyr 1.1.0 sometimes drops attributes:\r\n\r\n```r\r\nd = mtcars\r\nattr(d, \"foo\") = \"bar\"\r\nattr(d, \"foo\")\r\n#&gt; [1] \"bar\"\r\n\r\n## preserved\r\nd |&gt; select(cyl) |&gt; attr(\"foo\")\r\n#&gt; [1] \"bar\"\r\nd |&gt; rename(cyl2 = cyl) |&gt; attr(\"foo\")\r\n#&gt; [1] \"bar\"\r\nd |&gt; arrange(cyl) |&gt; attr(\"foo\")\r\n#&gt; [1] \"bar\"\r\nd |&gt; group_by(cyl) |&gt; attr(\"foo\")\r\n#&gt; [1] \"bar\"\r\nd |&gt; mutate(mpg2 = mpg) |&gt; attr(\"foo\")\r\n#&gt; [1] \"bar\"\r\nd |&gt; transmute(mpg2 = mpg) |&gt; attr(\"foo\")\r\n#&gt; [1] \"bar\"\r\nd |&gt; filter(cyl == 1L) |&gt; attr(\"foo\")\r\n#&gt; [1] \"bar\"\r\nd |&gt; count(cyl) |&gt; attr(\"foo\") \r\n#&gt; [1] \"bar\"\r\nd |&gt; bind_rows(d) |&gt; attr(\"foo\")\r\n#&gt; [1] \"bar\"\r\nd |&gt; bind_cols(select(d, cyl2 = cyl)) |&gt; attr(\"foo\")\r\n#&gt; [1] \"bar\"\r\n\r\n\r\n## dropped\r\nd |&gt; group_by(cyl) |&gt; ungroup() |&gt; attr(\"foo\")\r\n#&gt; NULL\r\nd |&gt; summarize(mpg = max(mpg)) |&gt; attr(\"foo\")\r\n#&gt; NULL\r\n```\r\n\r\nI can understand why it might make sense for `summarize()` to drop attributes (but then why does `count()` preserve them?), but I don't see why `ungroup(group_by(...))` should drop attributes unilaterally. Given that almost all `dplyr` verbs preserve the attribute, I'm wondering if this is a bug/regression.\r\n\r\nThere are a variety of issues regarding attributes but they are all closed.\r\n\r\n- https://github.com/tidyverse/dplyr/issues/2432\r\n- https://github.com/tidyverse/dplyr/issues/5132\r\n- https://github.com/tidyverse/dplyr/issues/3429\r\n",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6774/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 1,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 1,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6774/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6712",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6712/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6712/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6712/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6712",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1580234527,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5eMHcf",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6712,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "Can we improve on this `across()` error?",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "DavisVaughan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 19150088,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjE5MTUwMDg4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/19150088?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/DavisVaughan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/DavisVaughan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/DavisVaughan/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/DavisVaughan/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/DavisVaughan/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/DavisVaughan/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/DavisVaughan/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/DavisVaughan/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/DavisVaughan/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/DavisVaughan/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/DavisVaughan/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-02-10T19:48:08Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-02-10T19:48:08Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "MEMBER",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "``` r\r\nlibrary(dplyr)\r\n\r\ndf &lt;- tibble(x = 1:2, y = 3:4)\r\n\r\nfn &lt;- function(col) {\r\n  stop(\"oh no\")\r\n}\r\n\r\nmutate(df, across(y, fn))\r\n#&gt; Error in `mutate()`:\r\n#&gt; ℹ In argument: `across(y, fn)`.\r\n#&gt; Caused by error in `across()`:\r\n#&gt; ! Can't compute column `y`.\r\n#&gt; Caused by error:\r\n#&gt; ! oh no\r\n```\r\n\r\nIt can probably just be:\r\n\r\n```r\r\n#&gt; Error in `mutate()`:\r\n#&gt; ℹ In argument: `across(y, fn)`.\r\n#&gt; ℹ In column: `y`.\r\n#&gt; Caused by error:\r\n#&gt; ! oh no\r\n```\r\n\r\nAs mentioned here https://github.com/tidyverse/dplyr/pull/6704#discussion_r1102408064\r\n\r\nThrown from here, so seems plausible that we could improve on this\r\nhttps://github.com/tidyverse/dplyr/blob/49b39af5ebd79bf06bb809c8fdf3bd955d8f9ad8/R/mutate.R#L382-L388",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6712/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6712/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6676",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6676/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6676/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6676/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6676",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1566600644,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5dYG3E",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6676,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "`bind_rows()` on a list of data.tables creates corrupt output",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "emilBeBri",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 964816,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjk2NDgxNg==",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/964816?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/emilBeBri",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/emilBeBri",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/emilBeBri/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/emilBeBri/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/emilBeBri/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/emilBeBri/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/emilBeBri/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/emilBeBri/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/emilBeBri/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/emilBeBri/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/emilBeBri/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 4,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-02-01T18:29:11Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-02-14T17:33:04Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "NONE",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "\r\nwhen using bind_rows on a list of data.tables with keys, with either map_dfr or a do.call, the keys are not removed This is a problem, because the keys are not correct anymore, which means that later queries are using an index that is wrong. \r\n\r\nnot sure if I should report this under data.table or dplyr, but since the issue is in bin_rows, I guess it is dplyr.\r\n\r\n[here is the issue I filed under data.table](https://github.com/Rdatatable/data.table/issues/5587)\r\n\r\n\r\n\r\n\r\n```\r\n\r\n\r\nlibrary(data.table)\r\nlibrary(dplyr)\r\n\r\n\r\n\r\n\r\ndata &lt;- data.table(var1=c('a', 'b', 'c', 'd', 'e', 'f', 'g', 'h'), var2=c(rep(2016, 4), rep(2018, 4)), key=c('var1', 'var2'))\r\n\r\n\r\ntest1 &lt;- lapply(c(2018, 2016), function(x) data[var2 %in% c(x-1, x)])\r\n\r\n\r\ntest2 &lt;- do.call(bind_rows, test1)\r\n# wrong \r\ntest2[var1 %in% c('c', 'e'), .N]\r\n# right\r\nsum( test2$var1 %in% c('c', 'e') )\r\n\r\n\r\n```\r\n\r\nsame thing  happens w. map_dfr,that uses bind_rows under the hood. This is how I found the issue. It is very common in my workflow, and I suspect I am not the one.\r\n\r\n\r\ndoing the same with rbind removes the keys, which is the expected behaviour - as the index from the key are no longer valid.\r\n\r\n\r\n```\r\n\r\ntest2_rbind &lt;- do.call(rbind, test1) \r\n# here it is fine - because the keys not there, giving a wrong picture of the structure of the DT\r\ntest2_rbind[var1 %in% c('c', 'e'), .N]\r\n\r\n# when removing the keys, everything is fine. \r\nsetkey(test2, NULL)\r\ntest2[var1 %in% c('c', 'e'), .N]\r\n\r\n\r\n```\r\n\r\n\r\n\r\ncuriosly, using split() instead of lapply circumvents the issue - but this is not a solution, since typically you need to apply a function to the data, - splitting it and then recombining it with split() makes no sense. But I am including it here for completeness.\r\n\r\n\r\n```\r\n\r\n\r\ntest1 &lt;- split(data, data$var2)\r\ntest2 &lt;- do.call(bind_rows, test1)\r\n# right \r\ntest2[var1 %in% c('c', 'e'), .N]\r\n\r\n```\r\n\r\nsessionInfo\r\n\r\n```\r\n\r\nR version 4.2.2 (2022-10-31)\r\nPlatform: x86_64-pc-linux-gnu (64-bit)\r\nRunning under: Manjaro Linux\r\n\r\nMatrix products: default\r\nBLAS:   /usr/lib/libblas.so.3.11.0\r\nLAPACK: /usr/lib/liblapack.so.3.11.0\r\n\r\nlocale:\r\n [1] LC_CTYPE=en_DK.UTF-8       LC_NUMERIC=C\r\n [3] LC_TIME=en_DK.UTF-8        LC_COLLATE=en_DK.UTF-8\r\n [5] LC_MONETARY=en_DK.UTF-8    LC_MESSAGES=en_DK.UTF-8\r\n [7] LC_PAPER=en_DK.UTF-8       LC_NAME=C\r\n [9] LC_ADDRESS=C               LC_TELEPHONE=C\r\n[11] LC_MEASUREMENT=en_DK.UTF-8 LC_IDENTIFICATION=C\r\n\r\nattached base packages:\r\n[1] stats     graphics  grDevices utils     datasets  methods   base\r\n\r\nother attached packages:\r\n[1] dplyr_1.0.10      data.table_1.14.6\r\n\r\nloaded via a namespace (and not attached):\r\n [1] fansi_1.0.4      assertthat_0.2.1 utf8_1.2.2       R6_2.5.1\r\n [5] DBI_1.1.3        lifecycle_1.0.3  magrittr_2.0.3   pillar_1.8.1\r\n [9] rlang_1.0.6      cli_3.6.0        vctrs_0.5.2      generics_0.1.3\r\n[13] glue_1.6.2       compiler_4.2.2   pkgconfig_2.0.3  tidyselect_1.2.0\r\n[17] tibble_3.1.8\r\n\r\n\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6676/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6676/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6663",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6663/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6663/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6663/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6663",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1558485964,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5c5JvM",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6663,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "Consider `.sort = FALSE` for `summarise()`, `reframe()`, and `slice_sample()`",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "DavisVaughan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 19150088,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjE5MTUwMDg4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/19150088?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/DavisVaughan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/DavisVaughan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/DavisVaughan/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/DavisVaughan/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/DavisVaughan/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/DavisVaughan/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/DavisVaughan/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/DavisVaughan/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/DavisVaughan/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/DavisVaughan/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/DavisVaughan/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "id": 17708200,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "node_id": "MDU6TGFiZWwxNzcwODIwMA==",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "url": "https://api.github.com/repos/tidyverse/dplyr/labels/feature",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "name": "feature",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "color": "B4C3AE",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "default": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "description": "a feature request or enhancement"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "id": 1728164976,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "node_id": "MDU6TGFiZWwxNzI4MTY0OTc2",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "url": "https://api.github.com/repos/tidyverse/dplyr/labels/grouping%20:family_man_woman_girl_boy:",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "name": "grouping :family_man_woman_girl_boy:",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "color": "eeeeee",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "default": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "description": ""</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-01-26T17:12:12Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-01-26T17:12:22Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "MEMBER",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "With the introduction of `.by`, we no longer sort group keys automatically. There are a whole host of good reasons for this as outlined here https://github.com/tidyverse/dplyr/issues/5664#issuecomment-907232443, and I am mostly confident this is the right long term default for dplyr.\r\n\r\nHowever, I am empathetic to the fact that users do often like to see their summary results sorted in ascending order. Right now, our recommendation is:\r\n\r\n```r\r\ndf %&gt;%\r\n  summarise(..., .by = c(a, b, c)) %&gt;%\r\n  arrange(a, b, c) # could also come before `summarise()`\r\n```\r\n\r\nThis is nice because you get the full power of `arrange()` including `desc()` and `.locale`.\r\n\r\nI think we should _consider_ a `.sort` argument like:\r\n\r\n```r\r\ndf %&gt;%\r\n  summarise(..., .by = c(a, b, c), .sort = TRUE)\r\n```\r\n\r\n- `.sort = FALSE` would be the default for reasons mentioned above.\r\n- We'd document this as the 100% backwards compatible way to transition from `group_by()` to `.by` (even though most of the time the ordering isn't important).\r\n- You must accept that you get _ascending order_ and the _C locale_. That makes it compatible with `group_by()`. If you need anything fancier, call `arrange()`.\r\n- I do like that you won't have to repeat the group names.\r\n- Obviously `.sort = TRUE` errors on unorderable types like clock's year-month-weekday.\r\n- This would probably only be an argument for the `.data.frame` method, as opposed to the generic, because dbplyr probably won't want to enforce a sort order? Uncertain.\r\n\r\nBasically, this leaves the idea of a `groupby + summarise` operation theoretically pure (because it shouldn't require orderable keys), but also gives users a convenient way to optionally opt in to sorted results.\r\n\r\n---\r\n\r\nThere are 3 functions that would get this argument:\r\n- `summarise()`\r\n- `reframe()`\r\n- `slice_sample()` (goes with #6662)\r\n\r\nThe following would not get `.sort` because they aren't about row ordering:\r\n- `filter()`\r\n- `mutate()`\r\n- `slice()` and `slice_min/max/head/tail()` (after #6662 is changed)",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6663/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 1,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 1,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6663/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6662",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6662/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6662/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6662/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6662",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1558447141,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5c5AQl",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6662,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "`slice()` and `slice_head/tail/min/max()` should act like a `filter()` not a `reframe()`",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "DavisVaughan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 19150088,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjE5MTUwMDg4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/19150088?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/DavisVaughan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/DavisVaughan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/DavisVaughan/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/DavisVaughan/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/DavisVaughan/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/DavisVaughan/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/DavisVaughan/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/DavisVaughan/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/DavisVaughan/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/DavisVaughan/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/DavisVaughan/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "id": 17708198,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "node_id": "MDU6TGFiZWwxNzcwODE5OA==",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "url": "https://api.github.com/repos/tidyverse/dplyr/labels/bug",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "name": "bug",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "color": "E0B3A2",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "default": true,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "description": "an unexpected problem or unintended behavior"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "id": 3407327207,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "node_id": "LA_kwDOAGIUpc7LF6_n",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "url": "https://api.github.com/repos/tidyverse/dplyr/labels/rows%20%E2%86%95%EF%B8%8F",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "name": "rows ↕️",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "color": "eeeeee",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "default": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "description": "Operations on rows: filter(), slice(), arrange()"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-01-26T16:46:52Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-01-26T16:51:00Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "MEMBER",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "Note that this `filter()` call keeps the groups of `x` separated. i.e.  the groups of `2` and `1` are not aggregated together\r\n\r\n``` r\r\nlibrary(dplyr, warn.conflicts = FALSE)\r\n\r\ndf &lt;- tibble(x = c(2, 1, 2, 2, 1), y = c(3, 2, 1, 2, 4))\r\ndf\r\n#&gt; # A tibble: 5 × 2\r\n#&gt;       x     y\r\n#&gt;   &lt;dbl&gt; &lt;dbl&gt;\r\n#&gt; 1     2     3\r\n#&gt; 2     1     2\r\n#&gt; 3     2     1\r\n#&gt; 4     2     2\r\n#&gt; 5     1     4\r\n\r\n# Maintain group separation, we just take the first 2 per x group\r\ndf %&gt;% filter(row_number() %in% 1:2, .by = x)\r\n#&gt; # A tibble: 4 × 2\r\n#&gt;       x     y\r\n#&gt;   &lt;dbl&gt; &lt;dbl&gt;\r\n#&gt; 1     2     3\r\n#&gt; 2     1     2\r\n#&gt; 3     2     1\r\n#&gt; 4     1     4\r\n```\r\n\r\n`filter()` is simply about deciding which rows to keep, not about the ordering of the result.\r\n\r\nI think that `slice()` and `slice_head/tail/min/max()` should function the exact same way. They currently do not:\r\n\r\n``` r\r\n# These both group the results by `x`.\r\n# The difference is `.by` doesn't do an additional sort by `x`.\r\ndf %&gt;% slice(1:2, .by = x)\r\n#&gt; # A tibble: 4 × 2\r\n#&gt;       x     y\r\n#&gt;   &lt;dbl&gt; &lt;dbl&gt;\r\n#&gt; 1     2     3\r\n#&gt; 2     2     1\r\n#&gt; 3     1     2\r\n#&gt; 4     1     4\r\n\r\ndf %&gt;% group_by(x) %&gt;% slice(1:2)\r\n#&gt; # A tibble: 4 × 2\r\n#&gt; # Groups:   x [2]\r\n#&gt;       x     y\r\n#&gt;   &lt;dbl&gt; &lt;dbl&gt;\r\n#&gt; 1     1     2\r\n#&gt; 2     1     4\r\n#&gt; 3     2     3\r\n#&gt; 4     2     1\r\n```\r\n\r\nSlicing is purely about figuring out which rows to _keep_. It doesn't have anything to do with determining the order of said rows.\r\n\r\nThe current slice implementation is (implicitly) like a `reframe()` call instead.\r\n\r\n``` r\r\ndf %&gt;% reframe(.by = x, {\r\n  data &lt;- pick(everything())\r\n  data[row_number() %in% 1:2,]\r\n})\r\n#&gt; # A tibble: 4 × 2\r\n#&gt;       x     y\r\n#&gt;   &lt;dbl&gt; &lt;dbl&gt;\r\n#&gt; 1     2     3\r\n#&gt; 2     2     1\r\n#&gt; 3     1     2\r\n#&gt; 4     1     4\r\n```\r\n\r\nI think the way to practically make it work like a `filter()` is to change the implementation to build up a logical vector the same size as `.data` to slice with. That would retain the row ordering of `.data`.\r\n\r\n---\r\n\r\nThe one `slice()` family exception to this is `slice_sample()`, which is not a filter. It can even generate more rows than you started with. Possibly this is a sign that `slice_*()` was an unfortunate prefix for that.\r\n\r\nFor this reason, `slice_sample()` should continue to aggregate groups together. It will just be slightly different, but that is okay.",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6662/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6662/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6660",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6660/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6660/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6660/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6660",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1556850210,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5cy6Yi",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6660,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "`mutate(.by_row =)`, `reframe(.by_row =)`, and possibly `filter(.by_row =)`",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "DavisVaughan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 19150088,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjE5MTUwMDg4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/19150088?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/DavisVaughan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/DavisVaughan",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/DavisVaughan/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/DavisVaughan/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/DavisVaughan/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/DavisVaughan/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/DavisVaughan/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/DavisVaughan/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/DavisVaughan/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/DavisVaughan/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/DavisVaughan/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "id": 17708200,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "node_id": "MDU6TGFiZWwxNzcwODIwMA==",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "url": "https://api.github.com/repos/tidyverse/dplyr/labels/feature",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "name": "feature",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "color": "B4C3AE",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "default": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "description": "a feature request or enhancement"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 4,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2023-01-25T15:31:55Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2023-02-08T19:02:16Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "MEMBER",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "Related to https://github.com/tidyverse/dplyr/issues/4723\r\n\r\nWith the introduction of `.by`, it seems reasonable to once again reconsider `rowwise()` as well. I think we are convinced that the _idea_ of rowwise is useful, but the implementation could possibly be improved. A few pain points:\r\n- `rowwise()` is a form of persistent grouping, but you rarely want it on for more than 1 operation\r\n- `ungroup()` is an odd verb for turning off rowwise behavior\r\n- It still sucks that you need `summarise(model = list(lm(...)))`, i.e. the `list()` wrapping is manual\r\n- Maintaining the `rowwise_df` class is difficult and error prone for us\r\n- There are _very_ few times where rowwise behavior is actually useful. I think the two cases are `mutate()` and `reframe()`.\r\n\r\n---\r\n\r\nWith that in mind, I'd like to suggest a two-part replacement for `rowwise()`:\r\n- Two per-operation rowwise verbs, `mutate_row()` and `reframe_row()`. These become the _only_ two places in dplyr where rowwise behavior is applicable.\r\n- Give `mutate()`, `summarise()`, `reframe()`, `mutate_row()`, and `reframe_row()` the ability to automatically wrap scalars in a list. i.e. if `vec_is(elt)` is `FALSE`, wrap automatically into a list. This means that value could _never_ exist in a data frame column as is, so there is no ambiguity about wrapping and it is fairly easy to explain.\r\n\r\nThose two proposals result in the following new patterns:\r\n\r\n```r\r\n# dplyr 1.1.0\r\niris %&gt;%\r\n  tidyr::nest(.by = Species) %&gt;%\r\n  rowwise(Species) %&gt;%\r\n  mutate(model = list(lm(Petal.Length ~ Sepal.Length, data = data))) %&gt;%\r\n  reframe(broom::tidy(model))\r\n   \r\n# New 1:\r\n# (note the lack of list(), and no persistant rowwise-ness)\r\n# (note how we carry Species along in the reframe_row() call)\r\niris %&gt;%\r\n  tidyr::nest(.by = Species) %&gt;%\r\n  mutate_row(model = lm(Petal.Length ~ Sepal.Length, data = data)) %&gt;%\r\n  reframe_row(Species, broom::tidy(model))\r\n\r\n# New 2:\r\n# (note that even summarise() doesn't need manual list() wrapping)\r\niris %&gt;%\r\n  summarise(\r\n    model = lm(Petal.Length ~ Sepal.Length, data = pick(everything())),\r\n    .by = Species\r\n  ) %&gt;%\r\n  reframe_row(Species, broom::tidy(model))\r\n\r\n# All result in:\r\n\r\n#&gt; # A tibble: 6 × 6\r\n#&gt;   Species    term         estimate std.error statistic  p.value\r\n#&gt;   &lt;fct&gt;      &lt;chr&gt;           &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;\r\n#&gt; 1 setosa     (Intercept)     0.803    0.344      2.34  2.38e- 2\r\n#&gt; 2 setosa     Sepal.Length    0.132    0.0685     1.92  6.07e- 2\r\n#&gt; 3 versicolor (Intercept)     0.185    0.514      0.360 7.20e- 1\r\n#&gt; 4 versicolor Sepal.Length    0.686    0.0863     7.95  2.59e-10\r\n#&gt; 5 virginica  (Intercept)     0.610    0.417      1.46  1.50e- 1\r\n#&gt; 6 virginica  Sepal.Length    0.750    0.0630    11.9   6.30e-16\r\n```\r\n\r\nThis two part proposal has the very nice property that the difference between `mutate()` and `mutate_row()` becomes _purely_ about column access:\r\n- `mutate()` accesses columns using `vec_slice()` / `[`\r\n- `mutate_row()` accesses columns using `vec_slice2()` / `[[`\r\n\r\nIn other words, rowwise has _nothing_ to do with the output type of each column expression, and you still get useful results.\r\n\r\nIn terms of other invariants, there is one related to `vec_size()`:\r\n- `mutate_row()` requires each expression to return an element of `vec_size() == 1`\r\n- `reframe_row()` allows each expression to return an element of any size\r\n- (the size invariant is enforced after list wrapping) \r\n\r\nOther niceties:\r\n- It becomes very clear when you are doing a rowwise operation, because it is in the name of the verb (similar to `.by` being in the verb)\r\n- Somewhat obvious, but it means rowwise behavior isn't persistent. You always have bare tibble in, bare tibble out, which greatly simplifies things.\r\n\r\n---\r\n\r\nExtra notes:\r\n- Somewhat obvious, but `mutate_row()` and `reframe_row()` won't get `.by` because they operation \"by row\"\r\n- We don't want to teach `.by` about rowwise behavior, like `.by = .row` or something. We want `.by` to be _pure_ tidyselect. Plus this special behavior would only apply for `mutate()` and `reframe()` and that would be very confusing.\r\n- We do _not_ need `summarise_row()`. This would have the _exact_ same semantics as `mutate_row()`, but would just drop unused columns (which can mostly be done with `.keep` in `mutate_row()`). In particular `summarise_row()` and `mutate_row()` would both have to have the `vec_size() == 1` invariant from above, so we really don't need both.\r\n- There is no need for `filter_row()`. The only useful thing I can think of is something like `filter_row(!is.null(model))` for filtering out `NULL` list elements. But you can do that way more efficiently with an ungrouped call to `filter(!funs::is_na(model))`.\r\n\r\n`mutate_row()` and `reframe_row()` mostly have the semantics of the wrappers below, but this doesn't do the automatic list-wrapping of scalars:\r\n\r\n```r\r\nmutate_row &lt;- function(.data, ...) {\r\n  .data &lt;- rowwise(.data)\r\n  .data &lt;- mutate(.data, ...)\r\n  ungroup(.data)\r\n}\r\n\r\nreframe_row &lt;- function(.data, ...) {\r\n  .data &lt;- rowwise(.data)\r\n  reframe(.data, ...)\r\n}\r\n```",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6660/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6660/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6580",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "repository_url": "https://api.github.com/repos/tidyverse/dplyr",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6580/labels{/name}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6580/comments",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "events_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6580/events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "html_url": "https://github.com/tidyverse/dplyr/issues/6580",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "id": 1470361443,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "node_id": "I_kwDOAGIUpc5Xo-9j",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "number": 6580,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "title": "Make `Joining with` message clickable to copy-to-clipboard",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "user": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "login": "donboyd5",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "id": 6538392,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "node_id": "MDQ6VXNlcjY1MzgzOTI=",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "avatar_url": "https://avatars.githubusercontent.com/u/6538392?v=4",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gravatar_id": "",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/users/donboyd5",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "html_url": "https://github.com/donboyd5",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "followers_url": "https://api.github.com/users/donboyd5/followers",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "following_url": "https://api.github.com/users/donboyd5/following{/other_user}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "gists_url": "https://api.github.com/users/donboyd5/gists{/gist_id}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "starred_url": "https://api.github.com/users/donboyd5/starred{/owner}{/repo}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "subscriptions_url": "https://api.github.com/users/donboyd5/subscriptions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "organizations_url": "https://api.github.com/users/donboyd5/orgs",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "repos_url": "https://api.github.com/users/donboyd5/repos",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "events_url": "https://api.github.com/users/donboyd5/events{/privacy}",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "received_events_url": "https://api.github.com/users/donboyd5/received_events",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "type": "User",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "site_admin": false</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "labels": [</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "id": 17708200,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "node_id": "MDU6TGFiZWwxNzcwODIwMA==",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "url": "https://api.github.com/repos/tidyverse/dplyr/labels/feature",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "name": "feature",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "color": "B4C3AE",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "default": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "description": "a feature request or enhancement"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "id": 1257707950,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "node_id": "MDU6TGFiZWwxMjU3NzA3OTUw",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "url": "https://api.github.com/repos/tidyverse/dplyr/labels/tables%20%F0%9F%A7%AE",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "name": "tables 🧮",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "color": "eeeeee",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "default": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "description": "joins and set operations"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state": "open",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "locked": false,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignee": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "assignees": [],</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "milestone": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "comments": 3,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "created_at": "2022-11-30T23:25:12Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "updated_at": "2022-12-10T19:10:28Z",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "closed_at": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "author_association": "NONE",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "active_lock_reason": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "body": "Hi,\r\n\r\ndplyr 1.1.0 seems like it is going to be great (I installed the dev version with `pak::[pak](http://pak.r-lib.org/reference/pak.html)(\"tidyverse/dplyr\")`). I really like .by in summarise and mutate.\r\n\r\nOne small suggestion for messages related to the new join:\r\n\r\nIn the old join, if I leave out the \"by\" it gives a helpful message stating what it does by default, giving the \", by=\" statement it used. This is nice because if I like it, I can copy it directly into code.\r\n\r\nThe new 1.1.0 message when \"by\" is left out is slightly different. For example, here is a typical message:\r\n\r\n``` \r\nJoining with `by = join_by(mergevar)`\r\n```\r\n\r\nNotice that this does not have a comma and space before the \"by\", or else it would look like this:\r\n\r\n``` \r\nJoining with `, by = join_by(mergevar)`\r\n```\r\n\r\nThe advantage of the second message is that it can be copied into code without the two extra keystrokes the first one requires. Hardly a significant issue, but it could add up over thousands of people and many days.\r\n\r\nThanks for considering it.\r\n\r\n\r\n\r\n\r\n\r\n\r\n",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "reactions": {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "url": "https://api.github.com/repos/tidyverse/dplyr/issues/6580/reactions",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "total_count": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "+1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "-1": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "laugh": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "hooray": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "confused": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "heart": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "rocket": 0,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       "eyes": 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     },</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "timeline_url": "https://api.github.com/repos/tidyverse/dplyr/issues/6580/timeline",</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "performed_via_github_app": {},</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "state_reason": {}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ] </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Automatic pagination</span></span></span>
<span class="r-in"><span><span class="va">users</span> <span class="op">&lt;-</span> <span class="fu">gh</span><span class="op">(</span><span class="st">"/users"</span>, .limit <span class="op">=</span> <span class="fl">50</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">users</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 50</span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co">## Access developer preview of Licenses API (in preview as of 2015-09-24)</span></span></span>
<span class="r-in"><span><span class="fu">gh</span><span class="op">(</span><span class="st">"/licenses"</span><span class="op">)</span> <span class="co"># used to error code 415</span></span></span>
<span class="r-in"><span><span class="fu">gh</span><span class="op">(</span><span class="st">"/licenses"</span>, .accept <span class="op">=</span> <span class="st">"application/vnd.github.drax-preview+json"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co">## Access Github Enterprise API</span></span></span>
<span class="r-in"><span><span class="co">## Use GITHUB_API_URL environment variable to change the default.</span></span></span>
<span class="r-in"><span><span class="fu">gh</span><span class="op">(</span><span class="st">"/user/repos"</span>, type <span class="op">=</span> <span class="st">"public"</span>, .api_url <span class="op">=</span> <span class="st">"https://github.foobar.edu/api/v3"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co">## Use I() to force body part to be sent as an array, even if length 1</span></span></span>
<span class="r-in"><span><span class="co">## This works whether assignees has length 1 or &gt; 1</span></span></span>
<span class="r-in"><span><span class="va">assignees</span> <span class="op">&lt;-</span> <span class="st">"gh_user"</span></span></span>
<span class="r-in"><span><span class="va">assignees</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"gh_user1"</span>, <span class="st">"gh_user2"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">gh</span><span class="op">(</span><span class="st">"PATCH /repos/OWNER/REPO/issues/1"</span>, assignees <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html" class="external-link">I</a></span><span class="op">(</span><span class="va">assignees</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co">## There are two ways to send JSON data. One is that you supply one or</span></span></span>
<span class="r-in"><span><span class="co">## more objects that will be converted to JSON automatically via</span></span></span>
<span class="r-in"><span><span class="co">## jsonlite::toJSON(). In this case sometimes you need to use</span></span></span>
<span class="r-in"><span><span class="co">## jsonlite::unbox() because fromJSON() creates lists from scalar vectors</span></span></span>
<span class="r-in"><span><span class="co">## by default. The Content-Type header is automatically added in this</span></span></span>
<span class="r-in"><span><span class="co">## case. For example this request turns on GitHub Pages, using this</span></span></span>
<span class="r-in"><span><span class="co">## API: https://docs.github.com/v3/repos/pages/#enable-a-pages-site</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">gh</span><span class="fu">::</span><span class="fu">gh</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"POST /repos/{owner}/{repo}/pages"</span>,</span></span>
<span class="r-in"><span>  owner <span class="op">=</span> <span class="st">"r-lib"</span>,</span></span>
<span class="r-in"><span>  repo <span class="op">=</span> <span class="st">"gh"</span>,</span></span>
<span class="r-in"><span>  source <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    branch <span class="op">=</span> <span class="fu">jsonlite</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jsonlite/man/unbox.html" class="external-link">unbox</a></span><span class="op">(</span><span class="st">"gh-pages"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    path <span class="op">=</span> <span class="fu">jsonlite</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jsonlite/man/unbox.html" class="external-link">unbox</a></span><span class="op">(</span><span class="st">"/"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span>,</span></span>
<span class="r-in"><span>  .send_headers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>Accept <span class="op">=</span> <span class="st">"application/vnd.github.switcheroo-preview+json"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## The second way is to handle the JSON encoding manually, and supply it</span></span></span>
<span class="r-in"><span><span class="co">## as a raw vector in an unnamed argument, and also a Content-Type header:</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">body</span> <span class="op">&lt;-</span> <span class="st">'{ "source": { "branch": "gh-pages", "path": "/" } }'</span></span></span>
<span class="r-in"><span><span class="fu">gh</span><span class="fu">::</span><span class="fu">gh</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"POST /repos/{owner}/{repo}/pages"</span>,</span></span>
<span class="r-in"><span>  owner <span class="op">=</span> <span class="st">"r-lib"</span>,</span></span>
<span class="r-in"><span>  repo <span class="op">=</span> <span class="st">"gh"</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/rawConversion.html" class="external-link">charToRaw</a></span><span class="op">(</span><span class="va">body</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  .send_headers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    Accept <span class="op">=</span> <span class="st">"application/vnd.github.switcheroo-preview+json"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"Content-Type"</span> <span class="op">=</span> <span class="st">"application/json"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co">## Pass along a query to the search/code endpoint via the ... argument</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">gh</span><span class="fu">::</span><span class="fu">gh</span><span class="op">(</span></span></span>
<span class="r-in"><span>            <span class="st">"/search/code"</span>,</span></span>
<span class="r-in"><span>            q <span class="op">=</span> <span class="st">"installation repo:r-lib/gh"</span>,</span></span>
<span class="r-in"><span>            .send_headers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"X-GitHub-Api-Version"</span> <span class="op">=</span> <span class="st">"2022-11-28"</span><span class="op">)</span></span></span>
<span class="r-in"><span>            <span class="op">)</span></span></span>
<span class="r-in"><span> <span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">x</span>, list.len <span class="op">=</span> <span class="fl">3</span>, give.attr <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://github.com/gaborcsardi" class="external-link">Gábor Csárdi</a>, <a href="https://jennybryan.org" class="external-link">Jennifer Bryan</a>, <a href="http://hadley.nz" class="external-link">Hadley Wickham</a>, <a href="https://www.rstudio.com" class="external-link"><img src="https://www.tidyverse.org/rstudio-logo.svg" alt="RStudio" width="72"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

  </div></footer></body></html>

